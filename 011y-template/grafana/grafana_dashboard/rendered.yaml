---
# Source: grafana-dashboard-uploader/templates/job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: release-name-grafana-dashboard-uploader
  labels:
    app.kubernetes.io/name: grafana-dashboard-uploader
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: 0.1.0
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: dashboard-uploader
spec:
  backoffLimit: 1
  template:
    spec:
      restartPolicy: Never
      containers:
        - name: uploader
          image: ubuntu:22.04
          command:
            - /bin/bash
            - -c
            - |
              set -eo pipefail
              echo "ðŸ“¦ Installing dependencies..."
              apt update && apt install -y curl jq uuid-runtime

              echo "ðŸ“ Writing embedded dashboards to disk..."
              mkdir -p /dashboards
              mkdir -p $(dirname /dashboards/Application/k8s_observability.json)
              cat > /dashboards/Application/k8s_observability.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "A dashboard to visualize application's deployment.",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 17,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 17,
                      "panels": [],
                      "title": "RED/USE Metrics",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage of pods in a specified namespace",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 1
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "avg cpu - {{ replicaset }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "AVG",
                          "step": 10
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "max by (replicaset, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "max cpu - {{ replicaset }}",
                          "range": true,
                          "refId": "MAX"
                        }
                      ],
                      "title": "CPU Core Usage by $application",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "request rate per minute over last 1 minutes",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "reqpm"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 1
                      },
                      "id": 14,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{service_name=\"$application\", span_kind=\"SPAN_KIND_SERVER\", http_route=~\"$route\"}[1m])) by (span_name)",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Request Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU throttling ratio for each container within a specific application in a Kubernetes namespace.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 9
                      },
                      "id": 20,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(increase(container_cpu_cfs_throttled_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", cluster=\"$cluster\"}[$__rate_interval])) by (container) /sum(increase(container_cpu_cfs_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", cluster=\"$cluster\"}[$__rate_interval])) by (container)",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{ pod }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "CPU Throttling",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 9
                      },
                      "id": 15,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "exemplar": false,
                          "expr": "histogram_quantile(0.99, sum by(le, service_name, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", route=~\"$route\"}[1m])))",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "P99",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "expr": "histogram_quantile(0.95, sum by(le, service_name, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", route=~\"$route\"}[1m])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "p95",
                          "range": true,
                          "refId": "B",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "expr": "histogram_quantile(0.9, sum by(le, service_name, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", route=~\"$route\"}[1m])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "p90",
                          "range": true,
                          "refId": "C",
                          "useBackend": false
                        }
                      ],
                      "title": "Latency $route",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "it showing the total memory used by pods for a specific deployment.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 1,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 16
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "asTable": true,
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n  container_memory_working_set_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "avg memory - {{ replicaset }}",
                          "range": true,
                          "refId": "AVG",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "max by (replicaset, deployment) (\n  container_memory_working_set_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "max memory - {{ replicaset }}",
                          "range": true,
                          "refId": "MAX"
                        }
                      ],
                      "title": "Memory Usage - $application",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows the percentage of successful and unsuccessful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 30
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle"
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 30
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 16
                      },
                      "id": 16,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_status_code=~\"^2.*|^3.*\", \n        http_route=~\"$route\"\n    }\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\", \n        http_route=~\"$route\"\n    }\n)",
                          "instant": false,
                          "legendFormat": "Success Rate",
                          "range": true,
                          "refId": "success"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_status_code!~\"^2.*|^3.*\", \n        http_route=~\"$route\"\n    }\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\", \n        http_route=~\"$route\"\n    }\n)",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "Error Rate",
                          "range": true,
                          "refId": "error"
                        }
                      ],
                      "title": "Success/Error Rate of $route",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 23
                      },
                      "id": 21,
                      "panels": [],
                      "title": "Logging",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "${logging}"
                      },
                      "description": "This will give logs of  services  for selected times range ",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 24
                      },
                      "id": 22,
                      "maxDataPoints": "",
                      "options": {
                        "dedupStrategy": "none",
                        "enableInfiniteScrolling": false,
                        "enableLogDetails": false,
                        "prettifyLogMessage": false,
                        "showCommonLabels": false,
                        "showLabels": false,
                        "showTime": false,
                        "sortOrder": "Descending",
                        "wrapLogMessage": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "${logging}"
                          },
                          "direction": "backward",
                          "editorMode": "code",
                          "expr": "{namespace=\"$namespace\", service_name=\"$application\"} |= `$search` | json | line_format `{{.log}}`",
                          "maxLines": 100,
                          "queryType": "range",
                          "refId": "A"
                        }
                      ],
                      "title": "Logs",
                      "type": "logs"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 31
                      },
                      "id": 19,
                      "panels": [],
                      "title": "Containers",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 3,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 32
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "asTable": true,
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "container_memory_working_set_bytes{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\", pod=~\"^$application.*$\", pod=~\"^$pods.*$\", container=~\"$container\"} * on (container, pod) group_left() (kube_pod_container_info * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset)))> 0) ",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "{{pod}} : {{container}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "Memory Usage - Containers",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 32
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\",pod=~\"^$application.*$\",namespace=\"$namespace\",pod=~\"^$pods.*$\",container=~\"^$container.*$\"}[5m])) by (pod, container) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{pod}} : {{container}}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "CPU Core Usage - Containers",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 40
                      },
                      "id": 25,
                      "panels": [],
                      "title": "Trace",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "tempo",
                        "uid": "${tempo}"
                      },
                      "description": "It will display traces(max 1000) within the specified time frame that have a duration of more than 150ms.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Trace ID"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 439
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 41
                      },
                      "id": 26,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Duration"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "tempo",
                            "uid": "${tempo}"
                          },
                          "filters": [
                            {
                              "id": "4e7e435e",
                              "operator": "=",
                              "scope": "span"
                            },
                            {
                              "id": "span-name",
                              "operator": "=",
                              "scope": "span",
                              "tag": "name",
                              "value": [],
                              "valueType": "string"
                            },
                            {
                              "id": "service-name",
                              "operator": "=",
                              "scope": "resource",
                              "tag": "service.name",
                              "value": [
                                "cms-qa-qa"
                              ],
                              "valueType": "string"
                            }
                          ],
                          "limit": 100,
                          "metricsQueryType": "range",
                          "query": "{resource.service.name=\"$application\" && (span.http.route=~\"$route\") && duration >= 1ms}",
                          "queryType": "traceql",
                          "refId": "A",
                          "spss": 3,
                          "tableType": "traces"
                        }
                      ],
                      "title": "Application Traces",
                      "type": "table"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 49
                      },
                      "id": 23,
                      "panels": [],
                      "title": "Events",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "${logging}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false,
                            "width": 20
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "pod"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 271
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "involvedObject"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 387
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Time"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 201
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Pod"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 226
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Message"
                            },
                            "properties": [
                              {
                                "id": "custom.width"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Reason"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 123
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 50
                      },
                      "id": 24,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "enablePagination": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": []
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "${logging}"
                          },
                          "editorMode": "code",
                          "expr": "{namespace=\"monitoring\", app=\"k8s-events\"} | json | namespace_extracted =~ `$namespace` | involvedObject =~ `^$application.*$`",
                          "queryType": "range",
                          "refId": "Pod"
                        }
                      ],
                      "title": "Pod Events",
                      "transformations": [
                        {
                          "id": "extractFields",
                          "options": {
                            "source": "labels"
                          }
                        },
                        {
                          "id": "filterFieldsByName",
                          "options": {
                            "include": {
                              "pattern": "Time|involvedObject|reason|msg"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {
                              "Time": 0,
                              "involvedObject": 1,
                              "msg": 3,
                              "reason": 2
                            },
                            "renameByName": {
                              "involvedObject": "Pod",
                              "msg": "Message",
                              "reason": "Reason"
                            }
                          }
                        },
                        {
                          "id": "convertFieldType",
                          "options": {
                            "conversions": [
                              {
                                "destinationType": "time",
                                "targetField": "Time"
                              }
                            ],
                            "fields": {}
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "exception_message"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 505
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "service_name"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 230
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "exported_job"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 260
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "span_name"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 181
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Time"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 184
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "events_total"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 47
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 58
                      },
                      "id": 27,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "enablePagination": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 0,
                        "showHeader": true,
                        "sortBy": []
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "expr": "events_total{span_kind=\"SPAN_KIND_CLIENT\", service_name=\"$application\"}",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "$application",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Application Events",
                      "transformations": [
                        {
                          "id": "labelsToFields",
                          "options": {
                            "keepLabels": [
                              "exception_message",
                              "service_name",
                              "span_name",
                              "status_code"
                            ]
                          }
                        }
                      ],
                      "type": "table"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "ot-dashboard"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "includeAll": false,
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values()",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "name": "cluster",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values()",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "bp-prod-dev",
                          "value": "bp-prod-dev"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace!~\"observability|logging|kube-system|monitoring\"},namespace)",
                        "includeAll": false,
                        "label": "Namespace",
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace!~\"observability|logging|kube-system|monitoring\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "bp-db",
                          "value": "bp-db"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                        "includeAll": false,
                        "label": "Deployment",
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                        "includeAll": true,
                        "label": "Pod",
                        "multi": true,
                        "name": "pods",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                        "includeAll": true,
                        "label": "Container",
                        "multi": true,
                        "name": "container",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values({http_route!~\"\", service_name=\"$application\"},http_route)",
                        "includeAll": true,
                        "label": "Route",
                        "multi": true,
                        "name": "route",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values({http_route!~\"\", service_name=\"$application\"},http_route)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "///",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "label": "Search",
                        "name": "search",
                        "options": [
                          {
                            "selected": true,
                            "text": "",
                            "value": ""
                          }
                        ],
                        "query": "",
                        "type": "textbox"
                      },
                      {
                        "current": {
                          "text": "logging",
                          "value": "logging"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "name": "logging",
                        "options": [],
                        "query": "loki",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "tempo",
                          "value": "tempo"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "name": "tempo",
                        "options": [],
                        "query": "tempo",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-3h",
                    "to": "now"
                  },
                  "timepicker": {
                    "refresh_intervals": [
                      "1m",
                      "5m",
                      "15m",
                      "30m",
                      "1h",
                      "2h",
                      "1d"
                    ]
                  },
                  "timezone": "browser",
                  "title": "Observability",
                  "uid": "adv9es3vs9vk0",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/Application/summary.json)
              cat > /dashboards/Application/summary.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "A dashboard to visualize application's deployment.",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 45,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 20,
                      "panels": [],
                      "title": "CPU Utilization ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage less than 40%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 9,
                        "x": 0,
                        "y": 1
                      },
                      "id": 19,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#FFCB7D",
                            "state": 0,
                            "value": 0
                          },
                          {
                            "color": "#ed8128",
                            "state": 1,
                            "value": 15
                          },
                          {
                            "color": "#f53636",
                            "state": 2,
                            "value": 30
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n    (\n        avg by (replicaset, namespace, cluster) (\n            label_replace(\n                rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}[1m]),\n                \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\"\n            )\n        )\n    )\n    *\n    on(replicaset) group_left(deployment)\n    kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n< 0.4",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{{ deployment }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Minimal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage greater than 40% and  less than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 8,
                        "x": 9,
                        "y": 1
                      },
                      "id": 21,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n    (\n        avg by (replicaset, namespace, cluster) (\n            label_replace(\n                rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}[1m]),\n                \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\"\n            )\n        )\n    )\n    *\n    on(replicaset) group_left(deployment)\n    kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n> 0.4\nand\navg by (replicaset, deployment) (\n    (\n        avg by (replicaset, namespace, cluster) (\n            label_replace(\n                rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}[1m]),\n                \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\"\n            )\n        )\n    )\n    *\n    on(replicaset) group_left(deployment)\n    kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n< 0.75 ",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{{ deployment }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Ideal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage greater than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 7,
                        "x": 17,
                        "y": 1
                      },
                      "id": 27,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#F2495C",
                            "state": 2,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n    (\n        avg by (replicaset, namespace, cluster) (\n            label_replace(\n                rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}[1m]),\n                \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\"\n            )\n        )\n    )\n    *\n    on(replicaset) group_left(deployment)\n    kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n> 0.75",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{{ deployment }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Excessive Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 14
                      },
                      "id": 23,
                      "panels": [],
                      "title": "Memory Utilization",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "memory usage less than 40%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 9,
                        "x": 0,
                        "y": 15
                      },
                      "id": 24,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "light-orange",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "last",
                        "globalPolygonBorderColor": "light-orange",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#FFCB7D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "(\n  avg by (replicaset, deployment) (\n    (\n      label_replace(container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n      /\n      label_replace(container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n    ) * 100\n  )\n  *\n  on(replicaset) group_left(deployment)\n  kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n< 40\n",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Minimal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "memory usage greater than 40% and less than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 9,
                        "y": 15
                      },
                      "id": 25,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "#710f26",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "last",
                        "globalPolygonBorderColor": "light-green",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "(\n  avg by (replicaset, deployment) (\n    (\n      label_replace(container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n      /\n      label_replace(container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n    ) * 100\n  )\n  *\n  on(replicaset) group_left(deployment)\n  kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n> 40 and \n(\n  avg by (replicaset, deployment) (\n    (\n      label_replace(container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n      /\n      label_replace(container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n    ) * 100\n  )\n  *\n  on(replicaset) group_left(deployment)\n  kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n< 75\n\n",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Ideal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "memory usage greater than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 7,
                        "x": 17,
                        "y": 15
                      },
                      "id": 26,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "#710f26",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "last",
                        "globalPolygonBorderColor": "semi-dark-red",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#F2495C",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "(\n  avg by (replicaset, deployment) (\n    (\n      label_replace(container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n      /\n      label_replace(container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n    ) * 100\n  )\n  *\n  on(replicaset) group_left(deployment)\n  kube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n> 75\n",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Excessive Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 26
                      },
                      "id": 34,
                      "panels": [],
                      "title": " Success Rate",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows the percentage of successful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 27
                      },
                      "id": 44,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "red",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "instant": false,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "< 90 Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows the percentage of successful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 27
                      },
                      "id": 43,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "super-light-orange",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "instant": false,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "> 90 and < 99.99 Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "alertmanager",
                        "uid": "alertmanager"
                      },
                      "description": "It shows the percentage of successful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 27
                      },
                      "id": 36,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "light-green",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "(\n  sum by (service_name, pod) (\n    traces_span_metrics_duration_milliseconds_count{span_kind=\"SPAN_KIND_SERVER\", http_status_code=~\"^2.*|^3.*\"}\n  )\n  /\n  sum by (service_name, pod) (\n    traces_span_metrics_duration_milliseconds_count{span_kind=\"SPAN_KIND_SERVER\"}\n  )\n) * 100 == 100\n",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "success"
                        }
                      ],
                      "title": "100% Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 37
                      },
                      "id": 29,
                      "panels": [],
                      "title": "Request Rate",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "request rate per minute over last 1 minutes",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 38
                      },
                      "id": 41,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#F2495C",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "reqpm",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 5,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "instant": false,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Inactive",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "request rate per minute over the last 1 minute",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 38
                      },
                      "id": 38,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#FFCB7D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "reqpm",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 5,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "instant": false,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Moderately Active",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "request rate per minute over last 1 minutes",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 38
                      },
                      "id": 42,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalCompositeValueFontSize": 14,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalGradientsEnabled": true,
                        "globalLabelFontSize": 12,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "reqpm",
                        "globalValueFontSize": 14,
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 5,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.15",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "instant": false,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Active",
                      "type": "grafana-polystat-panel"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "ot-dashboard"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values()",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "name": "cluster",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values()",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "otel-demo",
                          "value": "otel-demo"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=~\"otel-demo\"},namespace)",
                        "hide": 2,
                        "includeAll": false,
                        "label": "Namespace",
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=~\"otel-demo\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "accounting",
                          "value": "accounting"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                        "hide": 2,
                        "includeAll": false,
                        "label": "Deployment",
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                        "hide": 2,
                        "includeAll": true,
                        "label": "Pod",
                        "multi": true,
                        "name": "pods",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": [
                            "All"
                          ],
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "prometheus"
                        },
                        "definition": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                        "hide": 2,
                        "includeAll": true,
                        "label": "Container",
                        "multi": true,
                        "name": "container",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": [
                            "All"
                          ],
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "edwh2rb33tbswa"
                        },
                        "definition": "label_values({http_route!~\"\", service_name=\"$application\"},http_route)",
                        "hide": 2,
                        "includeAll": true,
                        "label": "Route",
                        "multi": true,
                        "name": "route",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values({http_route!~\"\", service_name=\"$application\"},http_route)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "///",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "hide": 2,
                        "label": "Search",
                        "name": "search",
                        "options": [
                          {
                            "selected": true,
                            "text": "",
                            "value": ""
                          }
                        ],
                        "query": "",
                        "type": "textbox"
                      },
                      {
                        "current": {
                          "text": "logging",
                          "value": "logging"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "name": "logging",
                        "options": [],
                        "query": "loki",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "tempo",
                          "value": "tempo"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "name": "tempo",
                        "options": [],
                        "query": "tempo",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-5m",
                    "to": "now"
                  },
                  "timepicker": {
                    "refresh_intervals": [
                      "1m",
                      "5m",
                      "15m",
                      "30m",
                      "1h",
                      "2h",
                      "1d"
                    ]
                  },
                  "timezone": "browser",
                  "title": "Summary",
                  "uid": "ae3uc5jpzvawwa1",
                  "version": 15
                }
                
EOF
              mkdir -p $(dirname /dashboards/Database/MongoDB.json)
              cat > /dashboards/Database/MongoDB.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 20,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 2,
                      "panels": [],
                      "title": "Overview & Health",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This shows how many users or apps are connected to the database.\nâ€œActiveâ€ means currently doing work, and â€œCurrentâ€ means total open connections.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 9,
                        "x": 0,
                        "y": 1
                      },
                      "id": 5,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "mongodb_connection_count{type!=\"available\"}",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "{{type}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Total Connections",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tells how many documents or records are stored in the database.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 5,
                        "x": 9,
                        "y": 1
                      },
                      "id": 8,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_object_count",
                          "instant": false,
                          "legendFormat": "Object",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Objects (Documents)",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the number of separate databases running inside your setup.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 5,
                        "x": 14,
                        "y": 1
                      },
                      "id": 6,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_database_count",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Databases",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many collections (like tables) are created in all databases.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 5,
                        "x": 19,
                        "y": 1
                      },
                      "id": 7,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_collection_count",
                          "instant": false,
                          "legendFormat": "collection",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Collections",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much RAM is being used by the database.\nIf this is too high, your system may slow down.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 9
                      },
                      "id": 10,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_memory_usage_bytes{type=\"resident\"}",
                          "instant": false,
                          "legendFormat": "{{type}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": " Memory Usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tells how much data is saved on your disk.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_data_size_bytes",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Data Size On Disk",
                      "type": "gauge"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 17
                      },
                      "id": 3,
                      "panels": [],
                      "title": "Operations & Throughput",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many database operations are happening per second.\nLike how many queries, commands, or changes are being made.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "dash": [
                                10,
                                10
                              ],
                              "fill": "dash"
                            },
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 18
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (rate(mongodb_operation_count_total[5m]))",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": " Total Operations",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph specifically tracks the rate of document-level operations (inserts, queries, updates, deletes, getsmore, commands). This helps understand the intensity of CRUD (Create, Read, Update, Delete) activity.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 18
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (rate(mongodb_document_operation_count[5m]))",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Document Operations",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much data is coming into the database.\nThis includes requests, queries, etc.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 26
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mongodb_network_io_receive_bytes[5m])",
                          "instant": false,
                          "legendFormat": "I/O Received",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "hide": false,
                          "instant": false,
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network Inbound Traffic",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much data the database is sending out, like responses.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 26
                      },
                      "id": 14,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mongodb_network_io_transmit_bytes[5m])",
                          "instant": false,
                          "legendFormat": "I/O transmit",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Network Outbound Traffic",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays how many total requests are hitting the database.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 34
                      },
                      "id": 15,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mongodb_network_request_count[5m])",
                          "instant": false,
                          "legendFormat": "request_count",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": " Network Requests ",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 42
                      },
                      "id": 4,
                      "panels": [],
                      "title": "Cursors & Caching",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many read operations are still open and running.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 0,
                        "y": 43
                      },
                      "id": 16,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_cursor_count",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Active Cursors",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tells whether data is being fetched from cache or not.\nâ€œHitâ€ means data was found in cache (fast), â€œmissâ€ means it wasnâ€™t (slow).Tells whether data is being fetched from cache or not.\nâ€œHitâ€ means data was found in cache (fast), â€œmissâ€ means it wasnâ€™t (slow).",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 12,
                        "y": 43
                      },
                      "id": 17,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mongodb_cache_operations_total[5m])",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Cache Read Operations",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 48
                      },
                      "id": 18,
                      "panels": [],
                      "title": " Indexing & Locking",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much space is used by indexes.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 6,
                        "x": 0,
                        "y": 49
                      },
                      "id": 20,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_index_size_bytes",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Index Size",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": " This panel shows the total number of indexes defined across all collections in all databases.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 6,
                        "x": 6,
                        "y": 49
                      },
                      "id": 19,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mongodb_index_count",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Indexes",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the percentage of time the MongoDB server has spent holding a global write lock. A high or increasing percentage indicates that write operations are frequently blocking other operations (including reads), leading to poor concurrency and slow performance. This is a critical metric for identifying write contention.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 49
                      },
                      "id": 21,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mongodb_global_lock_time_milliseconds_total[5m])/ 1000 * 100  # Convert ms to seconds, then to % of 1 second",
                          "instant": false,
                          "legendFormat": "global_lock",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "hide": false,
                          "instant": false,
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Global Lock Time ",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-6h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "MongoDB",
                  "uid": "eeoyaov1butj4b",
                  "version": 15
                }
                
EOF
              mkdir -p $(dirname /dashboards/Database/MySql.json)
              cat > /dashboards/Database/MySql.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 11,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 2,
                      "panels": [],
                      "title": "Overview & Health",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "This panel displays the total time, in seconds, that the MySQL server has been running since its last restart",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 0,
                        "y": 1
                      },
                      "id": 1,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "mysql_uptime_seconds_total",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Uptime",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": " This panel shows the total number of active client connections or threads currently connected to the MySQL server.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 16,
                        "x": 8,
                        "y": 1
                      },
                      "id": 3,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mysql_threads\r\n",
                          "instant": false,
                          "legendFormat": "{{kind}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Connections",
                      "type": "gauge"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 9
                      },
                      "id": 4,
                      "panels": [],
                      "title": "InnoDB Buffer Pool",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows operations  hitting the InnoDB Buffer Pool per second. ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 10
                      },
                      "id": 7,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mysql_buffer_pool_operations_total[5m])",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Buffer Pool Operations Per Second",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This panel shows the maximum configured size of the InnoDB Buffer Pool. Comparing this with 'Buffer Pool Usage' helps determine how much of the allocated memory is actually being utilized.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 10
                      },
                      "id": 6,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mysql_buffer_pool_limit_bytes\r\n",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": " Buffer Pool Limit",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This panel displays the amount of memory currently used by the InnoDB Buffer Pool. This reflects the working set of your data and indexes that are actively cached in memory.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 18
                      },
                      "id": 5,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "mysql_buffer_pool_usage_bytes",
                          "instant": false,
                          "legendFormat": "{{status}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": " Buffer Pool Usage",
                      "type": "stat"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 26
                      },
                      "id": 8,
                      "panels": [],
                      "title": " Operations & Workload",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": " This graph displays the total rate of all commands (like SELECT, INSERT, UPDATE, DELETE) processed by the MySQL server per second. It provides an overall view of the database workload.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "cmd/sec"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 27
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum by (command) (rate(mysql_operations_total[5m]))",
                          "instant": false,
                          "legendFormat": "Operations_total",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Commands Processed Per Second",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": " This graph shows the rate of various low-level handler operations (e.g., handler_read_rnd_next, handler_update) that InnoDB performs on tables. These indicate how frequently MySQL accesses rows and indexes.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 27
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (rate(mysql_handlers_total[5m]))",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Handler Operations ",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 35
                      },
                      "id": 12,
                      "panels": [],
                      "title": "Locking ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the rate of all types of locks acquired by the MySQL server per second. A high rate doesn't necessarily indicate a problem, but it's important to correlate with 'Contention Rate'",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": " locks/sec"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 36
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum by (lock_type) (rate(mysql_locks_total[5m]))",
                          "instant": false,
                          "legendFormat": "lock_total",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Locks",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": " This graph specifically shows the rate at which transactions are waiting to acquire row-level locks. Frequent or long row lock waits are a strong indicator of concurrency issues, hot spots in your database, or inefficient transaction management in your application.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "wait/sec"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 36
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mysql_row_locks_total[5m])",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Row Locks ",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 44
                      },
                      "id": 15,
                      "panels": [],
                      "title": "Disk & Temporary Resources",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the rate of \"double writes\" per second. InnoDB uses a doublewrite buffer as a recovery mechanism to ensure data integrity during crashes. A high rate is normal for busy systems, but it represents additional I/O overhead",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "wps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 45
                      },
                      "id": 14,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(mysql_double_writes_total[5m])",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Double Writes Per Second",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the rate at which MySQL is opening new file descriptors, tables, or sockets. A continuously high or increasing rate can indicate that table_open_cache or open_files_limit might need tuning, or that your application is frequently opening and closing connections/tables.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": " resources/sec"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 45
                      },
                      "id": 16,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum by (resource_type) (rate(mysql_opened_resources_total[5m]))",
                          "instant": false,
                          "legendFormat": "opened_resources",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Opened Files/Tables",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-6h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "MySql",
                  "uid": "feoy6s8orho8wc",
                  "version": 17
                }
                
EOF
              mkdir -p $(dirname /dashboards/Database/Postgresql.json)
              cat > /dashboards/Database/Postgresql.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 10,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 2,
                      "panels": [],
                      "title": "Database Performance & Health Summary",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph illustrates the percentage of transactions that are rolled back compared to the total number of transactions. A high or increasing ratio of rollbacks often points to application errors, contention (locks), or deadlocks that prevent transactions from completing successfully. Ideally, this should be close to 0%.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 1
                      },
                      "id": 5,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "(rate(postgresql_rollbacks_total[5m]) / (rate(postgresql_commits_total[5m]) + rate(postgresql_rollbacks_total[5m]))) * 100",
                          "instant": false,
                          "legendFormat": "rollback_rate ",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Rollback Rate Ratio",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This panel calculates the average daily growth rate of your total database size over the last 24 hours. A significant or accelerating growth rate can alert you to potential disk space issues or unexpected data ingestion.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 1
                      },
                      "id": 3,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "deriv(postgresql_db_size_bytes[24h]) * 60 * 60 * 24",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": " Database Size Growth Rate",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the combined rate of both committed and rolled-back transactions per second. It provides a holistic view of the overall transaction throughput, indicating the total workload on your database.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "trans/sec"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 9
                      },
                      "id": 4,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(postgresql_commits_total[5m]) + rate(postgresql_rollbacks_total[5m])",
                          "instant": false,
                          "legendFormat": "transactions",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Transactions Per Second",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This panel displays the percentage of currently active connections relative to the maximum allowed connections. A value consistently above 80-90% might indicate a need to increase max_connections or optimize connection pooling, as it suggests the database is nearing its connection limit.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 9
                      },
                      "id": 1,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "(postgresql_backends / postgresql_connection_max) * 100",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "hide": false,
                          "instant": false,
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Active Connections",
                      "type": "stat"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 17
                      },
                      "id": 6,
                      "panels": [],
                      "title": "Background Writer & Checkpoint Deep Dive",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the rate at which the Background Writer hits its bgwriter_lru_maxpages limit (i.e., it stopped writing because it wrote too many buffers). A non-zero or increasing rate here indicates that the bgwriter is struggling to keep up with the dirty buffer workload, forcing it to stop prematurely. This can lead to more frequent checkpoints or I/O contention.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 18
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(postgresql_bgwriter_maxwritten_total[5m])",
                          "instant": false,
                          "legendFormat": "bg_writer_event ",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Background Writer \"Max Written\" Events Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the average time, in milliseconds, the PostgreSQL Background Writer takes to write a single data buffer to disk, calculated over a 5-minute rolling window. A higher value suggests that your disk I/O might be slow or experiencing contention, directly impacting PostgreSQL's write performance and overall system responsiveness. It helps identify I/O bottlenecks.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 18
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg_over_time(rate(postgresql_bgwriter_duration_milliseconds_total[1m])[5m:]) / avg_over_time(rate(postgresql_bgwriter_buffers_writes_total[1m])[5m:] or 1)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Background Writer: Avg Milliseconds Per Buffer Write",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph shows the ratio of buffers actually written by the Background Writer to the buffers it allocated. A low percentage could suggest that the bgwriter is allocating more buffers than it effectively writes, potentially indicating inefficient write patterns or insufficient write-ahead log (WAL) activity to fill those buffers.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 26
                      },
                      "id": 7,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "(irate(postgresql_bgwriter_buffers_writes_total[5m]) / (irate(postgresql_bgwriter_buffers_allocated_total[5m]) or 1)) * 100",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Background Writer Buffer Efficiency",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This graph displays the average number of checkpoints occurring per hour. Frequent checkpoints (e.g., every few minutes) can cause significant I/O spikes and impact performance. It's often controlled by checkpoint_timeout and max_wal_size. Ideally, checkpoints should happen primarily due to time and not excessive WAL generation.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "cp/hr"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 26
                      },
                      "id": 8,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(postgresql_bgwriter_checkpoint_count_total[1h]) * 3600",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Checkpoints Per Hour",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-6h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Postgresql",
                  "uid": "eeoy2uqpjwsn4f",
                  "version": 16
                }
                
EOF
              mkdir -p $(dirname /dashboards/Kubernetes/CoreDns.json)
              cat > /dashboards/Kubernetes/CoreDns.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "This is a modern CoreDNS dashboard for your Kubernetes cluster(s). Made for kube-prometheus-stack and take advantage of the latest Grafana features. GitHub repository: https://github.com/dotdc/grafana-dashboards-kubernetes",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 19,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows if each CoreDNS instance is UP or DOWN. Useful for instantly knowing if DNS services are working.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "0": {
                                  "text": "DOWN"
                                },
                                "1": {
                                  "text": "UP"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "red"
                              },
                              {
                                "color": "green",
                                "value": 1
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 25,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "vertical",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "value_and_name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "up{job=~\"$job\", instance=~\"$instance\", cluster=~\"$cluster\"}",
                          "interval": "",
                          "legendFormat": "{{ instance }}",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Health Status",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the percentage of CPU being used by each CoreDNS instance.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 3
                      },
                      "id": 19,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\", cluster=~\"$cluster\"}[$__rate_interval])",
                          "interval": "$resolution",
                          "legendFormat": "{{ instance }}",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - CPU Usage by instance",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much memory (RAM) each CoreDNS instance is using. ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 3
                      },
                      "id": 21,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance\", cluster=~\"$cluster\"}",
                          "interval": "",
                          "legendFormat": "{{ instance }}",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Memory Usage by instance",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This panel shows how long most DNS requests take.\nThe value means 95 out of 100 DNS requests are faster than this time.\nIt helps you check if DNS is getting slow.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 6,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 11
                      },
                      "id": 30,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.95, rate(coredns_dns_request_duration_seconds_bucket[5m]))\r\n",
                          "instant": false,
                          "legendFormat": "{{instance}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "DNS Request Duration (P95)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the average size (in bytes) of DNS packets received .",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 11
                      },
                      "id": 7,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(coredns_dns_request_size_bytes_sum{instance=~\"$instance\",proto=\"$protocol\", cluster=~\"$cluster\"}[$__rate_interval])) by (proto) / sum(rate(coredns_dns_request_size_bytes_count{instance=~\"$instance\",proto=\"$protocol\", cluster=~\"$cluster\"}[$__rate_interval])) by (proto)",
                          "interval": "$resolution",
                          "legendFormat": "average $protocol packet size",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Average Packet Size  ($protocol)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the total number of DNS queries being processed .",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 19
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(coredns_dns_requests_total{instance=~\"$instance\",proto=\"$protocol\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "total $protocol requests",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Total DNS Requests ($protocol)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how CoreDNS is responding to DNS queries.\n\nCommon return codes:\n- NOERROR : Success â€“ record found\n- NXDOMAIN : Name not found â€“ domain doesn't exist\n- SERVFAIL : Server failure â€“ CoreDNS or backend issue\n\nHelps detect DNS issues like misconfigurations.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 19
                      },
                      "id": 4,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(coredns_dns_responses_total{instance=~\"$instance\", cluster=~\"$cluster\"}[$__rate_interval])) by (rcode)",
                          "interval": "$resolution",
                          "legendFormat": "{{ rcode }}",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Requests by return code",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows what types of DNS queries CoreDNS is receiving.\n\nCommon types:\n- A: Looks up IPv4 address\n- AAAA: Looks up IPv6 address\n- NS: Name server lookup\n- SRV: Service discovery\n\nUseful to understand what kinds of lookups are being made by applications.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 27
                      },
                      "id": 2,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(coredns_dns_requests_total{instance=~\"$instance\", cluster=~\"$cluster\"}[$__rate_interval])) by (type)",
                          "interval": "$resolution",
                          "legendFormat": "{{ type }}",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Requests by type",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the size of CoreDNS cache in bytes.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 27
                      },
                      "id": 15,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(coredns_cache_entries{ cluster=~\"$cluster\"}) by (type)",
                          "interval": "",
                          "legendFormat": "{{ type }}",
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - Cache Size",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how often CoreDNS is answering from its cache.\n\n- success: Queries served from cache\n- misses: Cache not found, queried upstream\n- denial: Cache denied the query\n\nUseful to understand cache performance and effectiveness.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 35
                      },
                      "id": 17,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(coredns_cache_hits_total{instance=~\"$instance\", cluster=~\"$cluster\"}[$__rate_interval])) by (type)",
                          "interval": "$resolution",
                          "legendFormat": "{{ type }}",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(coredns_cache_misses_total{instance=~\"$instance\", cluster=~\"$cluster\"}[$__rate_interval])) by (type)",
                          "interval": "$resolution",
                          "legendFormat": "misses",
                          "refId": "B"
                        }
                      ],
                      "title": "CoreDNS - Cache Hits / Misses",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the size (in bytes/kilobytes) of incoming DNS queries.\n\nSmaller values are normal (100â€“500B). Larger sizes may indicate complex queries or abuse.\n\nUseful for spotting unusual or oversized DNS requests.",
                      "fieldConfig": {
                        "defaults": {
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "scaleDistribution": {
                              "type": "linear"
                            }
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 12,
                        "y": 35
                      },
                      "id": 28,
                      "options": {
                        "calculate": false,
                        "cellGap": 1,
                        "color": {
                          "exponent": 0.5,
                          "fill": "dark-orange",
                          "mode": "scheme",
                          "reverse": false,
                          "scale": "exponential",
                          "scheme": "RdYlBu",
                          "steps": 64
                        },
                        "exemplars": {
                          "color": "rgba(255,0,255,0.7)"
                        },
                        "filterValues": {
                          "le": 1e-9
                        },
                        "legend": {
                          "show": true
                        },
                        "rowsFrame": {
                          "layout": "auto"
                        },
                        "tooltip": {
                          "mode": "single",
                          "showColorScale": false,
                          "yHistogram": false
                        },
                        "yAxis": {
                          "axisPlacement": "left",
                          "reverse": false,
                          "unit": "decbytes"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(increase(coredns_dns_request_size_bytes_bucket{instance=~\"$instance\", le!=\"0\", cluster=~\"$cluster\"}[$__rate_interval])) by (le)",
                          "format": "heatmap",
                          "legendFormat": "{{le}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - DNS request size",
                      "type": "heatmap"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how long DNS queries are taking to respond.\n",
                      "fieldConfig": {
                        "defaults": {
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "scaleDistribution": {
                              "type": "linear"
                            }
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 0,
                        "y": 43
                      },
                      "id": 27,
                      "options": {
                        "calculate": false,
                        "cellGap": 1,
                        "color": {
                          "exponent": 0.5,
                          "fill": "dark-orange",
                          "mode": "scheme",
                          "reverse": false,
                          "scale": "exponential",
                          "scheme": "RdYlBu",
                          "steps": 64
                        },
                        "exemplars": {
                          "color": "rgba(255,0,255,0.7)"
                        },
                        "filterValues": {
                          "le": 1e-9
                        },
                        "legend": {
                          "show": true
                        },
                        "rowsFrame": {
                          "layout": "auto"
                        },
                        "tooltip": {
                          "mode": "single",
                          "showColorScale": false,
                          "yHistogram": false
                        },
                        "yAxis": {
                          "axisPlacement": "left",
                          "reverse": false,
                          "unit": "s"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(increase(coredns_dns_request_duration_seconds_bucket{instance=~\"$instance\", cluster=~\"$cluster\"}[$__rate_interval])) by (le)",
                          "format": "heatmap",
                          "legendFormat": "{{le}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - DNS request duration",
                      "type": "heatmap"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays how big the responses from CoreDNS are (in bytes or kilobytes).\n",
                      "fieldConfig": {
                        "defaults": {
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "scaleDistribution": {
                              "type": "linear"
                            }
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 0,
                        "y": 53
                      },
                      "id": 29,
                      "options": {
                        "calculate": false,
                        "cellGap": 1,
                        "color": {
                          "exponent": 0.5,
                          "fill": "dark-orange",
                          "mode": "scheme",
                          "reverse": false,
                          "scale": "exponential",
                          "scheme": "RdYlBu",
                          "steps": 64
                        },
                        "exemplars": {
                          "color": "rgba(255,0,255,0.7)"
                        },
                        "filterValues": {
                          "le": 1e-9
                        },
                        "legend": {
                          "show": true
                        },
                        "rowsFrame": {
                          "layout": "auto"
                        },
                        "tooltip": {
                          "mode": "single",
                          "showColorScale": false,
                          "yHistogram": false
                        },
                        "yAxis": {
                          "axisPlacement": "left",
                          "reverse": false,
                          "unit": "decbytes"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(increase(coredns_dns_response_size_bytes_bucket{instance=~\"$instance\", le!=\"0\", cluster=~\"$cluster\"}[$__rate_interval])) by (le)",
                          "format": "heatmap",
                          "legendFormat": "{{le}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CoreDNS - DNS response size",
                      "type": "heatmap"
                    }
                  ],
                  "preload": false,
                  "refresh": "30s",
                  "schemaVersion": 41,
                  "tags": [
                    "Kubernetes",
                    "Prometheus",
                    "vm-k8s-stack"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "includeAll": false,
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": ".*",
                          "value": ".*"
                        },
                        "hide": 2,
                        "name": "cluster",
                        "query": ".*",
                        "skipUrlSync": true,
                        "type": "constant"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(up{job=\"$job\", cluster=~\"$cluster\"},instance)",
                        "includeAll": true,
                        "name": "instance",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(up{job=\"$job\", cluster=~\"$cluster\"},instance)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": "udp,tcp",
                        "current": {
                          "text": "udp",
                          "value": "udp"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(coredns_dns_requests_total{ cluster=~\"$cluster\"}, proto)",
                        "includeAll": false,
                        "name": "protocol",
                        "options": [],
                        "query": {
                          "query": "label_values(coredns_dns_requests_total{ cluster=~\"$cluster\"}, proto)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "30s",
                          "value": "30s"
                        },
                        "includeAll": false,
                        "name": "resolution",
                        "options": [
                          {
                            "selected": false,
                            "text": "1s",
                            "value": "1s"
                          },
                          {
                            "selected": false,
                            "text": "15s",
                            "value": "15s"
                          },
                          {
                            "selected": true,
                            "text": "30s",
                            "value": "30s"
                          },
                          {
                            "selected": false,
                            "text": "1m",
                            "value": "1m"
                          },
                          {
                            "selected": false,
                            "text": "3m",
                            "value": "3m"
                          },
                          {
                            "selected": false,
                            "text": "5m",
                            "value": "5m"
                          }
                        ],
                        "query": "1s, 15s, 30s, 1m, 3m, 5m",
                        "type": "custom"
                      },
                      {
                        "current": {
                          "text": [
                            "core-dns"
                          ],
                          "value": [
                            "core-dns"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(coredns_build_info{ cluster=~\"$cluster\"},job)",
                        "includeAll": false,
                        "multi": true,
                        "name": "job",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(coredns_build_info{ cluster=~\"$cluster\"},job)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "CoreDNS",
                  "uid": "k8s_system_coredns",
                  "version": 19
                }
                
EOF
              mkdir -p $(dirname /dashboards/Kubernetes/Global.json)
              cat > /dashboards/Kubernetes/Global.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "This is a modern 'Global View' dashboard for your Kubernetes cluster(s). Made for kube-prometheus-stack and take advantage of the latest Grafana features. GitHub repository: https://github.com/dotdc/grafana-dashboards-kubernetes",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 16,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 67,
                      "panels": [],
                      "title": "Overview",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays actual CPU usage along with requested and limited CPU across the cluster in percentage.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd"
                          },
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 6,
                        "x": 0,
                        "y": 1
                      },
                      "id": 77,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 300,
                        "minVizHeight": 10,
                        "minVizWidth": 0,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "auto",
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "avg(sum by (instance, cpu) (rate(node_cpu_seconds_total{mode!~\"idle|iowait|steal\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])))",
                          "interval": "",
                          "legendFormat": "Real Linux",
                          "range": true,
                          "refId": "Real Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "avg(sum by (core) (rate(windows_cpu_time_total{mode!=\"idle\", cluster=~\"$cluster\"}[$__rate_interval])))",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "Real Windows",
                          "range": true,
                          "refId": "Real Windows"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_requests{resource=\"cpu\", cluster=~\"$cluster\"}) / sum(machine_cpu_cores{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Requests",
                          "range": true,
                          "refId": "Requests"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_limits{resource=\"cpu\", cluster=~\"$cluster\"}) / sum(machine_cpu_cores{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Limits",
                          "range": true,
                          "refId": "Limits"
                        }
                      ],
                      "title": "Global CPU  Usage",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Real",
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [
                                "Real Linux",
                                "Real Windows"
                              ],
                              "reducer": "mean"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Real Linux": true,
                              "Real Windows": true,
                              "Time": true
                            },
                            "indexByName": {
                              "Limits": 5,
                              "Real": 1,
                              "Real Linux": 2,
                              "Real Windows": 3,
                              "Requests": 4,
                              "Time": 0
                            },
                            "renameByName": {}
                          }
                        }
                      ],
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the real memory usage along with memory requests and limits for all workloads in percentage .\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 6,
                        "x": 6,
                        "y": 1
                      },
                      "id": 78,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 300,
                        "minVizHeight": 10,
                        "minVizWidth": 0,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "auto",
                        "text": {},
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(node_memory_MemTotal_bytes{ cluster=~\"$cluster\", job=\"$job\"} - node_memory_MemAvailable_bytes{ cluster=~\"$cluster\", job=\"$job\"}) / sum(node_memory_MemTotal_bytes{ cluster=~\"$cluster\", job=\"$job\"})",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "Real Linux",
                          "range": true,
                          "refId": "Real Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(windows_memory_available_bytes{ cluster=~\"$cluster\"} + windows_memory_cache_bytes{ cluster=~\"$cluster\"}) / sum(windows_os_visible_memory_bytes{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Real Windows",
                          "range": true,
                          "refId": "Real Windows"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_requests{resource=\"memory\", cluster=~\"$cluster\"}) / sum(machine_memory_bytes{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Requests",
                          "range": true,
                          "refId": "Requests"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_limits{resource=\"memory\", cluster=~\"$cluster\"}) / sum(machine_memory_bytes{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Limits",
                          "range": true,
                          "refId": "Limits"
                        }
                      ],
                      "title": "Global RAM Usage",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Real",
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [
                                "Real Linux",
                                "Real Windows"
                              ],
                              "reducer": "mean"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Real Linux": true,
                              "Real Windows": true,
                              "Time": true
                            },
                            "includeByName": {},
                            "indexByName": {
                              "Limits": 5,
                              "Real": 3,
                              "Real Linux": 1,
                              "Real Windows": 2,
                              "Requests": 4,
                              "Time": 0
                            },
                            "renameByName": {}
                          }
                        }
                      ],
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Total number of Kubernetes nodes currently part of the cluster.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "blue"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 2,
                        "x": 12,
                        "y": 1
                      },
                      "id": 63,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "value",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "count(count by (node) (kube_node_info{ cluster=~\"$cluster\"}))",
                          "interval": "",
                          "legendFormat": "",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Nodes",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Provides the count of key Kubernetes resources like pods, services, secrets, and volumes over time.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 12,
                        "w": 10,
                        "x": 14,
                        "y": 1
                      },
                      "id": 52,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(kube_namespace_labels{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Namespaces",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_container_status_running{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Running Containers",
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Running Pods",
                          "refId": "O"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_service_info{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Services",
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_endpoint_info{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Endpoints",
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_ingress_info{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Ingresses",
                          "refId": "E"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_deployment_labels{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Deployments",
                          "refId": "F"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_statefulset_labels{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Statefulsets",
                          "refId": "G"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_daemonset_labels{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Daemonsets",
                          "refId": "H"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_persistentvolumeclaim_info{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Persistent Volume Claims",
                          "refId": "I"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_hpa_labels{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Horizontal Pod Autoscalers",
                          "refId": "J"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_configmap_info{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Configmaps",
                          "refId": "K"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_secret_info{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Secrets",
                          "refId": "L"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_networkpolicy_labels{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Network Policies",
                          "refId": "M"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "count(count by (node) (kube_node_info{ cluster=~\"$cluster\"}))",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "Nodes",
                          "refId": "N"
                        }
                      ],
                      "title": "Kubernetes Resource Count",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Total count of namespaces in the cluster, representing isolated environments.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "blue"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 2,
                        "x": 12,
                        "y": 5
                      },
                      "id": 59,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "value",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "count(kube_namespace_created{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "",
                          "refId": "A"
                        }
                      ],
                      "title": "Namespaces",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows actual CPU usage in cores, along with requested and limit values across the cluster.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 0,
                        "y": 9
                      },
                      "id": 37,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(node_cpu_seconds_total{mode!~\"idle|iowait|steal\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval]))",
                          "interval": "",
                          "legendFormat": "Real Linux",
                          "range": true,
                          "refId": "Real Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(windows_cpu_time_total{mode!=\"idle\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "Real Windows",
                          "range": true,
                          "refId": "Real Windows"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_requests{resource=\"cpu\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Requests",
                          "range": true,
                          "refId": "Requests"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_limits{resource=\"cpu\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Limits",
                          "range": true,
                          "refId": "Limits"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(machine_cpu_cores{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Total",
                          "range": true,
                          "refId": "Total"
                        }
                      ],
                      "title": "CPU Usage",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Real",
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [
                                "Real Linux",
                                "Real Windows"
                              ],
                              "reducer": "sum"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Real Linux": true,
                              "Real Windows": true,
                              "Time": true,
                              "Total Linux": true,
                              "Total Windows": true
                            },
                            "indexByName": {
                              "Limits": 5,
                              "Real": 3,
                              "Real Linux": 1,
                              "Real Windows": 2,
                              "Requests": 4,
                              "Time": 0,
                              "Total": 8,
                              "Total Linux": 6,
                              "Total Windows": 7
                            },
                            "renameByName": {}
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays actual RAM usage in GiB, along with requested and maximum allowed values.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 6,
                        "y": 9
                      },
                      "id": 39,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(node_memory_MemTotal_bytes{ cluster=~\"$cluster\", job=\"$job\"} - node_memory_MemAvailable_bytes{ cluster=~\"$cluster\", job=\"$job\"})",
                          "interval": "",
                          "legendFormat": "Real Linux",
                          "range": true,
                          "refId": "Real Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(windows_os_visible_memory_bytes{ cluster=~\"$cluster\"} - windows_memory_available_bytes{ cluster=~\"$cluster\"} - windows_memory_cache_bytes{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "Real Windows",
                          "range": true,
                          "refId": "Real Windows"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_requests{resource=\"memory\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Requests",
                          "range": true,
                          "refId": "Requests"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_limits{resource=\"memory\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Limits",
                          "range": true,
                          "refId": "Limits"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(machine_memory_bytes{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Total",
                          "range": true,
                          "refId": "Total"
                        }
                      ],
                      "title": "RAM Usage",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Real",
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [
                                "Real Linux",
                                "Real Windows"
                              ],
                              "reducer": "mean"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Real Linux": true,
                              "Real Windows": true,
                              "Time": true
                            },
                            "includeByName": {},
                            "indexByName": {
                              "Limits": 5,
                              "Real": 3,
                              "Real Linux": 1,
                              "Real Windows": 2,
                              "Requests": 4,
                              "Time": 0,
                              "Total": 6
                            },
                            "renameByName": {}
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Indicates the total number of currently running pods in the cluster.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "blue"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 2,
                        "x": 12,
                        "y": 9
                      },
                      "id": 62,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "value",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_status_phase{phase=\"Running\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "",
                          "refId": "A"
                        }
                      ],
                      "title": "Running Pods",
                      "type": "stat"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 13
                      },
                      "id": 71,
                      "panels": [],
                      "title": "Resources",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the overall CPU usage (%) of the whole Kubernetes cluster over time.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd",
                            "seriesBy": "last"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "CPU %",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "yellow",
                                "value": 0.5
                              },
                              {
                                "color": "red",
                                "value": 0.7
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 14
                      },
                      "id": 72,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "avg(sum by (instance, cpu) (rate(node_cpu_seconds_total{mode!~\"idle|iowait|steal\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])))",
                          "interval": "$resolution",
                          "legendFormat": "Linux",
                          "range": true,
                          "refId": "Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "1 - avg(rate(windows_cpu_time_total{ cluster=~\"$cluster\",mode=\"idle\"}[$__rate_interval]))",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Windows",
                          "range": true,
                          "refId": "Windows"
                        }
                      ],
                      "title": "Cluster CPU Utilization",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "CPU usage in %",
                            "mode": "reduceRow",
                            "reduce": {
                              "reducer": "mean"
                            },
                            "replaceFields": true
                          }
                        }
                      ],
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the total memory usage (%) across the entire cluster over time.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "MEMORY",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 0.5
                              },
                              {
                                "color": "red",
                                "value": 0.7
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 14
                      },
                      "id": 55,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull",
                            "max",
                            "min"
                          ],
                          "displayMode": "hidden",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(node_memory_MemTotal_bytes{ cluster=~\"$cluster\", job=\"$job\"} - node_memory_MemAvailable_bytes{ cluster=~\"$cluster\", job=\"$job\"}) / sum(node_memory_MemTotal_bytes{ cluster=~\"$cluster\", job=\"$job\"})",
                          "interval": "$resolution",
                          "legendFormat": "Linux",
                          "range": true,
                          "refId": "Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(windows_os_visible_memory_bytes{ cluster=~\"$cluster\"} - windows_memory_available_bytes{ cluster=~\"$cluster\"}) / sum(windows_os_visible_memory_bytes{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Windows",
                          "range": true,
                          "refId": "Windows"
                        }
                      ],
                      "title": "Cluster Memory Utilization",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Memory usage in %",
                            "mode": "reduceRow",
                            "reduce": {
                              "reducer": "mean"
                            },
                            "replaceFields": true
                          }
                        }
                      ],
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much CPU (in cores) each namespace is using over time.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "CPU CORES",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 22
                      },
                      "id": 46,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (namespace)\n+ on (namespace)\n(sum(rate(windows_container_cpu_usage_seconds_total{container_id!=\"\", cluster=~\"$cluster\"}[$__rate_interval]) * on (container_id) group_left (container, pod, namespace) max by ( container, container_id, pod, namespace) (kube_pod_container_info{container_id!=\"\", cluster=~\"$cluster\"}) OR kube_namespace_created{ cluster=~\"$cluster\"} * 0) by (namespace))",
                          "format": "time_series",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "{{ namespace }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Utilization by namespace",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays memory used (in GiB) by each namespace over time.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 22
                      },
                      "id": 50,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(container_memory_working_set_bytes{image!=\"\", cluster=~\"$cluster\"}) by (namespace)\n+ on (namespace)\n(sum(windows_container_memory_usage_commit_bytes{container_id!=\"\", cluster=~\"$cluster\"} * on (container_id) group_left (container, pod, namespace) max by ( container, container_id, pod, namespace) (kube_pod_container_info{container_id!=\"\", cluster=~\"$cluster\"}) OR kube_namespace_created{ cluster=~\"$cluster\"} * 0) by (namespace))",
                          "interval": "$resolution",
                          "legendFormat": "{{ namespace }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Memory Utilization by namespace",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much CPU (in %) is being used by each node (IP address) over time.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "CPU %",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 30
                      },
                      "id": 54,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "avg(sum by (instance, cpu) (rate(node_cpu_seconds_total{mode!~\"idle|iowait|steal\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval]))) by (instance)",
                          "interval": "$resolution",
                          "legendFormat": "{{ node }}",
                          "range": true,
                          "refId": "Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "avg(sum by (instance,core) (rate(windows_cpu_time_total{mode!=\"idle\", cluster=~\"$cluster\"}[$__rate_interval]))) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "{{ node }}",
                          "range": true,
                          "refId": "Windows"
                        }
                      ],
                      "title": "CPU Utilization by instance",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the amount of memory (in GiB) used by each node in the cluster over time.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "MEMORY",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 30
                      },
                      "id": 73,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(node_memory_MemTotal_bytes{ cluster=~\"$cluster\", job=\"$job\"} - node_memory_MemAvailable_bytes{ cluster=~\"$cluster\", job=\"$job\"}) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "{{ instance }}",
                          "range": true,
                          "refId": "Linux"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(windows_os_visible_memory_bytes{ cluster=~\"$cluster\"} - windows_memory_available_bytes{ cluster=~\"$cluster\"}) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "{{ instance }}",
                          "range": true,
                          "refId": "Windows"
                        }
                      ],
                      "title": "Memory Utilization by instance",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Indicates how much time containers in each namespace were throttled due to CPU limits.\nHigher values may mean CPU limits are too tight, causing performance issues.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "SECONDS",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 38
                      },
                      "id": 82,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_cfs_throttled_seconds_total{image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (namespace) > 0",
                          "interval": "$resolution",
                          "legendFormat": "{{ namespace }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Throttled seconds by namespace",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 46
                      },
                      "id": 86,
                      "panels": [],
                      "title": "Kubernetes",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many pods fall into each Quality of Service (QoS) class:\n\nBestEffort: No resource requests or limits set\n\nBurstable: Requests and/or limits set for some containers\n\nGuaranteed: Requests and limits are equal for all containers in the pod\nAlso displays total pod count over time.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 47
                      },
                      "id": 84,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(kube_pod_status_qos_class{ cluster=~\"$cluster\"}) by (qos_class)",
                          "interval": "",
                          "legendFormat": "{{ qos_class }} pods",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_info{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Total pods",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Kubernetes Pods QoS classes",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays reasons why pods failed to start or were removed.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 47
                      },
                      "id": 85,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(kube_pod_status_reason{ cluster=~\"$cluster\"}) by (reason)",
                          "interval": "",
                          "legendFormat": "{{ reason }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Kubernetes Pods Status Reason",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many times pods in each namespace were killed due to Out Of Memory (OOM).\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "points",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 56
                      },
                      "id": 87,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(increase(container_oom_events_total[$__rate_interval])) by (namespace) >= 0\r\n",
                          "interval": "",
                          "legendFormat": "{{ namespace }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "OOM Events by namespace",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays how many times containers restarted in each namespace.\nFrequent restarts may indicate application crashes or readiness issues.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "points",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 56
                      },
                      "id": 88,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(increase(kube_pod_container_status_restarts_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (namespace) > 0",
                          "interval": "",
                          "legendFormat": "{{ namespace }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Container Restarts by namespace",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 65
                      },
                      "id": 69,
                      "panels": [],
                      "title": "Network",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much data is being sent and received through each network device. Helps to identify which device is handling more network traffic.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "BANDWIDTH",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 66
                      },
                      "id": 44,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(node_network_receive_bytes_total{device!~\"(veth|azv|lxc).*\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (device)",
                          "interval": "$resolution",
                          "legendFormat": "Received : {{ device }}",
                          "range": true,
                          "refId": "Linux Received"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(node_network_transmit_bytes_total{device!~\"(veth|azv|lxc).*\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (device)",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted : {{ device }}",
                          "range": true,
                          "refId": "Linux Transmitted"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(windows_net_bytes_received_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (nic)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Received : {{ nic }}",
                          "range": true,
                          "refId": "Windows Received"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(windows_net_bytes_sent_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (nic)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted : {{ device }}",
                          "range": true,
                          "refId": "Windows Transmitted"
                        }
                      ],
                      "title": "Global Network Utilization by device",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the number of network packets that are dropped. Dropped packets may indicate network congestion or performance issues.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "DROPPED PACKETS",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 66
                      },
                      "id": 53,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(node_network_receive_drop_total{ cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Linux Packets dropped (receive)",
                          "range": true,
                          "refId": "Linux Packets dropped (receive)"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(node_network_transmit_drop_total{ cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Linux Packets dropped (transmit)",
                          "range": true,
                          "refId": "Linux Packets dropped (transmit)"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(windows_net_packets_received_discarded_total{ cluster=~\"$cluster\"}[$__rate_interval]))",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Windows Packets dropped (receive)",
                          "range": true,
                          "refId": "Windows Packets dropped (receive)"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(windows_net_packets_outbound_discarded_total{ cluster=~\"$cluster\"}[$__rate_interval]))",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Windows Packets dropped (transmit)",
                          "range": true,
                          "refId": "Windows Packets dropped (transmit)"
                        }
                      ],
                      "title": "Network Saturation - Packets dropped",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Packets dropped (receive)",
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [
                                "Linux Packets dropped (receive)",
                                "Windows Packets dropped (receive)"
                              ],
                              "reducer": "mean"
                            }
                          }
                        },
                        {
                          "id": "calculateField",
                          "options": {
                            "alias": "Packets dropped (transmit)",
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [
                                "Linux Packets dropped (transmit)",
                                "Windows Packets dropped (transmit)"
                              ],
                              "reducer": "mean"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Linux Packets dropped (receive)": true,
                              "Linux Packets dropped (transmit)": true,
                              "Time": false,
                              "Windows Packets dropped (receive)": true,
                              "Windows Packets dropped (transmit)": true
                            },
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {}
                          }
                        }
                      ],
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much network traffic (received data) each Kubernetes namespace is using. Helps identify high-traffic namespaces.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "BANDWIDTH",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 74
                      },
                      "id": 79,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_bytes_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (namespace)\n+ on (namespace)\n(sum(rate(windows_container_network_receive_bytes_total{container_id!=\"\", cluster=~\"$cluster\"}[$__rate_interval]) * on (container_id) group_left (container, pod, namespace) max by ( container, container_id, pod, namespace) (kube_pod_container_info{container_id!=\"\", cluster=~\"$cluster\"}) OR kube_namespace_created{ cluster=~\"$cluster\"} * 0) by (namespace))",
                          "interval": "$resolution",
                          "legendFormat": "Received : {{ namespace }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "- (sum(rate(container_network_transmit_bytes_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (namespace)\n+ on (namespace)\n(sum(rate(windows_container_network_transmit_bytes_total{container_id!=\"\", cluster=~\"$cluster\"}[$__rate_interval]) * on (container_id) group_left (container, pod, namespace) max by ( container, container_id, pod, namespace) (kube_pod_container_info{container_id!=\"\", cluster=~\"$cluster\"}) OR kube_namespace_created{ cluster=~\"$cluster\"} * 0) by (namespace)))",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted : {{ namespace }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network Received by namespace",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays total network data received on each server (including virtual interfaces). Useful for checking which instance is handling the most traffic.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "BANDWIDTH",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 74
                      },
                      "id": 80,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(node_network_receive_bytes_total{ cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (instance)",
                          "interval": "$resolution",
                          "legendFormat": "Received bytes in {{ instance }}",
                          "range": true,
                          "refId": "Linux Received bytes"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "- sum(rate(node_network_transmit_bytes_total{ cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted bytes in {{ instance }}",
                          "range": true,
                          "refId": "Linux Transmitted bytes"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(windows_net_bytes_received_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Received bytes in {{ instance }}",
                          "range": true,
                          "refId": "Windows Received bytes"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "- sum(rate(windows_net_bytes_sent_total{ cluster=~\"$cluster\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted bytes in {{ instance }}",
                          "range": true,
                          "refId": "Windows Transmitted bytes"
                        }
                      ],
                      "title": "Total Network Received (with all virtual devices) by instance",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows real network data received by each instance, excluding internal (loopback) traffic. Helps monitor actual external network usage.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "BANDWIDTH",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 82
                      },
                      "id": 56,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(node_network_receive_bytes_total{device!~\"(veth|azv|lxc|lo).*\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (instance)",
                          "interval": "$resolution",
                          "legendFormat": "Received bytes in {{ instance }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "- sum(rate(node_network_transmit_bytes_total{device!~\"(veth|azv|lxc|lo).*\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted bytes in {{ instance }}",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(windows_net_bytes_received_total{nic!~\".*Virtual.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Received bytes in {{ instance }}",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(windows_net_bytes_sent_total{nic!~\".*Virtual.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted bytes in {{ instance }}",
                          "range": true,
                          "refId": "D"
                        }
                      ],
                      "title": "Network Received (without loopback)  by instance",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays data received only through the loopback interface (internal server communication). Useful to monitor in-node service traffic.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "BANDWIDTH",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 82
                      },
                      "id": 81,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(node_network_receive_bytes_total{device=\"lo\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (instance)",
                          "interval": "$resolution",
                          "legendFormat": "Received bytes in {{ instance }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "- sum(rate(node_network_transmit_bytes_total{device=\"lo\", cluster=~\"$cluster\", job=\"$job\"}[$__rate_interval])) by (instance)",
                          "hide": false,
                          "interval": "$resolution",
                          "legendFormat": "Transmitted bytes in {{ instance }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network Received (loopback only) by instance",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "30s",
                  "schemaVersion": 41,
                  "tags": [
                    "Kubernetes",
                    "Prometheus",
                    "vm-k8s-stack"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "includeAll": false,
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": ".*",
                          "value": ".*"
                        },
                        "hide": 2,
                        "name": "cluster",
                        "query": ".*",
                        "skipUrlSync": true,
                        "type": "constant"
                      },
                      {
                        "current": {
                          "text": "30s",
                          "value": "30s"
                        },
                        "includeAll": false,
                        "name": "resolution",
                        "options": [
                          {
                            "selected": false,
                            "text": "1s",
                            "value": "1s"
                          },
                          {
                            "selected": false,
                            "text": "15s",
                            "value": "15s"
                          },
                          {
                            "selected": true,
                            "text": "30s",
                            "value": "30s"
                          },
                          {
                            "selected": false,
                            "text": "1m",
                            "value": "1m"
                          },
                          {
                            "selected": false,
                            "text": "3m",
                            "value": "3m"
                          },
                          {
                            "selected": false,
                            "text": "5m",
                            "value": "5m"
                          }
                        ],
                        "query": "1s, 15s, 30s, 1m, 3m, 5m",
                        "type": "custom"
                      },
                      {
                        "current": {
                          "text": [
                            "node-exporter"
                          ],
                          "value": [
                            "node-exporter"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(node_cpu_seconds_total{ cluster=~\"$cluster\"},job)",
                        "includeAll": false,
                        "multi": true,
                        "name": "job",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(node_cpu_seconds_total{ cluster=~\"$cluster\"},job)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Global",
                  "uid": "k8s_views_global",
                  "version": 30
                }
                
EOF
              mkdir -p $(dirname /dashboards/Kubernetes/Namespace.json)
              cat > /dashboards/Kubernetes/Namespace.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "This is a modern 'Namespaces View' dashboard for your Kubernetes cluster(s). Made for kube-prometheus-stack and take advantage of the latest Grafana features. GitHub repository: https://github.com/dotdc/grafana-dashboards-kubernetes",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 18,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 38,
                      "panels": [],
                      "title": "Overview",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much total CPU (as a percentage) is being used by all namespaces combined, compared to the entire cluster capacity.",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "orange",
                                "value": 50
                              },
                              {
                                "color": "red",
                                "value": 70
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 6,
                        "x": 0,
                        "y": 1
                      },
                      "id": 46,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) / sum(machine_cpu_cores{ cluster=~\"$cluster\"})",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "",
                          "range": false,
                          "refId": "A"
                        }
                      ],
                      "title": "Namespace(s) usage on total cluster CPU in %",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows total memory (RAM) used by all namespaces combined as a percentage of the full cluster memory.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "orange",
                                "value": 50
                              },
                              {
                                "color": "red",
                                "value": 70
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 6,
                        "x": 6,
                        "y": 1
                      },
                      "id": 48,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\", image!=\"\", cluster=~\"$cluster\"}) / sum(machine_memory_bytes{ cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "",
                          "refId": "A"
                        }
                      ],
                      "title": "Namespace(s) usage on total cluster RAM in %",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the number of core Kubernetes resources like pods, secrets, services, configmaps, PVCs, and ingresses across namespaces. Useful to track scaling or sudden spikes.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 1
                      },
                      "id": 32,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Running Pods",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_service_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Services",
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_ingress_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Ingresses",
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_deployment_labels{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Deployments",
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_statefulset_labels{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Statefulsets",
                          "refId": "E"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_daemonset_labels{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Daemonsets",
                          "refId": "F"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_persistentvolumeclaim_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Persistent Volume Claims",
                          "refId": "G"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_hpa_labels{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Horizontal Pod Autoscalers",
                          "refId": "H"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_configmap_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Configmaps",
                          "refId": "I"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_secret_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Secrets",
                          "refId": "J"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_networkpolicy_labels{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Network Policies",
                          "refId": "K"
                        }
                      ],
                      "title": "Kubernetes Resource Count",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows actual CPU usage in cores, along with requested and limit values across the namespace.\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 0,
                        "y": 8
                      },
                      "id": 62,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", image!=\"\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "",
                          "legendFormat": "Real",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_requests{namespace=~\"$namespace\", resource=\"cpu\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Requests",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_limits{namespace=~\"$namespace\", resource=\"cpu\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Limits",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(machine_cpu_cores{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Cluster Total",
                          "range": true,
                          "refId": "D"
                        }
                      ],
                      "title": "Namespace(s) CPU Usage in cores",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays actual RAM usage in GiB, along with requested and maximum allowed values.\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "noValue": "0",
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 6,
                        "x": 6,
                        "y": 8
                      },
                      "id": 64,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\", image!=\"\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Real",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_requests{namespace=~\"$namespace\", resource=\"memory\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Requests",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_resource_limits{namespace=~\"$namespace\", resource=\"memory\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Limits",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(machine_memory_bytes{ cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Cluster Total",
                          "range": true,
                          "refId": "D"
                        }
                      ],
                      "title": "Namespace(s) RAM Usage in bytes",
                      "type": "stat"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 12
                      },
                      "id": 40,
                      "panels": [],
                      "title": "Resources",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows CPU usage (in cores) of each pod over time. Helps to identify which pods are consuming the most CPU.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "CPU CORES",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 13
                      },
                      "id": 29,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", image!=\"\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "{{ pod }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CPU usage by Pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays memory usage of each pod in real-time. Helps to find memory-heavy pods and detect leaks or inefficiencies.\n\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 13
                      },
                      "id": 30,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\", image!=\"\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "{{ pod }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Memory usage by Pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much time each pod's CPU was throttled (i.e., limited due to hitting CPU limits). High values mean pods may need higher CPU limits or requests.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "SECONDS",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 21
                      },
                      "id": 68,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_cfs_throttled_seconds_total{namespace=~\"$namespace\", image!=\"\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod) > 0",
                          "interval": "$resolution",
                          "legendFormat": "{{ pod }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Throttled seconds by pod",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 29
                      },
                      "id": 73,
                      "panels": [],
                      "title": "Kubernetes",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the number of pods in each Quality of Service (QoS) class:\n\nBestEffort: No CPU/memory requests or limits set\n\nBurstable: Some resource requests/limits defined\n\nGuaranteed: CPU and memory requests = limits\n\nHelps identify pod resource configurations.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 30
                      },
                      "id": 70,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(kube_pod_status_qos_class{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (qos_class)",
                          "interval": "",
                          "legendFormat": "{{ qos_class }} pods",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_info{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "hide": false,
                          "legendFormat": "Total pods",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Kubernetes Pods QoS classes",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the number of pods that failed to schedule or were removed, along with the reason like Evicted, NodeAffinity, or NodeLost.\n\nUseful to debug pod scheduling issues.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 30
                      },
                      "id": 72,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(kube_pod_status_reason{ cluster=~\"$cluster\"}) by (reason)",
                          "interval": "",
                          "legendFormat": "{{ reason }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Kubernetes Pods Status Reason",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays Out-Of-Memory (OOM) kill events . Shows if any pod was terminated due to memory overuse.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "points",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 39
                      },
                      "id": 74,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(increase(container_oom_events_total{namespace=~\"${namespace}\", cluster=~\"$cluster\"}[$__rate_interval])) by (namespace, pod) >= 0",
                          "interval": "",
                          "legendFormat": "namespace: {{ namespace }} - pod: {{ pod }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "OOM Events by namespace, pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many times containers have restarted in each pod. High restarts indicate app crashes or resource issues.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "points",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 39
                      },
                      "id": 75,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(increase(kube_pod_container_status_restarts_total{namespace=~\"${namespace}\", cluster=~\"$cluster\"}[$__rate_interval])) by (namespace, pod) > 0",
                          "interval": "",
                          "legendFormat": "namespace: {{ namespace }} - pod: {{ pod }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Container Restarts by namespace, pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the total number of pods in each state.\nHelps monitor pod lifecycle distribution and identify stuck/waiting pods.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 0,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 48
                      },
                      "id": 5,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_status_ready{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Ready",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_status_running{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Running",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_container_status_waiting{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Waiting",
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_container_status_restarts_total{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Restarts Total",
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "sum(kube_pod_container_status_terminated{namespace=~\"$namespace\", cluster=~\"$cluster\"})",
                          "interval": "",
                          "legendFormat": "Terminated",
                          "refId": "E"
                        }
                      ],
                      "title": "No of pods by state",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many containers are running inside each pod.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 0,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 48
                      },
                      "id": 2,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "hidden",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_container_info{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}) by (pod)",
                          "interval": "",
                          "legendFormat": "{{ pod }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "No of containers by pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many pod replicas are currently running for each deployment. Helps verify if the desired number of pods are up.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 56
                      },
                      "id": 7,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(kube_deployment_status_replicas_available{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (deployment)",
                          "interval": "",
                          "legendFormat": "{{ deployment }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Replicas available by deployment",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the number of replicas that are not available (either pending, failed, or not scheduled). Useful to catch deployment issues early.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 56
                      },
                      "id": 8,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_deployment_status_replicas_unavailable{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}) by (deployment)",
                          "interval": "",
                          "legendFormat": "{{ deployment }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Replicas unavailable by deployment",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows pods that are not in the expected Running or Completed state. Can help detect problems like CrashLoopBackOff or Pending pods.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 64
                      },
                      "id": 83,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(kube_pod_status_phase{phase!~\"Running|Succeeded\", namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (pod) > 0",
                          "interval": "",
                          "legendFormat": "{{ deployment }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Pods with unexpected status",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Lists container images currently in use across all pods. Helps you monitor image versions and detect unapproved or outdated images.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "bars",
                            "fillOpacity": 25,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 64
                      },
                      "id": 82,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "last"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "count(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", image!=\"\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (image)",
                          "interval": "",
                          "legendFormat": "{{ image }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Container Image Used",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 72
                      },
                      "id": 42,
                      "panels": [],
                      "title": "Kubernetes Storage",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how full each Persistent Volume (PV) is, in terms of percentage used. Helps detect volumes that are about to fill up.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 73
                      },
                      "id": 65,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(kubelet_volume_stats_used_bytes{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (persistentvolumeclaim) / sum(kubelet_volume_stats_capacity_bytes{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (persistentvolumeclaim)",
                          "interval": "",
                          "legendFormat": "{{ persistentvolumeclaim }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Persistent Volumes - Capacity and usage in %",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays actual disk usage and capacity of each volume in bytes. ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 73
                      },
                      "id": 66,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(kubelet_volume_stats_used_bytes{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (persistentvolumeclaim)",
                          "interval": "",
                          "legendFormat": "{{ persistentvolumeclaim }} - Used",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(kubelet_volume_stats_capacity_bytes{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (persistentvolumeclaim)",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "{{ persistentvolumeclaim }} - Capacity",
                          "refId": "B"
                        }
                      ],
                      "title": "Persistent Volumes - Capacity and usage in bytes",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the inode usage (small file index structures) of Persistent Volumes. Even if disk space is free, running out of inodes can cause write errors.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 81
                      },
                      "id": 27,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "1 - sum(kubelet_volume_stats_inodes_used{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (persistentvolumeclaim) / sum(kubelet_volume_stats_inodes{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (persistentvolumeclaim)",
                          "interval": "",
                          "legendFormat": "{{ persistentvolumeclaim }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Persistent Volumes - Inodes",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 89
                      },
                      "id": 76,
                      "panels": [],
                      "title": "Network",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays network traffic (MiB/s) received and transmitted by each pod. Helps identify pods with high network load.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 90
                      },
                      "id": 78,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_bytes_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Received - {{ pod }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_bytes_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted - {{ pod }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Bandwidth by pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many packets per second are received and sent by each pod. Useful for analyzing traffic burst patterns or drops.\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "pps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 90
                      },
                      "id": 79,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_packets_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Received - {{ pod }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_packets_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted - {{ pod }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Packets Rate by pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays how many packets were dropped while sending or receiving. High drops indicate network issues or throttling.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "pps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 98
                      },
                      "id": 80,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_packets_dropped_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Received - {{ pod }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_packets_dropped_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted - {{ pod }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Packets Dropped by pod",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the number of network errors per second (e.g., failed sends/receives). Any non-zero values should be investigated quickly.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "pps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 98
                      },
                      "id": 81,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_errors_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Received - {{ pod }}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_errors_total{namespace=~\"$namespace\", pod=~\"${created_by}.*\", cluster=~\"$cluster\"}[$__rate_interval])) by (pod)",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted - {{ pod }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Errors by pod",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "30s",
                  "schemaVersion": 41,
                  "tags": [
                    "Kubernetes",
                    "Prometheus",
                    "vm-k8s-stack"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "includeAll": false,
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": ".*",
                          "value": ".*"
                        },
                        "hide": 2,
                        "name": "cluster",
                        "query": ".*",
                        "skipUrlSync": true,
                        "type": "constant"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{ cluster=~\"$cluster\"}, namespace)",
                        "includeAll": true,
                        "multi": true,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "query": "label_values(kube_pod_info{ cluster=~\"$cluster\"}, namespace)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "30s",
                          "value": "30s"
                        },
                        "includeAll": false,
                        "name": "resolution",
                        "options": [
                          {
                            "selected": false,
                            "text": "1s",
                            "value": "1s"
                          },
                          {
                            "selected": false,
                            "text": "15s",
                            "value": "15s"
                          },
                          {
                            "selected": true,
                            "text": "30s",
                            "value": "30s"
                          },
                          {
                            "selected": false,
                            "text": "1m",
                            "value": "1m"
                          },
                          {
                            "selected": false,
                            "text": "3m",
                            "value": "3m"
                          },
                          {
                            "selected": false,
                            "text": "5m",
                            "value": "5m"
                          }
                        ],
                        "query": "1s, 15s, 30s, 1m, 3m, 5m",
                        "type": "custom"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{namespace=~\"$namespace\", cluster=~\"$cluster\"},created_by_name)",
                        "description": "Can be used to filter on a specific deployment, statefulset or deamonset (only relevant panels).",
                        "includeAll": true,
                        "multi": true,
                        "name": "created_by",
                        "options": [],
                        "query": {
                          "query": "label_values(kube_pod_info{namespace=~\"$namespace\", cluster=~\"$cluster\"},created_by_name)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Namespaces",
                  "uid": "k8s_views_ns",
                  "version": 33
                }
                
EOF
              mkdir -p $(dirname /dashboards/Kubernetes/k8s_deployment.json)
              cat > /dashboards/Kubernetes/k8s_deployment.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "A dashboard to visualize application's deployment.",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 4,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "max": 100,
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgba(50, 172, 45, 0.97)"
                              },
                              {
                                "color": "rgba(237, 129, 40, 0.89)",
                                "value": 80
                              },
                              {
                                "color": "rgba(245, 54, 54, 0.9)",
                                "value": 90
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 8,
                        "x": 0,
                        "y": 0
                      },
                      "id": 2,
                      "maxDataPoints": 100,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "(sum(sum by(pod) (container_memory_working_set_bytes{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", image!=\"\", container!=\"\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0)))) * 100",
                          "format": "time_series",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": true,
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "range": false,
                          "refId": "A",
                          "step": 900,
                          "useBackend": false
                        }
                      ],
                      "title": "Deployment memory usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "max": 100,
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgba(50, 172, 45, 0.97)"
                              },
                              {
                                "color": "rgba(237, 129, 40, 0.89)",
                                "value": 65
                              },
                              {
                                "color": "rgba(245, 54, 54, 0.9)",
                                "value": 90
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 8,
                        "x": 8,
                        "y": 0
                      },
                      "id": 5,
                      "maxDataPoints": 100,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum(sum(rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\",pod=~\"^$application.*$\",namespace=\"$namespace\"}[5m])) by (pod) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0)))",
                          "format": "time_series",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "step": 900,
                          "useBackend": false
                        }
                      ],
                      "title": "Deployment CPU usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 8,
                        "x": 16,
                        "y": 0
                      },
                      "id": 8,
                      "maxDataPoints": 100,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "exemplar": false,
                          "expr": "sum(kube_deployment_status_replicas_available{deployment=\"$application\", namespace=\"$namespace\"})",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "interval": "",
                          "intervalFactor": 2,
                          "legendFormat": "$application",
                          "range": true,
                          "refId": "A",
                          "step": 40,
                          "useBackend": false
                        }
                      ],
                      "title": "Replicas Count",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 8,
                        "x": 16,
                        "y": 4
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum by(pod) (kube_pod_container_status_restarts_total{namespace=\"$namespace\", pod=~\"^$application.*$\"})",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "interval": "",
                          "intervalFactor": 1,
                          "legendFormat": "{{pod}}",
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Pods Restarted",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 4,
                        "x": 0,
                        "y": 5
                      },
                      "id": 3,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(sum by(pod) (container_memory_working_set_bytes{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", image!=\"\", container!=\"\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0)))",
                          "format": "time_series",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": true,
                          "intervalFactor": 2,
                          "range": false,
                          "refId": "A",
                          "step": 1800,
                          "useBackend": false
                        }
                      ],
                      "title": "Used Memory",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Rrequested memory by pod containers",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 4,
                        "x": 4,
                        "y": 5
                      },
                      "id": 4,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0)))",
                          "format": "time_series",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "intervalFactor": 2,
                          "range": true,
                          "refId": "A",
                          "step": 1800,
                          "useBackend": false
                        }
                      ],
                      "title": "Total Memory",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 3,
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 4,
                        "x": 8,
                        "y": 5
                      },
                      "id": 7,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum(rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\",pod=~\"^$application.*$\",namespace=\"$namespace\"}[5m])) by (pod) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0)))",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "range": true,
                          "refId": "A",
                          "step": 1800
                        }
                      ],
                      "title": "Used Core",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "max": -3,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 4,
                        "x": 12,
                        "y": 5
                      },
                      "id": 6,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0)))",
                          "intervalFactor": 2,
                          "range": true,
                          "refId": "A",
                          "step": 1800
                        }
                      ],
                      "title": "Total Core",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 8
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "asTable": true,
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum by(pod) (container_memory_working_set_bytes{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", image!=\"\", pod=~\"^$pods.*$\", container!=\"\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "Memory Usage - Pods",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 8
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\",pod=~\"^$application.*$\",namespace=\"$namespace\",pod=~\"^$pods.*$\"}[5m])) by (pod) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{ pod }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "CPU Core Usage - Pods",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 15
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "asTable": true,
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "container_memory_working_set_bytes{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", image!=\"\", pod=~\"^$application.*$\", pod=~\"^$pods.*$\", container=~\"^$container.*$\"} * on (container, pod) group_left() (kube_pod_container_info * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset)))> 0) ",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "{{pod}} : {{container}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "Memory Usage - Containers",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 15
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\",pod=~\"^$application.*$\",namespace=\"$namespace\",pod=~\"^$pods.*$\",container=~\"^$container.*$\"}[5m])) by (pod, container) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{pod}} : {{container}}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "CPU Core Usage - Containers",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "ot-dashboard"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "P4169E866C3094E38"
                        },
                        "includeAll": false,
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values()",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "name": "cluster",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values()",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "kube-system",
                          "value": "kube-system"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\"},namespace)",
                        "includeAll": false,
                        "label": "Namespace",
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "aws-load-balancer-controller",
                          "value": "aws-load-balancer-controller"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                        "includeAll": false,
                        "label": "Deployment",
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                        "includeAll": true,
                        "label": "Pod",
                        "multi": true,
                        "name": "pods",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "victoriametrics"
                        },
                        "definition": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                        "includeAll": false,
                        "label": "Container",
                        "name": "container",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {
                    "refresh_intervals": [
                      "1m",
                      "5m",
                      "15m",
                      "30m",
                      "1h",
                      "2h",
                      "1d"
                    ]
                  },
                  "timezone": "browser",
                  "title": "Deployments",
                  "uid": "adv9es3vs9vk0c",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/Kubernetes/pods.json)
              cat > /dashboards/Kubernetes/pods.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "This is a modern 'Pods View' dashboard for your Kubernetes cluster(s). Made for kube-prometheus-stack and take advantage of the latest Grafana features. GitHub repository: https://github.com/dotdc/grafana-dashboards-kubernetes",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 17,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 43,
                      "panels": [],
                      "title": "Information",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 12,
                        "x": 0,
                        "y": 1
                      },
                      "id": 2,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "mean"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_info{namespace=\"$namespace\", pod=\"$pod\", cluster=~\"$cluster\"}",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{ created_by_kind }}: {{ created_by_name }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Created by",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "links": [
                            {
                              "title": "",
                              "url": "/d/k8s_views_nodes/kubernetes-views-nodes?var-datasource=${datasource}&var-node=${__field.labels.node}&${cluster:queryparam}"
                            }
                          ],
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 6,
                        "x": 12,
                        "y": 1
                      },
                      "id": 33,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "mean"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_info{namespace=\"$namespace\", pod=\"$pod\", cluster=~\"$cluster\"}",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{ node }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Running on",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 6,
                        "x": 18,
                        "y": 1
                      },
                      "id": 41,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "mean"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_info{namespace=\"$namespace\", pod=\"$pod\", cluster=~\"$cluster\"}",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{ pod_ip }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Pod IP",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "rgb(255, 255, 255)"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 5,
                        "x": 0,
                        "y": 3
                      },
                      "id": 52,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "mean"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_info{namespace=\"$namespace\", pod=\"$pod\", priority_class!=\"\", cluster=~\"$cluster\"}",
                          "format": "time_series",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{ priority_class }}",
                          "range": false,
                          "refId": "A"
                        }
                      ],
                      "title": "Priority Class",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Burstable"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "BestEffort"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 7,
                        "x": 5,
                        "y": 3
                      },
                      "id": 53,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_status_qos_class{namespace=\"$namespace\", pod=\"$pod\", cluster=~\"$cluster\"} > 0",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{ qos_class }}",
                          "refId": "A"
                        }
                      ],
                      "title": "QOS Class",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "text"
                              },
                              {
                                "color": "red",
                                "value": 1
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 6,
                        "x": 12,
                        "y": 3
                      },
                      "id": 56,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_container_status_last_terminated_reason{namespace=\"$namespace\", pod=\"$pod\", cluster=~\"$cluster\"}",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{ reason }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Last Terminated Reason",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Panel only works when a single pod is selected.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "text"
                              },
                              {
                                "color": "red",
                                "value": 1
                              },
                              {
                                "color": "#EAB839",
                                "value": 2
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 6,
                        "x": 18,
                        "y": 3
                      },
                      "id": 57,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [],
                          "fields": "",
                          "values": true
                        },
                        "showPercentChange": false,
                        "textMode": "value",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "kube_pod_container_status_last_terminated_exitcode{namespace=\"$namespace\", pod=\"$pod\", cluster=~\"$cluster\"}",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "__auto",
                          "range": false,
                          "refId": "A"
                        }
                      ],
                      "title": "Last Terminated Exit Code",
                      "type": "stat"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 5
                      },
                      "id": 47,
                      "panels": [],
                      "title": "Resources",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much of the total requested CPU is currently being used",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "blue",
                            "mode": "fixed"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "red",
                                "value": 75
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 3,
                        "x": 0,
                        "y": 6
                      },
                      "id": 39,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) / sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=~\"$pod\", resource=\"cpu\", job=~\"$job\", cluster=~\"$cluster\"})",
                          "instant": true,
                          "interval": "$resolution",
                          "legendFormat": "Requests",
                          "refId": "A"
                        }
                      ],
                      "title": "Total pod CPU Requests usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much of the total CPU limit is being used",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "red",
                                "value": 75
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 3,
                        "x": 3,
                        "y": 6
                      },
                      "id": 48,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) / sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=~\"$pod\", resource=\"cpu\", job=~\"$job\", cluster=~\"$cluster\"})",
                          "instant": true,
                          "interval": "$resolution",
                          "legendFormat": "Limits",
                          "refId": "A"
                        }
                      ],
                      "title": "Total pod CPU Limits usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much of the total requested memory (RAM) is used by pods",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "blue",
                            "mode": "fixed"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "blue"
                              },
                              {
                                "color": "#EAB839",
                                "value": 80
                              },
                              {
                                "color": "red",
                                "value": 99
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 3,
                        "x": 6,
                        "y": 6
                      },
                      "id": 40,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}) / sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=~\"$pod\", resource=\"memory\", job=~\"$job\", cluster=~\"$cluster\"})",
                          "instant": true,
                          "interval": "$resolution",
                          "legendFormat": "Requests",
                          "refId": "A"
                        }
                      ],
                      "title": "Total pod RAM Requests usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much of the total memory limit is being used",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 2,
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "red",
                                "value": 75
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 3,
                        "x": 9,
                        "y": 6
                      },
                      "id": 49,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}) / sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=~\"$pod\", resource=\"memory\", job=~\"$job\", cluster=~\"$cluster\"})",
                          "instant": true,
                          "interval": "$resolution",
                          "legendFormat": "Limits",
                          "refId": "B"
                        }
                      ],
                      "title": "Total pod RAM Limits usage",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": " This table gives CPU and memory info per container in the namespace.",
                      "fieldConfig": {
                        "defaults": {
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "filterable": false,
                            "inspect": false,
                            "minWidth": 100
                          },
                          "decimals": 4,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "blue"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Memory Requests"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "bytes"
                              },
                              {
                                "id": "decimals",
                                "value": 2
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Memory Limits"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "bytes"
                              },
                              {
                                "id": "decimals",
                                "value": 2
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Memory Used"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "bytes"
                              },
                              {
                                "id": "decimals",
                                "value": 2
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 6
                      },
                      "id": 38,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": []
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=~\"$pod\", resource=\"cpu\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "format": "table",
                          "instant": true,
                          "interval": "",
                          "intervalFactor": 1,
                          "legendFormat": "",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=~\"$pod\", resource=\"cpu\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "format": "table",
                          "instant": true,
                          "interval": "",
                          "intervalFactor": 1,
                          "legendFormat": "",
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=~\"$pod\", resource=\"memory\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "format": "table",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "",
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=~\"$pod\", resource=\"memory\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "format": "table",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "",
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", container!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (container)",
                          "format": "table",
                          "hide": false,
                          "instant": true,
                          "legendFormat": "__auto",
                          "range": false,
                          "refId": "E"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", container!=\"\", cluster=~\"$cluster\"}) by (container)",
                          "format": "table",
                          "hide": false,
                          "instant": true,
                          "range": false,
                          "refId": "F"
                        }
                      ],
                      "title": "Resources by container",
                      "transformations": [
                        {
                          "id": "seriesToColumns",
                          "options": {
                            "byField": "container"
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true,
                              "Time 1": true,
                              "Time 2": true,
                              "Time 4": true,
                              "__name__": true,
                              "__name__ 1": true,
                              "__name__ 2": true,
                              "__name__ 3": true,
                              "__name__ 4": true,
                              "container": false,
                              "endpoint": true,
                              "endpoint 2": true,
                              "endpoint 3": true,
                              "endpoint 4": true,
                              "instance": true,
                              "instance 2": true,
                              "instance 3": true,
                              "instance 4": true,
                              "job": true,
                              "job 2": true,
                              "job 3": true,
                              "job 4": true,
                              "namespace": true,
                              "namespace 2": true,
                              "namespace 3": true,
                              "namespace 4": true,
                              "node": true,
                              "node 2": true,
                              "node 3": true,
                              "node 4": true,
                              "pod": true,
                              "pod 2": true,
                              "pod 3": true,
                              "pod 4": true,
                              "resource 1": true,
                              "resource 2": true,
                              "resource 3": true,
                              "resource 4": true,
                              "service": true,
                              "service 2": true,
                              "service 3": true,
                              "service 4": true,
                              "uid 1": true,
                              "uid 2": true,
                              "uid 3": true,
                              "uid 4": true,
                              "unit 1": true,
                              "unit 2": true,
                              "unit 3": true,
                              "unit 4": true
                            },
                            "indexByName": {
                              "Time 1": 7,
                              "Time 2": 8,
                              "Time 3": 9,
                              "Time 4": 10,
                              "Time 5": 11,
                              "Time 6": 12,
                              "Value #A": 2,
                              "Value #B": 3,
                              "Value #C": 5,
                              "Value #D": 6,
                              "Value #E": 1,
                              "Value #F": 4,
                              "container": 0
                            },
                            "renameByName": {
                              "Value #A": "CPU Requests",
                              "Value #B": "CPU Limits",
                              "Value #C": "Memory Requests",
                              "Value #D": "Memory Limits",
                              "Value #E": "CPU Used",
                              "Value #F": "Memory Used",
                              "container": "Container"
                            }
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Percent",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "area"
                            }
                          },
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "red"
                              },
                              {
                                "color": "yellow",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 30
                              },
                              {
                                "color": "yellow",
                                "value": 70
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 14
                      },
                      "id": 50,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (container) / sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=~\"$pod\", resource=\"cpu\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "interval": "$resolution",
                          "legendFormat": "{{ container }}  REQUESTS",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (container) / sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=~\"$pod\", resource=\"cpu\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "hide": false,
                          "legendFormat": "{{ container }}  LIMITS",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "CPU Usage / Requests & Limits by container",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "blue",
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Percent",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "area"
                            }
                          },
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "red"
                              },
                              {
                                "color": "yellow",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 30
                              },
                              {
                                "color": "#EAB839",
                                "value": 70
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 14
                      },
                      "id": 30,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}) by (container) / sum(kube_pod_container_resource_requests{namespace=\"$namespace\", pod=~\"$pod\", resource=\"memory\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "interval": "",
                          "legendFormat": "{{ container }} REQUESTS",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", cluster=~\"$cluster\"}) by (container) / sum(kube_pod_container_resource_limits{namespace=\"$namespace\", pod=~\"$pod\", resource=\"memory\", job=~\"$job\", cluster=~\"$cluster\"}) by (container)",
                          "hide": false,
                          "legendFormat": "{{ container }} LIMITS",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Memory Usage / Requests & Limits by container",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much CPU each container is using. Helps identify high CPU consumers.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "CPU Cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 4,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "limit"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "#F2495C",
                                  "mode": "fixed"
                                }
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 0
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 22
                      },
                      "id": 29,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", container!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (container, id)",
                          "interval": "$resolution",
                          "legendFormat": "{{ container }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Usage by container",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the memory (RAM) used by each container. Useful for spotting memory-hungry containers.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Bytes",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 22
                      },
                      "id": 51,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", pod=~\"$pod\", image!=\"\", container!=\"\", cluster=~\"$cluster\"}) by (container, id)",
                          "interval": "",
                          "legendFormat": "{{ container }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Memory Usage by container",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how much time containers were blocked from using CPU due to hitting limits. High throttling means performance issues.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "SECONDS",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 30
                      },
                      "id": 59,
                      "options": {
                        "legend": {
                          "calcs": [
                            "min",
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(rate(container_cpu_cfs_throttled_seconds_total{namespace=~\"$namespace\", pod=~\"$pod\", image!=\"\", container!=\"\", cluster=~\"$cluster\"}[$__rate_interval])) by (container)",
                          "interval": "$resolution",
                          "legendFormat": "{{ container }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CPU Throttled seconds by container",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 38
                      },
                      "id": 62,
                      "panels": [],
                      "title": "Kubernetes",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows which containers faced an \"Out of Memory\" (OOM) error.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "blue",
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Percent",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "area"
                            }
                          },
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "red"
                              },
                              {
                                "color": "yellow",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 30
                              },
                              {
                                "color": "#EAB839",
                                "value": 70
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 39
                      },
                      "id": 60,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(increase(container_oom_events_total{ container!=\"\"}[$__rate_interval])) by (container)",
                          "interval": "",
                          "legendFormat": "{{ container }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "OOM Events by container",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays how many times each container has restarted in the selected time range. Frequent restarts can indicate app crashes or configuration issues.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "blue",
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "Percent",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "area"
                            }
                          },
                          "mappings": [],
                          "max": 1,
                          "min": 0,
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "red"
                              },
                              {
                                "color": "yellow",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 30
                              },
                              {
                                "color": "#EAB839",
                                "value": 70
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 39
                      },
                      "id": 61,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(increase(kube_pod_container_status_restarts_total{ container!=\"\"}[$__rate_interval])) by (container)",
                          "interval": "",
                          "legendFormat": "{{ container }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Container Restarts",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 47
                      },
                      "id": 45,
                      "panels": [],
                      "title": "Network",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows the amount of network traffic (in MiB/s) received and transmitted by the containers. ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 48
                      },
                      "id": 31,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_bytes_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Received",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_bytes_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted",
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Bandwidth",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the number of network packets sent and received per second (packets/sec). Useful for analyzing network load.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "pps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 48
                      },
                      "id": 34,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_packets_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Received",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_packets_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted",
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Packets Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Shows how many packets were dropped during sending or receiving. High values can indicate network problems or resource limits.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "pps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 56
                      },
                      "id": 36,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_packets_dropped_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Received",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_packets_dropped_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted",
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Packets Dropped",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Displays the number of network-related errors while sending or receiving data. Ideally, this should always stay at zero.\n\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "pps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 56
                      },
                      "id": 37,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "sum(rate(container_network_receive_errors_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Received",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "exemplar": true,
                          "expr": "- sum(rate(container_network_transmit_errors_total{namespace=\"$namespace\", pod=~\"$pod\", cluster=~\"$cluster\"}[$__rate_interval]))",
                          "interval": "$resolution",
                          "legendFormat": "Transmitted",
                          "refId": "B"
                        }
                      ],
                      "title": "Network - Errors",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "30s",
                  "schemaVersion": 41,
                  "tags": [
                    "Kubernetes",
                    "Prometheus",
                    "vm-k8s-stack"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "includeAll": false,
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": ".*",
                          "value": ".*"
                        },
                        "hide": 2,
                        "name": "cluster",
                        "query": ".*",
                        "skipUrlSync": true,
                        "type": "constant"
                      },
                      {
                        "current": {
                          "text": "monitoring",
                          "value": "monitoring"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{ cluster=~\"$cluster\"}, namespace)",
                        "includeAll": false,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "query": "label_values(kube_pod_info{ cluster=~\"$cluster\"}, namespace)",
                          "refId": "Prometheus-namespace-Variable-Query"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{namespace=\"$namespace\", cluster=~\"$cluster\"}, pod)",
                        "includeAll": true,
                        "multi": true,
                        "name": "pod",
                        "options": [],
                        "query": {
                          "query": "label_values(kube_pod_info{namespace=\"$namespace\", cluster=~\"$cluster\"}, pod)",
                          "refId": "Prometheus-pod-Variable-Query"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "30s",
                          "value": "30s"
                        },
                        "includeAll": false,
                        "name": "resolution",
                        "options": [
                          {
                            "selected": false,
                            "text": "1s",
                            "value": "1s"
                          },
                          {
                            "selected": false,
                            "text": "15s",
                            "value": "15s"
                          },
                          {
                            "selected": true,
                            "text": "30s",
                            "value": "30s"
                          },
                          {
                            "selected": false,
                            "text": "1m",
                            "value": "1m"
                          },
                          {
                            "selected": false,
                            "text": "3m",
                            "value": "3m"
                          },
                          {
                            "selected": false,
                            "text": "5m",
                            "value": "5m"
                          }
                        ],
                        "query": "1s, 15s, 30s, 1m, 3m, 5m",
                        "type": "custom"
                      },
                      {
                        "current": {
                          "text": [
                            "kube-state-metrics"
                          ],
                          "value": [
                            "kube-state-metrics"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{namespace=\"$namespace\", cluster=~\"$cluster\"},job)",
                        "includeAll": false,
                        "multi": true,
                        "name": "job",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{namespace=\"$namespace\", cluster=~\"$cluster\"},job)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Pods",
                  "uid": "k8s_views_pods",
                  "version": 19
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/Dehaat/Service_latency.json)
              cat > /dashboards/LAB/Clients/Dehaat/Service_latency.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 2,
                  "id": 146,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 0,
                        "y": 0
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{service_name=\"$application\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) * 60",
                          "legendFormat": "RPM",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Requests",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle"
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 40
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 8,
                        "y": 0
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_status_code=~\"^2.*|^3.*\"\n    }\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\"\n    }\n)",
                          "legendFormat": "Success Rate",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_status_code!~\"^2.*|^3.*\"\n    }\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\"\n    }\n)",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "Error Rate",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Success/Error Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 16,
                        "y": 0
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(status) (rate(http_server_requests_seconds_count{status!=\"200\", job=\"agc/$application\"}[$__interval]))",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Errors by Response Code",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P95"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 6
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.99, sum by(le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "legendFormat": "P99",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.95, sum by(le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "P95",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.90, sum by(le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "P90",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "P99-Latency",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 13
                      },
                      "id": 4,
                      "interval": "15s",
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "histogram_quantile(0.99, sum by(le, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "quantile:latency:p95:service:1m{service_name=\"traya-api-server-prod-prod\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "p95",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "quantile:latency:p90:service:1m{service_name=\"traya-api-server-prod-prod\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "p90",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "P99-Latency - service",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 21
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(uri) (rate(http_server_requests_seconds_count{status!=\"200\", job=\"agc/$application\"}[$__interval]))",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Errors per API",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 21
                      },
                      "id": 8,
                      "interval": "60s",
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(uri) (rate(http_server_requests_seconds_count{ uri!=\"/actuator/health\", job=\"agc/$application\" }[1m])) * 60",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Requests per API",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 29
                      },
                      "id": 7,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 300,
                        "minVizHeight": 16,
                        "minVizWidth": 8,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "auto",
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(uri) (rate(http_server_requests_seconds_sum{job=\"agc/$application\", uri!=\"/actuator/health\"}[$__interval])) / sum by(uri) (rate(http_server_requests_seconds_count{job=\"agc/$application\", uri!=\"/actuator/health\"}[$__interval]))",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Duration",
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-YlRd"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Endpoint"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 445
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P99 Latency"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 150
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P95 Latency"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 126
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P90 Latency"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 150
                              },
                              {
                                "id": "noValue"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Requests"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "reqpm"
                              },
                              {
                                "id": "noValue",
                                "value": "-"
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 20,
                        "w": 17,
                        "x": 0,
                        "y": 37
                      },
                      "id": 6,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "enablePagination": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 6,
                        "showHeader": true,
                        "sortBy": []
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "ddxrkvw4t1uyoe"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  histogram_quantile(0.99,\n    sum by (le, http_method, http_route) (\n      rate(traces_span_metrics_duration_milliseconds_bucket{\n        span_kind=\"SPAN_KIND_SERVER\",\n        service_name=\"$application\"\n      }[$__interval])\n    )\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "interval": "",
                          "legendFormat": "{{operation}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  histogram_quantile(0.95,\n    sum by (le, http_method, http_route) (\n      rate(traces_span_metrics_duration_milliseconds_bucket{\n        span_kind=\"SPAN_KIND_SERVER\",\n        service_name=\"$application\"\n      }[$__interval])\n    )\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{operation}}",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  histogram_quantile(0.90,\n    sum by (le, http_method, http_route) (\n      rate(traces_span_metrics_duration_milliseconds_bucket{\n        span_kind=\"SPAN_KIND_SERVER\",\n        service_name=\"$application\"\n      }[$__interval])\n    )\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{operation}}",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  sum by (http_method, http_route) (\n    rate(traces_span_metrics_duration_milliseconds_count{\n      service_name=\"$application\",\n      span_kind=\"SPAN_KIND_SERVER\"\n    }[1m]) * 60\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "D"
                        }
                      ],
                      "title": "Latency",
                      "transformations": [
                        {
                          "id": "timeSeriesTable",
                          "options": {
                            "D": {
                              "stat": "mean"
                            }
                          }
                        },
                        {
                          "id": "joinByField",
                          "options": {
                            "byField": "operation",
                            "mode": "outer"
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Trend #A": "P99 Latency",
                              "Trend #B": "P95 Latency",
                              "Trend #C": "P90 Latency",
                              "Trend #D": "Requests",
                              "operation": "Endpoint"
                            }
                          }
                        }
                      ],
                      "transparent": true,
                      "type": "table"
                    }
                  ],
                  "preload": false,
                  "refresh": "1m",
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "agc",
                          "value": "agc"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{namespace!~\"logging|monitoring|observability|kube-system\"},namespace)",
                        "includeAll": false,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{namespace!~\"logging|monitoring|observability|kube-system\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "prod-agc-admin-service",
                          "value": "prod-agc-admin-service"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\"},deployment)",
                        "includeAll": false,
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "prod-agc-admin-service-7bc4bcf8f7-2bg5x",
                          "value": "prod-agc-admin-service-7bc4bcf8f7-2bg5x"
                        },
                        "definition": "label_values(kube_pod_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=~\"^$application.*\"},pod)",
                        "label": "Pod",
                        "name": "pods",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=~\"^$application.*\"},pod)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "/*",
                          "value": "/*"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values({service_name=\"$application\"},http_route)",
                        "label": "Route",
                        "name": "route",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values({service_name=\"$application\"},http_route)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-12h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "service latency",
                  "uid": "fdwebqfpilkaoeud",
                  "version": 59
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/Dehaat/Spring_HTTP.json)
              cat > /dashboards/LAB/Clients/Dehaat/Spring_HTTP.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "An example dashboard for Spring HTTP metrics",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 144,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "reqps"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "200"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "SERVER_ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "CLIENT_ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "yellow",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "SUCCESS"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "INFORMATIONAL"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "blue",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "REDIRECTION"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "super-light-green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 9,
                        "x": 0,
                        "y": 0
                      },
                      "id": 24,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by(uri) (irate(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval]))",
                          "legendFormat": "{{status}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "RPS by URI",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "reqps"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "200"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "SERVER_ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "CLIENT_ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "yellow",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "SUCCESS"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "INFORMATIONAL"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "blue",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "REDIRECTION"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "super-light-green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 7,
                        "x": 9,
                        "y": 0
                      },
                      "id": 30,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by($_instance_label_name) (irate(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval]))",
                          "legendFormat": "{{status}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "RPS by $_instance_label_name",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "reqps"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "200"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 0
                      },
                      "id": 19,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by(status) (irate(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval]))",
                          "legendFormat": "{{status}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Status Codes",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "links": [],
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 11
                      },
                      "id": 20,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by($_instance_label_name) (increase(http_server_requests_seconds_sum{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval]))\n / \n(sum by($_instance_label_name) (increase(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval])) != 0)",
                          "legendFormat": "{{pod}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Avg Latency (by $_instance_label_name)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "SUCCESS"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "SERVER_ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "CLIENT_ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "yellow",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "INFORMATIONAL"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "blue",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 11
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Max",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by(outcome) (increase(http_server_requests_seconds_sum{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval]))\n / \n (sum by(outcome) (increase(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__rate_interval])) != 0)",
                          "legendFormat": "{{outcome}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Avg Latency (by outcome)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "center",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 9,
                        "x": 0,
                        "y": 22
                      },
                      "id": 18,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Occurrences"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(sum by(exception) (increase(http_server_requests_seconds_count{exception!=\"None\", job=\"$job\", $_instance_label_name=~\"$instance\"}[$__range]))) > 0",
                          "format": "table",
                          "instant": true,
                          "range": false,
                          "refId": "A"
                        }
                      ],
                      "title": "Exceptions",
                      "transformations": [
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true
                            },
                            "indexByName": {
                              "Time": 0,
                              "Value": 2,
                              "exception": 1
                            },
                            "renameByName": {
                              "Value": "Occurrences",
                              "exception": "Exception",
                              "method": "Method",
                              "outcome": "Outcome",
                              "uri": "URI"
                            }
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Method"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 96
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Outcome"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 133
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "URI"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 284
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Duration"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 105
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Num Requests"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "short"
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 15,
                        "x": 9,
                        "y": 22
                      },
                      "id": 17,
                      "maxDataPoints": 1,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Max Duration"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "topk(10, max (max_over_time(http_server_requests_seconds_max{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__range])) by(uri, outcome, method))",
                          "format": "table",
                          "instant": true,
                          "range": false,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum (increase(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__range])) by(uri, outcome, method)",
                          "format": "table",
                          "hide": false,
                          "instant": true,
                          "range": false,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum by(uri, outcome, method) (\n    increase(http_server_requests_seconds_sum{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__range])\n)\n/ \nsum by(uri, outcome, method) (\n    increase(http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\"}[$__range])\n)",
                          "format": "table",
                          "hide": false,
                          "instant": true,
                          "range": false,
                          "refId": "C"
                        }
                      ],
                      "title": "Top 10 Longest Requests",
                      "transformations": [
                        {
                          "id": "merge",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true
                            },
                            "indexByName": {
                              "Time": 0,
                              "Value": 4,
                              "method": 1,
                              "outcome": 3,
                              "uri": 2
                            },
                            "renameByName": {
                              "Value": "Duration",
                              "Value #A": "Max Duration",
                              "Value #B": "Num Requests",
                              "Value #C": "Avg Duration",
                              "method": "Method",
                              "outcome": "Outcome",
                              "uri": "URI"
                            }
                          }
                        },
                        {
                          "id": "filterByValue",
                          "options": {
                            "filters": [
                              {
                                "config": {
                                  "id": "isNull",
                                  "options": {}
                                },
                                "fieldName": "Max Duration"
                              }
                            ],
                            "match": "any",
                            "type": "exclude"
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "links": [],
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Method"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 84
                              },
                              {
                                "id": "custom.align",
                                "value": "center"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Count"
                            },
                            "properties": [
                              {
                                "id": "custom.align",
                                "value": "center"
                              },
                              {
                                "id": "unit",
                                "value": "short"
                              },
                              {
                                "id": "decimals",
                                "value": 0
                              },
                              {
                                "id": "custom.width",
                                "value": 102
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "HTTP Code"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 99
                              },
                              {
                                "id": "custom.align",
                                "value": "center"
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 24,
                        "x": 0,
                        "y": 33
                      },
                      "id": 26,
                      "maxDataPoints": 1,
                      "options": {
                        "footer": {
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Count"
                          }
                        ]
                      },
                      "pluginVersion": "9.2.3",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "label_replace(\n    sum by (method, uri, exception, status) (\n        increase(\n            http_server_requests_seconds_count{job=\"$job\", $_instance_label_name=~\"$instance\", status=~\"5..|400|499\"}[$__range]\n        )\n    ) > 0, \n    'uri', \n    '$1/*$2', \n    'uri', \n    '(.*)\\\\/\\\\{.+\\\\}(.*)'\n)",
                          "format": "table",
                          "instant": true,
                          "range": false,
                          "refId": "A"
                        }
                      ],
                      "title": "Errors",
                      "transformations": [
                        {
                          "id": "merge",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true,
                              "cluster": true,
                              "container": true,
                              "pod": true
                            },
                            "indexByName": {
                              "Time": 0,
                              "Value": 1,
                              "exception": 5,
                              "method": 3,
                              "status": 2,
                              "uri": 4
                            },
                            "renameByName": {
                              "Value": "Count",
                              "Value #A": "Max Duration",
                              "Value #B": "Num Requests",
                              "Value #C": "Avg Duration",
                              "exception": "Exception",
                              "method": "Method",
                              "outcome": "Outcome",
                              "pod": "Pod",
                              "status": "HTTP Code",
                              "uri": "URI"
                            }
                          }
                        },
                        {
                          "id": "filterByValue",
                          "options": {
                            "filters": [
                              {
                                "config": {
                                  "id": "isNull",
                                  "options": {}
                                },
                                "fieldName": "Max Duration"
                              }
                            ],
                            "match": "any",
                            "type": "exclude"
                          }
                        }
                      ],
                      "type": "table"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "spring",
                    "http"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "default",
                          "value": "default"
                        },
                        "includeAll": false,
                        "label": "Datasource",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "instance",
                          "value": "instance"
                        },
                        "description": "By default `instance` label is an IP-address and port, which is not very human-friendly. In some cases you may have something better, such as `hostname` or `pod`. Use this variable to quickly switch from instance to something else.",
                        "hide": 2,
                        "name": "_instance_label_name",
                        "query": "instance",
                        "skipUrlSync": true,
                        "type": "constant"
                      },
                      {
                        "current": {
                          "text": "agc/prod-agc-admin-service",
                          "value": "agc/prod-agc-admin-service"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(http_server_requests_seconds_count, job)",
                        "includeAll": false,
                        "label": "Job",
                        "name": "job",
                        "options": [],
                        "query": {
                          "query": "label_values(http_server_requests_seconds_count, job)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": [
                            "All"
                          ],
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(http_server_requests_seconds_count{job=\"$job\",}, $_instance_label_name)",
                        "includeAll": true,
                        "label": "Instance",
                        "multi": true,
                        "name": "instance",
                        "options": [],
                        "query": {
                          "query": "label_values(http_server_requests_seconds_count{job=\"$job\",}, $_instance_label_name)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "",
                  "title": "Spring HTTP Example",
                  "uid": "hKW8gvD4z",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/Dehaat/namespace_latency.json)
              cat > /dashboards/LAB/Clients/Dehaat/namespace_latency.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 2,
                  "id": 149,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 0
                      },
                      "id": 17,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{service_name=\"$application\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) * 60",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Panel Title",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 16,
                        "y": 0
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(status) (rate(http_server_requests_seconds_count{status!=\"200\", job=\"agc/$application\"}[$__interval]))",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Errors by Response Code",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 0,
                        "y": 8
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{span_kind=\"SPAN_KIND_CLIENT\"}[1m]))",
                          "legendFormat": "RPM",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Requests",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle"
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 40
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 8,
                        "y": 8
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_status_code=~\"^2.*|^3.*\"\n    }\n)[$__interval] * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\"\n    }\n)[$__interval]",
                          "legendFormat": "Success Rate",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_status_code!~\"^2.*|^3.*\"\n    }\n)[$__interval] * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\"\n    }\n)[$__interval]",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "Error Rate",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Success/Error Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P95"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 14
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.99, sum by(le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "legendFormat": "P99",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.95, sum by(le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "P95",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.90, sum by(le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "P90",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "P99-Latency",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 21
                      },
                      "id": 4,
                      "interval": "60s",
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "histogram_quantile(0.99, sum by(le, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "quantile:latency:p95:service:1m{service_name=\"traya-api-server-prod-prod\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "p95",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "quantile:latency:p90:service:1m{service_name=\"traya-api-server-prod-prod\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "p90",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "P99-Latency - service",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 29
                      },
                      "id": 9,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(uri) (rate(http_server_requests_seconds_count{status!=\"200\", job=\"agc/$application\"}[$__interval]))",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Errors per API",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 29
                      },
                      "id": 8,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(uri) (rate(http_server_requests_seconds_count{ uri!=\"/actuator/health\", job=\"agc/$application\" }[1m])) * 60",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Requests per API",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 37
                      },
                      "id": 7,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 300,
                        "minVizHeight": 16,
                        "minVizWidth": 8,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "auto",
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum by(uri) (rate(http_server_requests_seconds_sum{job=\"agc/$application\", uri!=\"/actuator/health\"}[$__interval])) / sum by(uri) (rate(http_server_requests_seconds_count{job=\"agc/$application\", uri!=\"/actuator/health\"}[$__interval]))",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Duration",
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "tempo",
                        "uid": "tempo"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 45
                      },
                      "id": 16,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Duration"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "tempo",
                            "uid": "tempo"
                          },
                          "filters": [
                            {
                              "id": "5427cebf",
                              "operator": "=",
                              "scope": "span"
                            },
                            {
                              "id": "service-name",
                              "operator": "=",
                              "scope": "resource",
                              "tag": "service.name",
                              "value": [],
                              "valueType": "string"
                            }
                          ],
                          "limit": 100,
                          "metricsQueryType": "range",
                          "query": "{resource.service.namespace=\"agc\" && span.http.route = \"$route\" && span.http.route != \"/actuator/health\" && duration > 10ms }",
                          "queryType": "traceql",
                          "refId": "A",
                          "spss": 20,
                          "tableType": "traces"
                        }
                      ],
                      "title": "Panel Title",
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-YlRd"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Endpoint"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 445
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P99 Latency"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 152
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P95 Latency"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 126
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "P90 Latency"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 150
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 29,
                        "w": 17,
                        "x": 0,
                        "y": 53
                      },
                      "id": 6,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "enablePagination": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 6,
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "P99 Latency"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "ddxrkvw4t1uyoe"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  histogram_quantile(0.99,\n    sum by (le, http_method, http_route) (\n      rate(traces_span_metrics_duration_milliseconds_bucket{\n        span_kind=\"SPAN_KIND_SERVER\",\n        service_name=~\"^prod-agc-.*\"\n      }[$__interval])\n    )\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "interval": "",
                          "legendFormat": "{{operation}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  histogram_quantile(0.95,\n    sum by (le, http_method, http_route) (\n      rate(traces_span_metrics_duration_milliseconds_bucket{\n        span_kind=\"SPAN_KIND_SERVER\",\n        service_name=~\"^prod-agc-.*\"\n      }[$__interval])\n    )\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{operation}}",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  histogram_quantile(0.90,\n    sum by (le, http_method, http_route) (\n      rate(traces_span_metrics_duration_milliseconds_bucket{\n        span_kind=\"SPAN_KIND_SERVER\",\n        service_name=~\"^prod-agc-.*\"\n      }[$__interval])\n    )\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{operation}}",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum by (operation) (label_join(\n  sum by (http_method, http_route) (\n    rate(traces_span_metrics_duration_milliseconds_count{\n      service_name=~\"^prod-agc-.*\",\n      span_kind=\"SPAN_KIND_SERVER\"\n    }[1m])\n  ),\n  \"operation\",\n  \" \",\n  \"http_method\",\n  \"http_route\"\n))",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "D"
                        }
                      ],
                      "title": "Latency",
                      "transformations": [
                        {
                          "id": "timeSeriesTable",
                          "options": {}
                        },
                        {
                          "id": "joinByField",
                          "options": {
                            "byField": "operation",
                            "mode": "outer"
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Trend #A": "P99 Latency",
                              "Trend #B": "P95 Latency",
                              "Trend #C": "P90 Latency",
                              "Trend #D": "Requests",
                              "operation": "Endpoint"
                            }
                          }
                        }
                      ],
                      "transparent": true,
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 82
                      },
                      "id": 5,
                      "interval": "60s",
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "quantile:latency:p99:apis:1m{service_name=\"$application\"}",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "{{http_route}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Latency - apis",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "1m",
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "agc",
                          "value": "agc"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{namespace!~\"logging|monitoring|observability|kube-system\"},namespace)",
                        "includeAll": false,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{namespace!~\"logging|monitoring|observability|kube-system\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "prod-agc-community-web-service",
                          "value": "prod-agc-community-web-service"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\"},deployment)",
                        "includeAll": false,
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "prod-agc-community-web-service-66c6c44d7-c6mx8",
                          "value": "prod-agc-community-web-service-66c6c44d7-c6mx8"
                        },
                        "definition": "label_values(kube_pod_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=~\"^$application.*\"},pod)",
                        "label": "Pod",
                        "name": "pods",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=~\"^$application.*\"},pod)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "/actuator/health",
                          "value": "/actuator/health"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values({service_name=\"$application\"},http_route)",
                        "label": "Route",
                        "name": "route",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values({service_name=\"$application\"},http_route)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-24h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AGC-Monitoring",
                  "uid": "fdwebqagcmoniro",
                  "version": 6
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/Dehaat/service_latency2.json)
              cat > /dashboards/LAB/Clients/Dehaat/service_latency2.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 2,
                  "id": 147,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Latency (ms) (last)"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "ms"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "HTTP Method"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 110
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Endpoint"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 181
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 16,
                        "w": 8,
                        "x": 0,
                        "y": 0
                      },
                      "id": 6,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 6,
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Endpoint"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "ddxrkvw4t1uyoe"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.99, sum by(le, http_method, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "P99 Latency",
                      "transformations": [
                        {
                          "id": "labelsToFields",
                          "options": {}
                        },
                        {
                          "id": "merge",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true
                            },
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Time": "",
                              "Value": "Latency (ms)",
                              "http_method": "HTTP Method",
                              "http_route": "Endpoint"
                            }
                          }
                        },
                        {
                          "id": "groupBy",
                          "options": {
                            "fields": {
                              "Endpoint": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "HTTP Method": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "Latency (ms)": {
                                "aggregations": [
                                  "last"
                                ],
                                "operation": "aggregate"
                              }
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Latency (ms) (last)": "Latency(ms)"
                            }
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Latency (ms) (last)"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "ms"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "HTTP Method"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 111
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Endpoint"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 170
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 16,
                        "w": 8,
                        "x": 8,
                        "y": 0
                      },
                      "id": 8,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 6,
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Endpoint"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "ddxrkvw4t1uyoe"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.95, sum by(le, http_method, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "P95 Latency",
                      "transformations": [
                        {
                          "id": "labelsToFields",
                          "options": {}
                        },
                        {
                          "id": "merge",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true
                            },
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Time": "",
                              "Value": "Latency (ms)",
                              "http_method": "HTTP Method",
                              "http_route": "Endpoint"
                            }
                          }
                        },
                        {
                          "id": "groupBy",
                          "options": {
                            "fields": {
                              "Endpoint": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "HTTP Method": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "Latency (ms)": {
                                "aggregations": [
                                  "last"
                                ],
                                "operation": "aggregate"
                              }
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Latency (ms) (last)": "Latency(ms)"
                            }
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Latency (ms) (last)"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "ms"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "HTTP Method"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 111
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Endpoint"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 178
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 16,
                        "w": 8,
                        "x": 16,
                        "y": 0
                      },
                      "id": 9,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 6,
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Endpoint"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "ddxrkvw4t1uyoe"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.90, sum by(le, http_method, http_route) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\"}[$__interval])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "P90 Latency",
                      "transformations": [
                        {
                          "id": "labelsToFields",
                          "options": {}
                        },
                        {
                          "id": "merge",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true
                            },
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Time": "",
                              "Value": "Latency (ms)",
                              "http_method": "HTTP Method",
                              "http_route": "Endpoint"
                            }
                          }
                        },
                        {
                          "id": "groupBy",
                          "options": {
                            "fields": {
                              "Endpoint": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "HTTP Method": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "Latency (ms)": {
                                "aggregations": [
                                  "last"
                                ],
                                "operation": "aggregate"
                              }
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Latency (ms) (last)": "Latency(ms)"
                            }
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 16
                      },
                      "id": 5,
                      "interval": "60s",
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "quantile:latency:p99:apis:1m{service_name=\"$application\"}",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "{{http_route}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Latency - apis",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Latency (ms) (last)"
                            },
                            "properties": [
                              {
                                "id": "unit",
                                "value": "ms"
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 16,
                        "w": 12,
                        "x": 12,
                        "y": 16
                      },
                      "id": 7,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "frameIndex": 6,
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": false,
                            "displayName": "Count (last)"
                          }
                        ]
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "ddxrkvw4t1uyoe"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "topk(10, sum(rate(traces_span_metrics_duration_milliseconds_count{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", http_status_code!~\"^2.*|^3.*\"}[$__interval])) by (http_route, http_status_code))",
                          "hide": false,
                          "instant": true,
                          "legendFormat": "__auto",
                          "range": false,
                          "refId": "B"
                        }
                      ],
                      "title": "Top 10 Highest Endpoint gives error rate Last 10 min",
                      "transformations": [
                        {
                          "id": "labelsToFields",
                          "options": {}
                        },
                        {
                          "id": "merge",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true
                            },
                            "includeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Value": "Count",
                              "http_route": "Endpoint",
                              "http_status_code": "HTTP Status Code"
                            }
                          }
                        },
                        {
                          "id": "groupBy",
                          "options": {
                            "fields": {
                              "Count": {
                                "aggregations": [
                                  "last"
                                ],
                                "operation": "aggregate"
                              },
                              "Endpoint": {
                                "aggregations": [],
                                "operation": "groupby"
                              },
                              "HTTP Status Code": {
                                "aggregations": [],
                                "operation": "groupby"
                              }
                            }
                          }
                        }
                      ],
                      "type": "table"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "edwh2rb33tbswa"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "p90"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 32
                      },
                      "id": 4,
                      "interval": "60s",
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "quantile:latency:p99:service:1m{service_name=\"$application\"}",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "P99",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "quantile:latency:p95:service:1m{service_name=\"traya-api-server-prod-prod\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "p95",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "edwh2rb33tbswa"
                          },
                          "editorMode": "code",
                          "expr": "quantile:latency:p90:service:1m{service_name=\"traya-api-server-prod-prod\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "p90",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "Latency - service",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "1m",
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "agc",
                          "value": "agc"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{namespace!~\"logging|monitoring|observability|kube-system\"},namespace)",
                        "includeAll": false,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{namespace!~\"logging|monitoring|observability|kube-system\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "prod-agc-admin-service",
                          "value": "prod-agc-admin-service"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\"},deployment)",
                        "includeAll": false,
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-12h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Kubernetes / service latency",
                  "uid": "fdfpilkaoekjh",
                  "version": 2
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/Dehaat/spring_boot.json)
              cat > /dashboards/LAB/Clients/Dehaat/spring_boot.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 143,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 0
                      },
                      "id": 4,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(http_server_requests_seconds_count{application=\"$app_name\", uri!=\"/actuator/prometheus\"})",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "24h",
                      "title": "Total Requests",
                      "transformations": [
                        {
                          "id": "seriesToRows",
                          "options": {}
                        },
                        {
                          "id": "sortBy",
                          "options": {
                            "fields": {},
                            "sort": [
                              {
                                "field": "Time"
                              }
                            ]
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 8,
                        "x": 4,
                        "y": 0
                      },
                      "id": 16,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "value_and_name",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum by(uri) (http_server_requests_seconds_count{application=\"$app_name\", uri!=\"/actuator/prometheus\"})",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{method}} {{uri}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "24h",
                      "title": "Requests Count",
                      "transformations": [
                        {
                          "id": "seriesToRows",
                          "options": {}
                        },
                        {
                          "id": "sortBy",
                          "options": {
                            "fields": {},
                            "sort": [
                              {
                                "field": "Time"
                              }
                            ]
                          }
                        },
                        {
                          "id": "partitionByValues",
                          "options": {
                            "fields": [
                              "Metric"
                            ]
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 12,
                        "x": 12,
                        "y": 0
                      },
                      "id": 6,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 300,
                        "minVizHeight": 10,
                        "minVizWidth": 0,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "auto",
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum by(uri)(http_server_requests_seconds_sum{application=\"$app_name\"}) / sum by(uri)(http_server_requests_seconds_count{application=\"$app_name\"})",
                          "interval": "",
                          "legendFormat": "{{method}} {{uri}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Requests Average Duration",
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 4,
                        "x": 0,
                        "y": 6
                      },
                      "id": 22,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum(http_server_requests_seconds_count{application=\"$app_name\", outcome=\"SERVER_ERROR\"})",
                          "interval": "",
                          "legendFormat": "",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "24h",
                      "title": "Total Exceptions",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 1,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "area"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "red"
                              },
                              {
                                "color": "green",
                                "value": 0.8
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 10,
                        "x": 4,
                        "y": 6
                      },
                      "id": 18,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum by(uri) (http_server_requests_seconds_count{application=\"$app_name\", status=~\"2.*\", uri!=\"/actuator/prometheus\"}) / sum by(uri) (http_server_requests_seconds_count{application=\"$app_name\", uri!=\"/actuator/prometheus\"})",
                          "interval": "",
                          "legendFormat": "{{path}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Percent of 2xx Requests",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 1,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "area"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 0.1
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 10,
                        "x": 14,
                        "y": 6
                      },
                      "id": 20,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum by(uri) (http_server_requests_seconds_count{application=\"$app_name\", status=~\"5.*\", uri!=\"/actuator/prometheus\"}) / sum by(uri) (http_server_requests_seconds_count{application=\"$app_name\", uri!=\"/actuator/prometheus\"})",
                          "interval": "",
                          "legendFormat": "{{uri}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Percent of 5xx Requests",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 0,
                        "y": 13
                      },
                      "id": 8,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "histogram_quantile(.99,sum(rate(http_server_requests_seconds_bucket{application=\"$app_name\", uri!=\"/actuator/prometheus\"}[1m])) by(uri, le))",
                          "interval": "",
                          "legendFormat": "{{uri}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "PR 99 Requests Duration",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 8,
                        "y": 13
                      },
                      "id": 23,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "histogram_quantile(.95,sum(rate(http_server_requests_seconds_bucket{application=\"$app_name\", uri!=\"/actuator/prometheus\"}[1m])) by(uri, le))",
                          "interval": "",
                          "legendFormat": "{{uri}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "PR 95 Requests Duration",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "reqps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 16,
                        "y": 13
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "sum by(uri)(rate(http_server_requests_seconds_count{application=\"$app_name\"}[1m]))",
                          "interval": "",
                          "legendFormat": "{{uri}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Request Per Sec",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "logging"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "bars",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "ERROR"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "INFO"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "CRITICAL"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "purple",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 6,
                        "x": 0,
                        "y": 21
                      },
                      "id": 14,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "logging"
                          },
                          "editorMode": "code",
                          "expr": "sum by(type) (rate({compose_service=~\"app-.*\"} | pattern `<date> <time> <_>=<trace_id> <_>=<span_id> <_>=<trace_flags> <type> <_> --- <msg>` | type != \"\" |= \"$log_keyword\" [1m]))",
                          "legendFormat": "{{type}}",
                          "queryType": "range",
                          "refId": "A"
                        }
                      ],
                      "title": "Log Type Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "logging"
                      },
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 18,
                        "x": 6,
                        "y": 21
                      },
                      "id": 2,
                      "options": {
                        "dedupStrategy": "none",
                        "enableInfiniteScrolling": false,
                        "enableLogDetails": true,
                        "prettifyLogMessage": false,
                        "showCommonLabels": false,
                        "showLabels": false,
                        "showTime": false,
                        "sortOrder": "Descending",
                        "wrapLogMessage": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "logging"
                          },
                          "editorMode": "code",
                          "expr": "{compose_service=~\"app-.*\"} | pattern `<date> <time> <_>=<trace_id> <_>=<span_id> <_>=<trace_flags> <type> <_> --- <msg>` | line_format \"{{.compose_service}}\\t{{.type}}\\ttrace_id={{.trace_id}}\\t{{.msg}}\" |= \"$log_keyword\"",
                          "hide": false,
                          "queryType": "range",
                          "refId": "A"
                        }
                      ],
                      "title": "Log of All Spring Boot Apps",
                      "type": "logs"
                    }
                  ],
                  "preload": false,
                  "refresh": "5s",
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values()",
                        "includeAll": false,
                        "label": "Application Name",
                        "name": "app_name",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values()",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "description": "query with keyword",
                        "label": "Log Query",
                        "name": "log_keyword",
                        "options": [
                          {
                            "selected": true,
                            "text": "",
                            "value": ""
                          }
                        ],
                        "query": "",
                        "type": "textbox"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-5m",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "",
                  "title": "Spring Boot Observability",
                  "uid": "dLsDQIUnzb",
                  "version": 3
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/FCI_CCM/Global-Dashboard.json)
              cat > /dashboards/LAB/Clients/FCI_CCM/Global-Dashboard.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "Global Dashboard with Services, Endpoints, Node Count and Consumption widgets.",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 211,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 34,
                      "panels": [],
                      "title": " Services Success Rate",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It shows the percentage of successful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": false,
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 1
                      },
                      "id": 44,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [
                            {
                              "clickThrough": "",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "displayMode": "all",
                              "enabled": true,
                              "isTemplated": false,
                              "label": "Composite-0",
                              "metrics": [
                                {
                                  "ID": "737389c0-9ccb-4a37-a105-f20e67141892",
                                  "alias": "",
                                  "order": 0,
                                  "seriesMatch": "consumer|varta-dev-eks|varta-dev"
                                }
                              ],
                              "name": "Composite-0",
                              "order": 0,
                              "showComposite": true,
                              "showMembers": true,
                              "showName": true,
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "showValue": true
                            }
                          ],
                          "enabled": false
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": true,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "red",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": [
                            {
                              "alias": "",
                              "clickThrough": "https://observability.fci-ccm.com/grafana/d/service-hive-opstree/services-hive-dashboard-final?orgId=1&from=now-1h&to=now&timezone=browser&var-datasource=victoriametrics&var-cluster=varta-dev-eks&var-namespace=varta-dev&var-application=$1",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "colors": [
                                "#299c46",
                                "#ed8128",
                                "#f53636",
                                "#0a55a1"
                              ],
                              "decimals": "1",
                              "enabled": true,
                              "label": "service_panel",
                              "metricName": "([^\"]+)",
                              "operatorName": "mean",
                              "order": 0,
                              "prefix": "",
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "suffix": "",
                              "thresholds": [],
                              "unitFormat": "percent"
                            }
                          ]
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "exemplar": true,
                          "expr": "(\n  sum by (service_name, cluster, namespace) (\n    traces_span_metrics_duration_milliseconds_count{\n      cluster=\"$cluster\",\n      namespace=\"$namespace\",\n      span_kind=\"SPAN_KIND_SERVER\",\n      http_response_status_code=~\"^2.*|^3.*\"\n    }[1m]\n  )\n  /\n  sum by (service_name, cluster, namespace) (\n    traces_span_metrics_duration_milliseconds_count{\n      cluster=\"$cluster\",\n      namespace=\"$namespace\",\n      span_kind=\"SPAN_KIND_SERVER\"\n    }[1m]\n  )\n) * 100 < 90\n",
                          "format": "time_series",
                          "instant": false,
                          "interval": "",
                          "legendFormat": "{{service_name}}",
                          "range": true,
                          "refId": "success"
                        }
                      ],
                      "title": "< 90 Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It shows the percentage of successful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 1
                      },
                      "id": 43,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "super-light-orange",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": [
                            {
                              "alias": "",
                              "clickThrough": "https://observability.fci-ccm.com/grafana/d/service-hive-opstree/services-hive-dashboard-final?orgId=1&from=now-1h&to=now&timezone=browser&var-datasource=victoriametrics&var-cluster=varta-dev-eks&var-namespace=varta-dev&var-application=$1",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "colors": [
                                "#299c46",
                                "#ed8128",
                                "#f53636",
                                "#0a55a1"
                              ],
                              "decimals": "1",
                              "enabled": true,
                              "label": "service_panel",
                              "metricName": "([^\"]+)",
                              "operatorName": "mean",
                              "order": 0,
                              "prefix": "",
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "suffix": "",
                              "thresholds": [],
                              "unitFormat": "percent"
                            }
                          ]
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "\n  ( sum by (service_name) (\n    traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",span_kind=\"SPAN_KIND_SERVER\", http_response_status_code=~\"^2.*|^3.*\"}[1m]\n  )\n    /\n  sum by (service_name) (\n    traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",span_kind=\"SPAN_KIND_SERVER\"}[1m]\n  )\n   ) * 100 > 90\nand \n  ( sum by (service_name) (\n    traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",span_kind=\"SPAN_KIND_SERVER\", http_response_status_code=~\"^2.*|^3.*\"}[1m]\n  )\n    /\n  sum by (service_name) (\n    traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",span_kind=\"SPAN_KIND_SERVER\"}[1m]\n  )\n   ) * 100 <= 99.9",
                          "instant": false,
                          "legendFormat": "{{service_name}}",
                          "range": true,
                          "refId": "success"
                        }
                      ],
                      "title": "> 90 and < 99.99 Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It shows the percentage of successful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 1
                      },
                      "id": 36,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "light-green",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": [
                            {
                              "alias": "",
                              "clickThrough": "https://observability.fci-ccm.com/grafana/d/service-hive-opstree/services-hive-dashboard-final?orgId=1&from=now-1h&to=now&timezone=browser&var-datasource=victoriametrics&var-cluster=varta-dev-eks&var-namespace=varta-dev&var-application=$1",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "colors": [
                                "#299c46",
                                "#ed8128",
                                "#f53636",
                                "#0a55a1"
                              ],
                              "decimals": "1",
                              "enabled": true,
                              "label": "service_panel",
                              "metricName": "([^\"]+)",
                              "operatorName": "mean",
                              "order": 0,
                              "prefix": "",
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "suffix": "",
                              "thresholds": [],
                              "unitFormat": "percent"
                            }
                          ]
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "  ( sum by (service_name) (\n    traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",span_kind=\"SPAN_KIND_SERVER\", http_response_status_code=~\"^2.*|^3.*\"}[1m]\n  )\n    /\n  sum by (service_name) (\n    traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",span_kind=\"SPAN_KIND_SERVER\"}[1m]\n  )\n   ) * 100 == 100",
                          "instant": false,
                          "legendFormat": "{{service_name}}",
                          "range": true,
                          "refId": "success"
                        }
                      ],
                      "title": "100% Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 11
                      },
                      "id": 29,
                      "panels": [],
                      "title": "Services Request Rate",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "request rate per minute over last 1 minutes",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 12
                      },
                      "id": 41,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#F2495C",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "reqpm",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 5,
                        "overrideConfig": {
                          "overrides": [
                            {
                              "alias": "",
                              "clickThrough": "https://observability.fci-ccm.com/grafana/d/service-hive-opstree/services-hive-dashboard-final?orgId=1&from=now-1h&to=now&timezone=browser&var-datasource=victoriametrics&var-cluster=varta-dev-eks&var-namespace=varta-dev&var-application=$1",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "colors": [
                                "#299c46",
                                "#ed8128",
                                "#f53636",
                                "#0a55a1"
                              ],
                              "decimals": "1",
                              "enabled": true,
                              "label": "service_name",
                              "metricName": "([^\"]+)",
                              "operatorName": "mean",
                              "order": 0,
                              "prefix": "",
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "suffix": "",
                              "thresholds": [],
                              "unitFormat": "reqpm"
                            }
                          ]
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",service_name=~\".*\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) by (service_name) \n> 0 and sum(rate(traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",service_name=~\".*\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) by (service_name) <= 10\n",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{service_name}}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Inactive",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "request rate per minute over the last 1 minute",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 12
                      },
                      "id": 38,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#FFCB7D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "reqpm",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 5,
                        "overrideConfig": {
                          "overrides": [
                            {
                              "alias": "",
                              "clickThrough": "https://observability.fci-ccm.com/grafana/d/service-hive-opstree/services-hive-dashboard-final?orgId=1&from=now-1h&to=now&timezone=browser&var-datasource=victoriametrics&var-cluster=varta-dev-eks&var-namespace=varta-dev&var-application=$1",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "colors": [
                                "#299c46",
                                "#ed8128",
                                "#f53636",
                                "#0a55a1"
                              ],
                              "decimals": "1",
                              "enabled": true,
                              "label": "service_panel",
                              "metricName": "([^\"]+)",
                              "operatorName": "mean",
                              "order": 0,
                              "prefix": "",
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "suffix": "",
                              "thresholds": [],
                              "unitFormat": "reqpm"
                            }
                          ]
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",service_name=~\".*\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) by (service_name) > 10 \nand sum(rate(traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",service_name=~\".*\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) by (service_name) <= 6000\n",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{service_name}}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Moderately Active",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "request rate per minute over last 1 minutes",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 12
                      },
                      "id": 42,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "reqpm",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 5,
                        "overrideConfig": {
                          "overrides": [
                            {
                              "alias": "",
                              "clickThrough": "https://observability.fci-ccm.com/grafana/d/service-hive-opstree/services-hive-dashboard-final?orgId=1&from=now-1h&to=now&timezone=browser&var-datasource=victoriametrics&var-cluster=varta-dev-eks&var-namespace=varta-dev&var-application=$1",
                              "clickThroughCustomTarget": "",
                              "clickThroughCustomTargetEnabled": false,
                              "clickThroughOpenNewTab": true,
                              "clickThroughSanitize": true,
                              "colors": [
                                "#299c46",
                                "#ed8128",
                                "#f53636",
                                "#0a55a1"
                              ],
                              "decimals": "1",
                              "enabled": true,
                              "label": "service_panel",
                              "metricName": "([^\"]+)",
                              "operatorName": "mean",
                              "order": 0,
                              "prefix": "",
                              "showTimestampEnabled": false,
                              "showTimestampFormat": "HH:mm:ss",
                              "showTimestampYOffset": 0,
                              "suffix": "",
                              "thresholds": [],
                              "unitFormat": "reqpm"
                            }
                          ]
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",service_name=~\".*\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) by (service_name) > 6000\nand sum(rate(traces_span_metrics_duration_milliseconds_count{cluster=\"$cluster\",namespace=\"$namespace\",service_name=~\".*\", span_kind=\"SPAN_KIND_SERVER\"}[1m])) by (service_name) <= 60000\n",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "{{service_name}}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Active",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 23
                      },
                      "id": 204,
                      "panels": [],
                      "title": "Endpoints",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "Endpoints in current namespace/cluster",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 12,
                        "w": 24,
                        "x": 0,
                        "y": 24
                      },
                      "id": 202,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [
                            {
                              "isTemplated": true,
                              "name": "$namespace/$endpoint",
                              "pattern": ".*$endpoint.*"
                            }
                          ],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 40,
                        "ellipseEnabled": true,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "No Endpoints",
                        "globalFillColor": "rgba(255, 140, 0, 1)",
                        "globalFontSize": 30,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 5,
                        "globalPolygonSize": 200,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#C4162A",
                            "state": 0,
                            "value": 0
                          },
                          {
                            "color": "#E0B400",
                            "state": 2,
                            "value": 80
                          },
                          {
                            "color": "#37872D",
                            "state": 1,
                            "value": 100
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "name",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "avg_over_time(probe_success{cluster=~\"$cluster\",instance=~\"$endpoint\"}[1h]) * 100",
                          "legendFormat": "{{instance}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Endpoints Success Rate",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 36
                      },
                      "id": 205,
                      "panels": [],
                      "title": "EKS Nodes",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 17,
                        "w": 12,
                        "x": 0,
                        "y": 37
                      },
                      "id": 203,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "topk(10, sum(rate(node_cpu_seconds_total{cluster=\"$cluster\", container!=\"\"}[5m])) by (node))",
                          "legendFormat": "{{node}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Top 10 Nodes by CPU Usage",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 17,
                        "w": 12,
                        "x": 12,
                        "y": 37
                      },
                      "id": 4,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 * (1 - (node_memory_MemAvailable_bytes{cluster=\"$cluster\"} / node_memory_MemTotal_bytes{cluster=\"$cluster\"}))",
                          "legendFormat": "{{ instance }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Top 10 Nodes by Memory Usage ",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 24,
                        "x": 0,
                        "y": 54
                      },
                      "id": 3,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "expr": "count(kube_node_info{cluster=\"$cluster\"})",
                          "refId": "A"
                        }
                      ],
                      "title": "Nodes Count Trend Widget",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "30s",
                  "schemaVersion": 41,
                  "tags": [
                    "ot-summary",
                    "ot-kit"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "varta-dev-eks",
                          "value": "varta-dev-eks"
                        },
                        "datasource": "victoriametrics",
                        "includeAll": false,
                        "label": "account",
                        "name": "cluster",
                        "options": [],
                        "query": "label_values(kube_node_info, cluster)",
                        "refresh": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "varta-dev",
                          "value": "varta-dev"
                        },
                        "datasource": "victoriametrics",
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\"},namespace)",
                        "includeAll": false,
                        "label": "Namespace",
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "victoriametrics"
                        },
                        "definition": "label_values(probe_success{cluster=\"$cluster\"},instance)",
                        "description": "endpoint",
                        "includeAll": true,
                        "label": "endpoint",
                        "name": "endpoint",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(probe_success{cluster=\"$cluster\"},instance)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-5m",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Global-Dashboard",
                  "uid": "global_service",
                  "version": 83
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/FCI_CCM/ervices-Hive-Dashboard.json)
              cat > /dashboards/LAB/Clients/FCI_CCM/ervices-Hive-Dashboard.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "A dashboard to visualize application's deployment.",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 204,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage of pods in a specified namespace",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 0,
                        "y": 0
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "avg cpu - {{ replicaset }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "AVG",
                          "step": 10
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "max by (replicaset, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "max cpu - {{ replicaset }}",
                          "range": true,
                          "refId": "MAX"
                        }
                      ],
                      "title": "CPU Core Usage by $application",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "it showing the total memory used by pods for a specific deployment.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 1,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 12,
                        "y": 0
                      },
                      "id": 11,
                      "options": {
                        "legend": {
                          "asTable": true,
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "avg by (replicaset, deployment) (\n  container_memory_working_set_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "avg memory - {{ replicaset }}",
                          "range": true,
                          "refId": "AVG",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "max by (replicaset, deployment) (\n  container_memory_working_set_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\", pod=~\"^$application.*$\"}\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_info{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\", owner_name=\"$application\"}",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "max memory - {{ replicaset }}",
                          "range": true,
                          "refId": "MAX"
                        }
                      ],
                      "title": "Memory Usage - $application",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "request rate per minute over last 1 minutes",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 2,
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "reqpm"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 0,
                        "y": 12
                      },
                      "id": 14,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(traces_span_metrics_duration_milliseconds_count{service_name=\"$application\", span_kind=\"SPAN_KIND_SERVER\", http_route=~\"$route\"}[1m])) by (span_name)",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Request Rate",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU throttling ratio for each container within a specific application in a Kubernetes namespace.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 12,
                        "y": 12
                      },
                      "id": 20,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(increase(container_cpu_cfs_throttled_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", cluster=\"$cluster\"}[$__rate_interval])) by (container) /sum(increase(container_cpu_cfs_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", cluster=\"$cluster\"}[$__rate_interval])) by (container)",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{ pod }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "CPU Throttling",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "by route and http status code",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 24,
                        "x": 0,
                        "y": 24
                      },
                      "id": 15,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "histogram_quantile(0.99, sum by(service_name, le) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", route=~\"$route\"}[1m])))",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "P99",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "expr": "histogram_quantile(0.95, sum by(le, service_name) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", route=~\"$route\"}[1m])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "p95",
                          "range": true,
                          "refId": "B",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "expr": "histogram_quantile(0.9, sum by(le, service_name) (rate(traces_span_metrics_duration_milliseconds_bucket{span_kind=\"SPAN_KIND_SERVER\", service_name=\"$application\", route=~\"$route\"}[1m])))",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "instant": false,
                          "legendFormat": "p90",
                          "range": true,
                          "refId": "C",
                          "useBackend": false
                        }
                      ],
                      "title": "Latency $route",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows the percentage of successful and unsuccessful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 30
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle"
                              },
                              {
                                "id": "custom.fillOpacity",
                                "value": 30
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 0,
                        "y": 35
                      },
                      "id": 16,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        cluster=\"$cluster\",\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_response_status_code=~\"^2.*|^3.*\", \n        http_route=~\"$route\"\n    }\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        cluster=\"$cluster\",\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\", \n        http_route=~\"$route\"\n    }\n)",
                          "instant": false,
                          "legendFormat": "Success Rate",
                          "range": true,
                          "refId": "success"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        cluster=\"$cluster\",\n        service_name=\"$application\", \n        span_kind=\"SPAN_KIND_SERVER\", \n        http_response_status_code!~\"^2.*|^3.*\", \n        http_route=~\"$route\"\n    }\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        cluster=\"$cluster\",\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\", \n        http_route=~\"$route\"\n    }\n)",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "Error Rate",
                          "range": true,
                          "refId": "error"
                        }
                      ],
                      "title": "Success/Error Rate of $route",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows the percentage of successful and unsuccessful HTTP requests for a specific route within an application\n",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "max": 10,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "text"
                              },
                              {
                                "color": "dark-red",
                                "value": 0
                              },
                              {
                                "color": "#EAB839",
                                "value": 50
                              },
                              {
                                "color": "dark-green",
                                "value": 90
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Error Rate"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Success Rate"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "green",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 12,
                        "y": 35
                      },
                      "id": 42,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "value",
                        "wideLayout": true
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(\n    traces_span_metrics_duration_milliseconds_count{\n        service_name=\"$application\", \n        cluster=\"$cluster\",\n        span_kind=\"SPAN_KIND_SERVER\", \n        http_response_status_code=~\"^2.*|^3.*\", \n        http_route=~\"$route\"\n    }[$__range] or\nvector(0)\n) * 100\n/\nsum(\n    traces_span_metrics_duration_milliseconds_count{\n        cluster=\"$cluster\",\n        span_kind=\"SPAN_KIND_SERVER\", \n        service_name=\"$application\", \n        http_route=~\"$route\"\n    }[$__range]\n)",
                          "instant": false,
                          "interval": "",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "success"
                        }
                      ],
                      "title": "Overall Success Ratio",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 45
                      },
                      "id": 23,
                      "panels": [],
                      "title": "CPU/Memory Utilization",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage less than 40%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 46
                      },
                      "id": 19,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#ed8128",
                            "state": 1,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (pod, deployment)  (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container=\"$application\", cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{cluster=\"$cluster\",namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n  *\n  on(replicaset) group_left(deployment)\n  kube_replicaset_owner{cluster=\"$cluster\",namespace=\"$namespace\", owner_kind=\"Deployment\"}\n) < 0.40\n",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{ deployment }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "CPU Minimal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage greater than 40% and  less than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 46
                      },
                      "id": 21,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (pod, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",pod=~\"^$application.*$\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n> 0.4 and\navg by (replicaset, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n< 0.75",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{{ deployment }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "CPU Ideal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage greater than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 46
                      },
                      "id": 27,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#F2495C",
                            "state": 2,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (pod, deployment) (\n  rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",pod=~\"^$application.*$\"}[1m])\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n)\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n> 0.75",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{{ deployment }}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "CPU Excessive Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "memory usage less than 40%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 56
                      },
                      "id": 24,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "light-orange",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "last",
                        "globalPolygonBorderColor": "light-orange",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#FFCB7D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (pod, deployment) (\n  (\n    (container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n    /\n    (container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n  ) * 100\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n< 40",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{deployment}}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Memory Minimal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "memory usage greater than 40% and less than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 56
                      },
                      "id": 25,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "#710f26",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "last",
                        "globalPolygonBorderColor": "light-green",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (pod, deployment) (\n  (\n    (container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n    /\n    (container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n  ) * 100\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n> 40 and \navg by (pod, deployment) (\n  (\n    (container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n    /\n    (container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n  ) * 100\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n < 75\n",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Memory Ideal Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "memory usage greater than 75%",
                      "fieldConfig": {
                        "defaults": {
                          "fieldMinMax": true,
                          "mappings": []
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": []
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 56
                      },
                      "id": 26,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "#710f26",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "last",
                        "globalPolygonBorderColor": "semi-dark-red",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 25,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": false,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#F2495C",
                            "state": 0,
                            "value": 0
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percent",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "OK",
                        "tooltipPrimarySortByField": "thresholdLevel",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "value",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "avg by (pod, deployment) (\n  (\n    (container_memory_usage_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n    /\n    (container_spec_memory_limit_bytes{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\", namespace=\"$namespace\",container=\"$application\"})\n  ) * 100\n  *\n  on(pod) group_left(replicaset)\n  label_replace(kube_pod_labels{namespace=\"$namespace\"}, \"replicaset\", \"$1\", \"pod\", \"(.+)-[a-z0-9]+$\")\n\n*\non(replicaset) group_left(deployment)\nkube_replicaset_owner{namespace=\"$namespace\", owner_kind=\"Deployment\"}\n)\n> 75\n",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "__auto",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        }
                      ],
                      "title": "Memory Excessive Usage",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "cores",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 5,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 3,
                          "fieldMinMax": true,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 66
                      },
                      "id": 13,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Name",
                          "sortDesc": false,
                          "width": 300
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(container_cpu_usage_seconds_total{metrics_path=\"/metrics/cadvisor\", container!=\"\" ,cluster=\"$cluster\", image!=\"\",namespace=\"$namespace\",container=~\"$application\"}[5m])) by (pod, container) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))",
                          "interval": "10s",
                          "intervalFactor": 1,
                          "legendFormat": "{{pod}} : {{container}}",
                          "metric": "container_cpu",
                          "range": true,
                          "refId": "A",
                          "step": 10
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"cpu\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "CPU Core Usage - Containers",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 3,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "B"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byFrameRefID",
                              "options": "C"
                            },
                            "properties": [
                              {
                                "id": "custom.lineStyle",
                                "value": {
                                  "dash": [
                                    10,
                                    10
                                  ],
                                  "fill": "dash"
                                }
                              },
                              {
                                "id": "custom.lineWidth",
                                "value": 2
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 66
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "asTable": true,
                          "calcs": [
                            "mean",
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "container_memory_working_set_bytes{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", namespace=\"$namespace\", image!=\"\", container=~\"$application\"} * on (container, pod) group_left() (kube_pod_container_info * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset)))> 0) ",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "{{pod}} : {{container}}",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\", resource=\"memory\",container=\"$application\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "fullMetaSearch": false,
                          "hide": false,
                          "includeNullMetadata": true,
                          "legendFormat": "requests",
                          "range": true,
                          "refId": "B",
                          "useBackend": false
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "sum(sum by (pod) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\", container!=\"\", resource=\"memory\",container=~\"$container\"}) * on (pod) group_left() (sum(label_replace(kube_pod_info{namespace=\"$namespace\",created_by_kind=\"ReplicaSet\"},\"replicaset\", \"$1\", \"created_by_name\", \"(.*)\")) by (replicaset, pod) * on (replicaset) group_left() (sum(kube_replicaset_owner{owner_kind=\"Deployment\", owner_name=\"$application\"}) by (replicaset) > 0))) / sum(kube_deployment_status_replicas_available{namespace=\"$namespace\", deployment=\"$application\", container!=\"\"})",
                          "hide": false,
                          "legendFormat": "limits",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "Memory Usage - Containers",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 79
                      },
                      "id": 17,
                      "panels": [],
                      "title": "K8s Pods Metrics",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 8,
                        "x": 0,
                        "y": 80
                      },
                      "id": 31,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "count(kube_pod_info{namespace=\"$namespace\", cluster=\"$cluster\", pod=~\"$application.*\"})",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "interval": "",
                          "intervalFactor": 2,
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Current Pods Count",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-green"
                              },
                              {
                                "color": "dark-yellow",
                                "value": 10
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "{cluster=\"varta-dev-eks\", container=\"email\", endpoint=\"http\", instance=\"10.119.27.213:8080\", job=\"kube-state-metrics\", namespace=\"varta-dev\", pod=\"email-677869d97c-mn2bk\", prometheus=\"observability/vm\", service=\"vm-kube-state-metrics\"}"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": []
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 9,
                        "x": 8,
                        "y": 80
                      },
                      "id": 32,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(increase(kube_pod_container_status_waiting{namespace=\"$namespace\", container=~\"$application\"}[$__range]))\n",
                          "format": "time_series",
                          "interval": "",
                          "intervalFactor": 2,
                          "legendFormat": "Pending",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Pod Pending Events Count",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-green",
                                "value": 0
                              },
                              {
                                "color": "#EAB839",
                                "value": 10
                              },
                              {
                                "color": "red",
                                "value": 20
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 7,
                        "x": 17,
                        "y": 80
                      },
                      "id": 33,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(increase(kube_pod_container_status_restarts_total{namespace=\"$namespace\", container=\"$application\"}[$__range]))",
                          "interval": "",
                          "intervalFactor": 2,
                          "legendFormat": "{{pod}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Restart Events Count",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 87
                      },
                      "id": 41,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "disableTextWrap": false,
                          "editorMode": "code",
                          "expr": "count(kube_pod_info{namespace=\"$namespace\", cluster=\"$cluster\", pod=~\"$application.*\"})",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "interval": "",
                          "intervalFactor": 2,
                          "legendFormat": "pod counts",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Pods Count Trend Widget",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 9,
                        "x": 8,
                        "y": 87
                      },
                      "id": 39,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "increase(kube_pod_container_status_waiting{cluster=\"$cluster\",namespace=\"$namespace\", container=~\"$application\"}[1h])\n",
                          "interval": "",
                          "intervalFactor": 2,
                          "legendFormat": "{{pod}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Pending/Unhealthy Trend",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 7,
                        "x": 17,
                        "y": 87
                      },
                      "id": 38,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "increase(kube_pod_container_status_restarts_total{namespace=\"$namespace\",container=~\"$application\"}[1h])\n",
                          "interval": "",
                          "intervalFactor": 2,
                          "legendFormat": "{{pod}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Restart Trend Widget",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 97
                      },
                      "id": 37,
                      "panels": [],
                      "title": "Logging",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "${logging}"
                      },
                      "description": "This will give logs of  services  for selected times range ",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 98
                      },
                      "id": 22,
                      "maxDataPoints": "",
                      "options": {
                        "dedupStrategy": "none",
                        "enableInfiniteScrolling": false,
                        "enableLogDetails": false,
                        "prettifyLogMessage": false,
                        "showCommonLabels": false,
                        "showLabels": false,
                        "showTime": false,
                        "sortOrder": "Descending",
                        "wrapLogMessage": true
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "${logging}"
                          },
                          "direction": "backward",
                          "editorMode": "code",
                          "expr": "{namespace=\"$namespace\", service_name=\"$application\" ,cluster=\"$cluster\"} |= `$search` | json | line_format `{{.log}}`",
                          "maxLines": 1000,
                          "queryType": "range",
                          "refId": "A"
                        }
                      ],
                      "title": "Logs",
                      "type": "logs"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 105
                      },
                      "id": 44,
                      "panels": [],
                      "title": "Trace",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "tempo",
                        "uid": "${tempo}"
                      },
                      "description": "It will display traces(max 1000) within the specified time frame that have a duration of more than 150ms.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "auto",
                            "cellOptions": {
                              "type": "auto"
                            },
                            "inspect": false
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Trace ID"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 439
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 106
                      },
                      "id": 45,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "fields": "",
                          "reducer": [
                            "sum"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": [
                          {
                            "desc": true,
                            "displayName": "Duration"
                          }
                        ]
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "tempo",
                            "uid": "${tempo}"
                          },
                          "filters": [
                            {
                              "id": "4e7e435e",
                              "operator": "=",
                              "scope": "span"
                            },
                            {
                              "id": "span-name",
                              "operator": "=",
                              "scope": "span",
                              "tag": "name",
                              "value": [],
                              "valueType": "string"
                            },
                            {
                              "id": "service-name",
                              "operator": "=",
                              "scope": "resource",
                              "tag": "service.name",
                              "value": [
                                "cms-qa-qa"
                              ],
                              "valueType": "string"
                            }
                          ],
                          "limit": 100,
                          "metricsQueryType": "range",
                          "query": "{resource.service.name=\"$application\" && (span.http.route=~\"$route\") && (span.cluster=\"$cluster\") && duration >= 1ms}",
                          "queryType": "traceql",
                          "refId": "A",
                          "spss": 3,
                          "tableType": "traces"
                        }
                      ],
                      "title": "Application Traces",
                      "type": "table"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 114
                      },
                      "id": 46,
                      "panels": [],
                      "title": "Events",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "loki",
                        "uid": "${logging}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "align": "center",
                            "cellOptions": {
                              "type": "auto",
                              "wrapText": true
                            },
                            "filterable": true,
                            "inspect": true,
                            "minWidth": 400,
                            "width": 20
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "pod"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 271
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "involvedObject"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 387
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Time"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 201
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Pod"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 226
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Message"
                            },
                            "properties": [
                              {
                                "id": "custom.width"
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Reason"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 123
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "object_reason"
                            },
                            "properties": [
                              {
                                "id": "custom.width",
                                "value": 297
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 115
                      },
                      "id": 47,
                      "options": {
                        "cellHeight": "sm",
                        "footer": {
                          "countRows": false,
                          "enablePagination": true,
                          "fields": "",
                          "reducer": [
                            "last"
                          ],
                          "show": false
                        },
                        "showHeader": true,
                        "sortBy": []
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "${logging}"
                          },
                          "direction": "backward",
                          "editorMode": "code",
                          "expr": "{k8s_namespace_name=\"$namespace\", service_name=\"events\"} | json | object_regarding_namespace =~ `$namespace` | object_regarding_name = \"$application\"",
                          "queryType": "range",
                          "refId": "Pod"
                        }
                      ],
                      "title": "Pod Events",
                      "transformations": [
                        {
                          "id": "extractFields",
                          "options": {
                            "delimiter": ",",
                            "keepTime": false,
                            "replace": false,
                            "source": "labels"
                          }
                        },
                        {
                          "id": "filterFieldsByName",
                          "options": {
                            "byVariable": false,
                            "include": {
                              "pattern": "Time|involvedObject|reason|msg"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "includeByName": {},
                            "indexByName": {
                              "Time": 0,
                              "involvedObject": 1,
                              "msg": 3,
                              "reason": 2
                            },
                            "renameByName": {
                              "Time": "",
                              "involvedObject": "Pod",
                              "msg": "Message",
                              "reason": "Reason"
                            }
                          }
                        }
                      ],
                      "type": "table"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "ot-summary",
                    "ot-kit"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "victoriametrics",
                          "value": "victoriametrics"
                        },
                        "includeAll": false,
                        "label": "Data source",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "varta-dev-eks",
                          "value": "varta-dev-eks"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(cluster)",
                        "includeAll": false,
                        "label": "account",
                        "name": "cluster",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(cluster)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "varta-dev",
                          "value": "varta-dev"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace!~\"observability|logging|kube-system|monitoring\"},namespace)",
                        "includeAll": false,
                        "label": "Namespace",
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace!~\"observability|logging|kube-system|monitoring\"},namespace)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "tracker",
                          "value": "tracker"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                        "includeAll": false,
                        "label": "Deployment",
                        "name": "application",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_deployment_status_replicas_available{job=\"kube-state-metrics\", namespace=\"$namespace\", cluster=\"$cluster\"},deployment)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": [
                            "$__all"
                          ]
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                        "includeAll": true,
                        "label": "Pod",
                        "multi": true,
                        "name": "pod",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_info{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"^$application.*$\"},pod)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                        "includeAll": true,
                        "label": "Container",
                        "multi": true,
                        "name": "container",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values(kube_pod_container_info{job=\"kube-state-metrics\", namespace=\"$namespace\", pod=\"$pods\", cluster=\"$cluster\"},container)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "All",
                          "value": "$__all"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "${datasource}"
                        },
                        "definition": "label_values({http_route!~\"\", service_name=\"$application\"},http_route)",
                        "includeAll": true,
                        "label": "Route",
                        "multi": true,
                        "name": "route",
                        "options": [],
                        "query": {
                          "qryType": 1,
                          "query": "label_values({http_route!~\"\", service_name=\"$application\"},http_route)",
                          "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "///",
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "label": "Search",
                        "name": "search",
                        "options": [
                          {
                            "selected": true,
                            "text": "",
                            "value": ""
                          }
                        ],
                        "query": "",
                        "type": "textbox"
                      },
                      {
                        "current": {
                          "text": "loki",
                          "value": "ceq0n98rrsem8b"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "name": "logging",
                        "options": [],
                        "query": "loki",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "tempo",
                          "value": "aeqiot56q7jeod"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "name": "tempo",
                        "options": [],
                        "query": "tempo",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {
                    "refresh_intervals": [
                      "1m",
                      "5m",
                      "15m",
                      "30m",
                      "1h",
                      "2h",
                      "1d"
                    ]
                  },
                  "timezone": "browser",
                  "title": "Services-Hive-Dashboard",
                  "uid": "service-hive-opstree",
                  "version": 143
                }
                
EOF
              mkdir -p $(dirname /dashboards/LAB/Clients/FCI_CCM/service-dashboard.json)
              cat > /dashboards/LAB/Clients/FCI_CCM/service-dashboard.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "A dashboard to visualize application's deployment.",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 188,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "CPU usage per pod in current namespace/cluster",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 106,
                      "options": {
                        "autoSizeColumns": true,
                        "autoSizePolygons": true,
                        "autoSizeRows": true,
                        "compositeConfig": {
                          "animationSpeed": "1500",
                          "composites": [
                            {
                              "isTemplated": true,
                              "name": "$namespace/$pod",
                              "pattern": ".*$pod.*"
                            }
                          ],
                          "enabled": true
                        },
                        "compositeGlobalAliasingEnabled": false,
                        "ellipseCharacters": 18,
                        "ellipseEnabled": false,
                        "globalAutoScaleFonts": true,
                        "globalClickthrough": "",
                        "globalClickthroughCustomTarget": "",
                        "globalClickthroughCustomTargetEnabled": false,
                        "globalClickthroughNewTabEnabled": true,
                        "globalClickthroughSanitizedEnabled": true,
                        "globalDecimals": 2,
                        "globalDisplayMode": "all",
                        "globalDisplayTextTriggeredEmpty": "OK",
                        "globalFillColor": "rgba(10, 85, 161, 1)",
                        "globalFontSize": 12,
                        "globalGradientsEnabled": true,
                        "globalOperator": "mean",
                        "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
                        "globalPolygonBorderSize": 2,
                        "globalPolygonSize": 45,
                        "globalRegexPattern": "",
                        "globalShape": "hexagon_pointed_top",
                        "globalShowTimestampEnabled": false,
                        "globalShowTimestampFontSize": 12,
                        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
                        "globalShowTimestampPosition": "below_value",
                        "globalShowTimestampYOffset": 0,
                        "globalShowTooltipColumnHeadersEnabled": true,
                        "globalShowValueEnabled": true,
                        "globalTextFontAutoColorEnabled": true,
                        "globalTextFontColor": "#000000",
                        "globalTextFontFamily": "Roboto",
                        "globalThresholdsConfig": [
                          {
                            "color": "#f53636",
                            "state": 2,
                            "value": 50
                          },
                          {
                            "color": "#FFCB7D",
                            "state": 1,
                            "value": 90
                          },
                          {
                            "color": "#96D98D",
                            "state": 0,
                            "value": 90
                          }
                        ],
                        "globalTooltipsEnabled": true,
                        "globalTooltipsFontFamily": "Roboto",
                        "globalTooltipsShowTimestampEnabled": true,
                        "globalTooltipsShowValueEnabled": true,
                        "globalUnitFormat": "percentunit",
                        "layoutDisplayLimit": 100,
                        "layoutNumColumns": 8,
                        "layoutNumRows": 8,
                        "overrideConfig": {
                          "overrides": []
                        },
                        "sortByDirection": 1,
                        "sortByField": "value",
                        "tooltipDisplayMode": "all",
                        "tooltipDisplayTextTriggeredEmpty": "No CPU data",
                        "tooltipPrimarySortByField": "value",
                        "tooltipPrimarySortDirection": 1,
                        "tooltipSecondarySortByField": "name",
                        "tooltipSecondarySortDirection": 1
                      },
                      "pluginVersion": "2.1.14",
                      "targets": [
                        {
                          "expr": "100 * sum(kube_pod_status_ready{condition=\"true\", cluster=~\"$cluster\", namespace=~\"$namespace\"}) by (pod) / sum(kube_pod_container_status_ready{cluster=~\"$cluster\", namespace=~\"$namespace\"}) by (pod)",
                          "refId": "A"
                        }
                      ],
                      "title": "Pods Hive Widget",
                      "type": "grafana-polystat-panel"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 0,
                        "y": 10
                      },
                      "id": 103,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", container!=\"\"}[5m])) by (pod)",
                          "interval": "",
                          "intervalFactor": 2,
                          "refId": "A"
                        }
                      ],
                      "title": "Services CPU Trend Widget",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 16,
                        "x": 8,
                        "y": 10
                      },
                      "id": 101,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "expr": "sum(container_memory_usage_bytes{namespace=\"$namespace\", container!=\"\"}) by (pod)",
                          "interval": "",
                          "intervalFactor": 2,
                          "refId": "A"
                        }
                      ],
                      "title": "Service RAM Trend Widget",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 0,
                        "y": 18
                      },
                      "id": 102,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "expr": "count(kube_pod_info{namespace=\"$namespace\"})",
                          "interval": "",
                          "intervalFactor": 2,
                          "refId": "A"
                        }
                      ],
                      "title": "Pods Count Trend Widget",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 8,
                        "y": 19
                      },
                      "id": 105,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "expr": "count(kube_pod_status_phase{namespace=\"$namespace\", phase=~\"Pending|Failed\"})",
                          "interval": "",
                          "intervalFactor": 2,
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Pending/Unhealthy Trend Widget",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 8,
                        "x": 16,
                        "y": 19
                      },
                      "id": 104,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "12.0.2",
                      "targets": [
                        {
                          "expr": "rate(kube_pod_container_status_restarts_total{namespace=\"$namespace\"}[5m])",
                          "interval": "",
                          "intervalFactor": 2,
                          "refId": "A"
                        }
                      ],
                      "title": "Pod Restart Trend Widget",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "30s",
                  "schemaVersion": 41,
                  "tags": [
                    "ot-summary",
                    "ot-kit"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "varta-dev-eks",
                          "value": "varta-dev-eks"
                        },
                        "datasource": "victoriametrics",
                        "includeAll": false,
                        "name": "cluster",
                        "options": [],
                        "query": "label_values(kube_node_info, cluster)",
                        "refresh": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "varta-dev",
                          "value": "varta-dev"
                        },
                        "datasource": "victoriametrics",
                        "includeAll": false,
                        "name": "namespace",
                        "options": [],
                        "query": "label_values(kube_pod_info, namespace)",
                        "refresh": 1,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-5m",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Service-Dashboard",
                  "uid": "0068c0f6-9ef8-4369-a6b0-758677942e94",
                  "version": 2
                }
                
EOF
              mkdir -p $(dirname /dashboards/Middleware/Redis.json)
              cat > /dashboards/Middleware/Redis.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "Redis Dashboard for Prometheus Redis Exporter 1.x, it works with helm stable/redis-ha exporter.\r\n\r\nIf you missing redis memory utilization, please modify \"maxmemory\" value in values.yaml",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 11,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 19,
                      "panels": [],
                      "title": "Availability",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Measures how long the Redis pod has been running.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "super-light-red",
                            "mode": "fixed"
                          },
                          "decimals": 0,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 5,
                        "x": 0,
                        "y": 1
                      },
                      "id": 9,
                      "maxDataPoints": 100,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_uptime_seconds_total",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Uptime",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Measures how long the Redis pod has been running.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "light-green",
                            "mode": "fixed"
                          },
                          "decimals": 0,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 5,
                        "y": 1
                      },
                      "id": 27,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_slaves_connected",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Slaves_Connected",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Represents the current replication offset, which is the total number of bytes sent by the primary to all replicas.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "purple",
                            "mode": "fixed"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "decimals": 0,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 15,
                        "x": 9,
                        "y": 1
                      },
                      "id": 28,
                      "maxDataPoints": 100,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_replication_offset_bytes",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Replication Lag P1",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 6
                      },
                      "id": 17,
                      "panels": [],
                      "title": "Resource Usage",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Monitors the number of connected clients to Redis.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "super-light-orange",
                            "mode": "fixed"
                          },
                          "decimals": 0,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 7
                      },
                      "hideTimeOverride": true,
                      "id": 12,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_clients_connected",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1m",
                      "title": "Clients_connected",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tracks connections rejected due to max clients or resource issues.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 7
                      },
                      "id": 22,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(redis_connections_rejected_total)[5m]",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Rejected-Connection",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "redis_db_keys:  How many total keys are stored in a Redis database.\nredis_db_expires:  How many of those keys have an expiration time set (theyâ€™ll automatically be removed later).",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "super-light-blue"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 7,
                        "y": 7
                      },
                      "id": 32,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_db_keys",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Redis_DB_Keys/Expires",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "The average time-to-live (TTL) of keys set to expire in Redis.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "ms"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 14,
                        "y": 7
                      },
                      "id": 33,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_db_avg_ttl_milliseconds",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "DB_Expires_keys_TTL",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tracks the number of keys that have expired in Redis./ Indicates the number of keys evicted due to memory constraints.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "light-orange",
                            "mode": "fixed"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "light-yellow"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 6,
                        "x": 18,
                        "y": 7
                      },
                      "id": 8,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 30,
                        "minVizHeight": 15,
                        "minVizWidth": 8,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "manual",
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_keys_expired_total",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_keys_evicted_total",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Keys",
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Measures the memory usage by Redis in bytes.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 2,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "max"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "#BF1B00",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 13
                      },
                      "id": 7,
                      "options": {
                        "legend": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_used_bytes",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_peak_bytes",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Memory_Usage",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "continuous-GrYlRd"
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "decbytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 13
                      },
                      "hideTimeOverride": true,
                      "id": 11,
                      "maxDataPoints": 100,
                      "options": {
                        "displayMode": "lcd",
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "maxVizHeight": 40,
                        "minVizHeight": 10,
                        "minVizWidth": 8,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "manual",
                        "valueMode": "color"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_used_bytes",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_peak_bytes",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_rss_bytes",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_lua_bytes",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_memory_fragmentation_ratio",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "E"
                        }
                      ],
                      "timeFrom": "1m",
                      "title": "Total_Memory_Usage",
                      "type": "bargauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "CPU usage by Redis.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "dtdurations"
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "redis_cpu_time_seconds_total{state=\"sys\"}"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "super-light-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "redis_cpu_time_seconds_total{state=\"sys_children\"}"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "light-orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "redis_cpu_time_seconds_total{state=\"sys_main_thread\"}"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "light-yellow",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          },
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "CPU"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "light-orange",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 24,
                        "x": 0,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 24,
                      "maxDataPoints": 100,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_cpu_time_seconds_total",
                          "instant": false,
                          "legendFormat": "{{state}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1m",
                      "title": "CPU_Usage",
                      "type": "gauge"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 26
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Performance",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Number of blocked clients waiting for operations to complete.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "rgb(31, 120, 193)",
                            "mode": "fixed"
                          },
                          "decimals": 0,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 0,
                        "y": 27
                      },
                      "hideTimeOverride": true,
                      "id": 21,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_clients_blocked",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1m",
                      "title": "clients_blocked",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Measures the number of successful key lookups in Redis./ Measures the number of failed key lookups in Redis.\t",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [],
                          "thresholds": {
                            "mode": "percentage",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "orange",
                                "value": 70
                              },
                              {
                                "color": "red",
                                "value": 85
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 3,
                        "y": 27
                      },
                      "id": 1,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "irate(redis_keyspace_hits_total[5m])",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Keyspace Hits / Misses per Sec ",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tracks the total commands executed by Redis per sec.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "blue"
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "redis_commands_processed_total"
                            },
                            "properties": [
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-purple",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 27
                      },
                      "id": 2,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "redis_commands_per_second",
                          "instant": false,
                          "legendFormat": "command",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Commands Executed  ",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Tracks the total commands executed by Redis.\t",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 27
                      },
                      "id": 25,
                      "options": {
                        "legend": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(redis_net_input_bytes_total[5m])",
                          "instant": false,
                          "legendFormat": "cmd_executed",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total_Commands_Executed",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 33
                      },
                      "id": 20,
                      "panels": [],
                      "title": "General Monitoring",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Rate of incoming and outgoing network traffic.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 34
                      },
                      "id": 23,
                      "options": {
                        "legend": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(redis_clients_max_input_buffer_bytes[5m])",
                          "instant": false,
                          "legendFormat": "I/O",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "expr": "",
                          "hide": false,
                          "instant": false,
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Network I/O P3",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "Rate of incoming and outgoing network traffic.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 25,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 34
                      },
                      "id": 31,
                      "options": {
                        "legend": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "rate(redis_clients_max_output_buffer_bytes[5m])",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Client I/O Buffer ",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "redis",
                    "ot-dashboard"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-5m",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Redis",
                  "uid": "xDLNRKUWy",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/Observability-component/Vm_operator.json)
              cat > /dashboards/Observability-component/Vm_operator.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "Overview for operator VictoriaMetrics v0.25.0 or higher",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 15,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 8,
                      "panels": [],
                      "title": "Overview",
                      "type": "row"
                    },
                    {
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 4,
                        "x": 0,
                        "y": 1
                      },
                      "id": 24,
                      "options": {
                        "code": {
                          "language": "plaintext",
                          "showLineNumbers": false,
                          "showMiniMap": false
                        },
                        "content": "<div style=\"text-align: center;\">$version</div>",
                        "mode": "markdown"
                      },
                      "pluginVersion": "11.6.0",
                      "title": "Version",
                      "type": "text"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Number of objects at kubernetes cluster per each controller",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 7,
                        "w": 20,
                        "x": 4,
                        "y": 1
                      },
                      "id": 14,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {},
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "max(operator_controller_objects_count{job=~\"$job\",instance=~\"$instance\"}) by (controller)",
                          "legendFormat": "{{controller}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "CRD Objects count by controller",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 4,
                        "w": 4,
                        "x": 0,
                        "y": 4
                      },
                      "id": 22,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "vm_app_uptime_seconds{job=~\"$job\",instance=~\"$instance\"}",
                          "format": "table",
                          "instant": true,
                          "interval": "",
                          "legendFormat": "{{instance}}",
                          "range": false,
                          "refId": "A"
                        }
                      ],
                      "title": "Uptime",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": " Shows per namespace watchers for Prometheus Operator objects (ServiceMonitors, PodMonitors, etc) ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 8
                      },
                      "id": 39,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(operator_prometheus_converter_active_watchers)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Prometheus Objects watchers",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": " Number of operator instances with obtained leader status. \n Value above 1 indicates that instances with the same job may behave incorrectly.\n It's recommend to check Operator logs. ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "min": 0,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 4,
                        "y": 8
                      },
                      "id": 40,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(leader_election_master_status{job=~\"$job\"})",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Elected Leaders",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": " Shows number of active reconcile workers",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "min": 0,
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 8,
                        "y": 8
                      },
                      "id": 41,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(controller_runtime_active_workers{job=~\"$job\"})",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Active workers",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": " Shows amount of Prometheus Operator objects processed by Operator.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 12,
                        "y": 8
                      },
                      "id": 38,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(operator_prometheus_converter_watch_events_total{job=~\"$job\"}[$__interval])) by (event_type,object_type_name)",
                          "instant": false,
                          "legendFormat": "{{object_type_name}} {{event_type}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Prometheus Converter Watch events",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 13
                      },
                      "id": 12,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "max"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(controller_runtime_reconcile_total{job=~\"$job\",instance=~\"$instance\",result=~\"requeue_after|requeue|success\"}[$__rate_interval])) by(controller)",
                          "legendFormat": "{{controller}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Reconciliation rate by controller",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Shows the rate of logging the messages by their level. Unexpected spike in rate is a good reason to check logs.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 13
                      },
                      "id": 16,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "max"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(operator_log_messages_total{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])) by (level)",
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Log message rate",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 26
                      },
                      "id": 6,
                      "panels": [],
                      "title": "Troubleshooting",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Non zero metrics indicates about error with CR object definition (typos or incorrect values) or errors with kubernetes API connection.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 27
                      },
                      "id": 10,
                      "options": {
                        "legend": {
                          "calcs": [
                            "lastNotNull",
                            "max"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.4.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(rate(controller_runtime_reconcile_errors_total{job=~\"$job\",instance=~\"$instance\"}[$__rate_interval])) by(controller) > 0",
                          "instant": false,
                          "legendFormat": "{{controller}}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(controller_runtime_reconcile_total{job=~\"$job\",instance=~\"$instance\",result=\"error\"}[$__rate_interval])) by(controller) > 0",
                          "hide": false,
                          "legendFormat": "result errors: {{controller}}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "reconcile errors by controller",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Operator limits number of reconcile configuration events to 5 events per 2 seconds by default.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 27
                      },
                      "id": 18,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "max"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.4.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(operator_reconcile_throttled_events_total[$__rate_interval])) by(controller)",
                          "legendFormat": "{{controller}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "throttled reconciliation config events",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Number of objects waiting in the queue for reconciliation. Non-zero values indicate that operator cannot process CR objects changes with the given resources.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 35
                      },
                      "id": 20,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.4.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "max(workqueue_depth{job=~\"$job\",instance=~\"$instance\"}) by (name)",
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Working queue depth",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": " For controllers with StatefulSet it's ok to see latency greater then 3 seconds. It could be vmalertmanager,vmcluster or vmagent in statefulMode.\n\n For other controllers, latency greater then 2 second may indicate issues with kubernetes cluster or operator's performance.\n ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 35
                      },
                      "id": 26,
                      "options": {
                        "legend": {
                          "calcs": [
                            "mean",
                            "max"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true,
                          "sortBy": "Mean",
                          "sortDesc": true
                        },
                        "tooltip": {
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "10.4.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.99,sum(rate(controller_runtime_reconcile_time_seconds_bucket{job=~\"$job\"}[$__rate_interval])) by(le,controller) )",
                          "legendFormat": "q.99 {{controller}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Reconciliation latency by controller",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Number of HTTP requests to the Kubernetes API server break down by code and method",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 46
                      },
                      "id": 36,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(rest_client_requests_total{job=~\"$job\"}[$__interval])) by (method,code)",
                          "instant": false,
                          "legendFormat": "{{method}} {{code}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Rest client requests",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Shows how many ongoing reconcile events are taking place, where:\n* `max` - equal to the value of flag`-controller.maxConcurrentReconciles`;\n* `current` - current number of reconcile workers processing CRD objects.\n\nWhen `current` hits `max` constantly, it means operator cannot process events in time. It should be either increased value for flag `-controller.maxConcurrentReconciles` or allocated  additional CPU resources to the operator.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": [
                          {
                            "matcher": {
                              "id": "byName",
                              "options": "Max"
                            },
                            "properties": [
                              {
                                "id": "custom.axisColorMode",
                                "value": "text"
                              },
                              {
                                "id": "color",
                                "value": {
                                  "fixedColor": "dark-red",
                                  "mode": "fixed"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 46
                      },
                      "id": 42,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "max(max_over_time(controller_runtime_active_workers{job=~\"$job\"}[$__interval]))",
                          "instant": false,
                          "legendFormat": "Current",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "min(controller_runtime_max_concurrent_reconciles{job=~\"$job\"})",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "Max",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "Concurrent reconcile ($instance)",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": "Shows the time goroutines have spent in runnable state before actually running. The lower is better.\n\nHigh values or values exceeding the threshold is usually a sign of insufficient CPU resources or CPU throttling. \n\nVerify that service has enough CPU resources. Otherwise, the service could work unreliably with delays in processing.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 54
                      },
                      "id": 37,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "max(histogram_quantile(0.99, sum(rate(go_sched_latencies_seconds_bucket{job=~\"$job\"}[$__rate_interval])) by (job, instance, le))) by(job)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Go scheduling latency",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "description": " Requests latency to the Kubernetes API server.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 54
                      },
                      "id": 35,
                      "options": {
                        "legend": {
                          "calcs": [
                            "max",
                            "mean"
                          ],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.99,sum(rate(rest_client_request_duration_seconds_bucket{job=~\"$job\"})) by(le,method,api) )",
                          "instant": false,
                          "legendFormat": "{{method}} {{api}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "rest client latency",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 62
                      },
                      "id": 4,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 63
                          },
                          "id": 28,
                          "options": {
                            "legend": {
                              "calcs": [
                                "mean",
                                "lastNotNull",
                                "max"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "10.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(go_memstats_sys_bytes{job=~\"$job\", instance=~\"$instance\"})",
                              "legendFormat": "requested from system",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(go_memstats_heap_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})",
                              "hide": false,
                              "legendFormat": "heap inuse",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(go_memstats_stack_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})",
                              "hide": false,
                              "legendFormat": "stack inuse",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance\"})",
                              "hide": false,
                              "legendFormat": "resident",
                              "range": true,
                              "refId": "D"
                            }
                          ],
                          "title": "Memory usage ($instance)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 63
                          },
                          "id": 30,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "10.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                              "legendFormat": "CPU cores used",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "CPU ($instance)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 71
                          },
                          "id": 32,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "10.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(go_goroutines{job=~\"$job\", instance=~\"$instance\"})",
                              "legendFormat": "goroutines",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Goroutines ($instance)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 71
                          },
                          "id": 34,
                          "options": {
                            "legend": {
                              "calcs": [
                                "mean",
                                "max"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "10.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "$ds"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(go_gc_duration_seconds_sum{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))\n/\nsum(rate(go_gc_duration_seconds_count{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                              "legendFormat": "avg gc duration",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "GC duration ($instance)",
                          "type": "timeseries"
                        }
                      ],
                      "title": "resources",
                      "type": "row"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "victoriametrics",
                    "vm-k8s-stack"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {},
                        "includeAll": false,
                        "name": "ds",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {},
                        "datasource": {
                          "type": "prometheus",
                          "uid": "$ds"
                        },
                        "definition": "label_values(operator_log_messages_total,job)",
                        "includeAll": false,
                        "name": "job",
                        "options": [],
                        "query": {
                          "query": "label_values(operator_log_messages_total,job)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {},
                        "datasource": {
                          "type": "prometheus",
                          "uid": "$ds"
                        },
                        "definition": "label_values(operator_log_messages_total{job=~\"$job\"},instance)",
                        "includeAll": true,
                        "name": "instance",
                        "options": [],
                        "query": {
                          "query": "label_values(operator_log_messages_total{job=~\"$job\"},instance)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 2,
                        "regex": "",
                        "type": "query"
                      },
                      {
                        "current": {},
                        "datasource": {
                          "type": "prometheus",
                          "uid": "$ds"
                        },
                        "definition": "label_values(vm_app_version{job=\"$job\", instance=\"$instance\"},  version)",
                        "hide": 2,
                        "includeAll": false,
                        "name": "version",
                        "options": [],
                        "query": {
                          "query": "label_values(vm_app_version{job=\"$job\", instance=\"$instance\"},  version)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-15m",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "VictoriaMetrics - operator",
                  "uid": "1H179hunk",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/Observability-component/loki.json)
              cat > /dashboards/Observability-component/loki.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "$$hashKey": "object:7",
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "Loki Metrics Dashboard",
                  "editable": false,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 171,
                  "links": [],
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 102,
                      "panels": [],
                      "title": "Loki General Info",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 0,
                        "y": 1
                      },
                      "id": 59,
                      "interval": "$interval",
                      "maxDataPoints": 1,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "/.*/",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "loki_build_info{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "format": "table",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Loki Version",
                      "transformations": [
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true,
                              "Value": true,
                              "__name__": true,
                              "goversion": true,
                              "instance": true,
                              "job": true,
                              "version": true
                            },
                            "indexByName": {
                              "Time": 0,
                              "Value": 8,
                              "__name__": 1,
                              "branch": 2,
                              "goversion": 4,
                              "instance": 5,
                              "job": 6,
                              "revision": 3,
                              "version": 7
                            },
                            "renameByName": {
                              "branch": "Loki Branch",
                              "goversion": "",
                              "instance": "",
                              "revision": "Loki Revision",
                              "version": ""
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 0,
                          "links": [],
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 3,
                        "y": 1
                      },
                      "id": 10,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(loki_internal_log_messages_total{job=\"$jobs\",instance=\"$host:$instance\"})",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "",
                          "refId": "A"
                        }
                      ],
                      "title": "Internal Log Messages",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 6,
                        "y": 1
                      },
                      "id": 80,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "deprecated_flags_inuse_total{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Deprecated",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "loki_experimental_features_in_use_total{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Experimental",
                          "refId": "B"
                        }
                      ],
                      "title": "Features Currently Set",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "semi-dark-red",
                                "value": 1
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 9,
                        "y": 1
                      },
                      "id": 24,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "loki_panic_total{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "The total number of panics triggered",
                          "refId": "A"
                        }
                      ],
                      "title": "Panics",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "semi-dark-red",
                                "value": 0
                              },
                              {
                                "color": "green",
                                "value": 1
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 12,
                        "y": 1
                      },
                      "id": 112,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "loki_distributor_replication_factor{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "The configured replication factor",
                          "refId": "A"
                        }
                      ],
                      "title": "Replication Faktor",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 15,
                        "y": 1
                      },
                      "id": 81,
                      "interval": "$interval",
                      "maxDataPoints": 1,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "/.*/",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "go_info{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "format": "table",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Go Version",
                      "transformations": [
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {
                              "Time": true,
                              "Value": true,
                              "__name__": true,
                              "branch": true,
                              "instance": true,
                              "job": true,
                              "revision": true,
                              "version": false
                            },
                            "indexByName": {
                              "Time": 0,
                              "Value": 8,
                              "__name__": 1,
                              "branch": 2,
                              "goversion": 4,
                              "instance": 5,
                              "job": 6,
                              "revision": 3,
                              "version": 7
                            },
                            "renameByName": {
                              "branch": "",
                              "goversion": "Go Version",
                              "instance": "",
                              "revision": "",
                              "version": "Go Version"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "semi-dark-red",
                                "value": 500
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 18,
                        "y": 1
                      },
                      "id": 86,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(go_goroutines{job=\"$jobs\",instance=\"$host:$instance\"})",
                          "format": "table",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Number of goroutines that currently exist",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Goroutines",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "semi-dark-red",
                                "value": 25
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 21,
                        "y": 1
                      },
                      "id": 87,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "sum(go_threads{job=\"$jobs\",instance=\"$host:$instance\"})",
                          "format": "table",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Number of OS threads created",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Total Threads",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "cps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 6,
                        "x": 0,
                        "y": 4
                      },
                      "id": 235,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_distributor_lines_received_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(tenant)",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ tenant }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Distributor Lines",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 6,
                        "x": 6,
                        "y": 4
                      },
                      "id": 234,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_distributor_bytes_received_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(tenant)",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ tenant }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Distributor Volume",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {
                            "mode": "reduceRow",
                            "reduce": {
                              "include": [],
                              "reducer": "sum"
                            }
                          }
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Received / fake": "Received / Default Tenant",
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 6,
                        "x": 12,
                        "y": 4
                      },
                      "id": 230,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "rate(loki_ingester_chunks_created_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Create",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_ingester_chunks_stored_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant) ",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Store / {{ tenant }}",
                          "refId": "B"
                        }
                      ],
                      "title": "Ingester Chunk Operations",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Store / fake": "Store / Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 6,
                        "x": 18,
                        "y": 4
                      },
                      "id": 188,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_ingester_chunk_stored_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant)",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ tenant }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Ingester Chunks Volume",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 0,
                        "y": 10
                      },
                      "id": 23,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(loki_store_series_total{job=\"$jobs\",instance=\"$host:$instance\"}) by(status)",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ status }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Store Series",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "discarded": "Discarded",
                              "matched": "Matched"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 3,
                        "y": 10
                      },
                      "id": 131,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(loki_store_chunks_downloaded_total{job=\"$jobs\",instance=\"$host:$instance\"}) by(status)",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ status }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Store Chunks Downloaded",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "discarded": "Discarded",
                              "matched": "Matched"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 6,
                        "y": 10
                      },
                      "id": 137,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(loki_index_chunk_refs_total{job=\"$jobs\",instance=\"$host:$instance\"}) by(status)",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ status }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Index Chunks Downloaded",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "discarded": "Discarded",
                              "matched": "Matched"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 12,
                        "y": 10
                      },
                      "id": 191,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "loki_ingester_memory_chunks{job=\"$jobs\",instance=\"$host:$instance\"}",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Chunks in memory",
                          "refId": "B"
                        }
                      ],
                      "title": "Ingester Chunks In Memory",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 15,
                        "y": 10
                      },
                      "id": 192,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(loki_ingester_memory_streams{job=\"$jobs\",instance=\"$host:$instance\"}) by(tenant)",
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ tenant }}",
                          "refId": "A"
                        }
                      ],
                      "title": "Ingester Streams in Memory",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {
                              "Time": 0,
                              "Total": 2,
                              "fake": 1
                            },
                            "renameByName": {
                              "discarded": "Discarded",
                              "fake": "Default Tenant",
                              "matched": "Matched"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 6,
                        "x": 18,
                        "y": 10
                      },
                      "id": 233,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_ingester_streams_created_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant)",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Create / {{ tenant }}",
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_ingester_streams_removed_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant)",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Delete / {{ tenant }}",
                          "refId": "B"
                        }
                      ],
                      "title": "Ingester Stream Operations",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Create / fake": "Create / Default Tenant",
                              "Delete / fake": "Delete / Default Tenant",
                              "Store / fake": "Store / Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 0,
                        "y": 13
                      },
                      "id": 236,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_chunk_store_fetched_chunks_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (user)",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ user}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Store Operations Fetched",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Create / fake": "Create / Default Tenant",
                              "Delete / fake": "Delete / Default Tenant",
                              "Fetch / fake": "Fetch / Default Tenant",
                              "Store / fake": "Store / Default Tenant",
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "ops"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 6,
                        "y": 13
                      },
                      "id": 237,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "sum(rate(loki_chunk_store_stored_chunks_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (user)",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ user}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Store Operations Stored",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Create / fake": "Create / Default Tenant",
                              "Delete / fake": "Delete / Default Tenant",
                              "Fetch / fake": "Default Tenant",
                              "Store / fake": "Store / Default Tenant",
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "bytes"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 12,
                        "y": 13
                      },
                      "id": 231,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_size_bytes_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Chunk Size",
                          "refId": "A"
                        }
                      ],
                      "title": "Ingester Chunk Size",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 3,
                        "x": 15,
                        "y": 13
                      },
                      "id": 232,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_compression_ratio_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "Compression Ratio",
                          "refId": "A"
                        }
                      ],
                      "title": "Ingester Chunk Compression",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 0,
                        "y": 16
                      },
                      "id": 238,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "rate(loki_chunk_store_fetched_chunk_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ user}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Store Volume Fetched",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Create / fake": "Create / Default Tenant",
                              "Delete / fake": "Delete / Default Tenant",
                              "Fetch / fake": "Fetch / Default Tenant",
                              "Store / fake": "Store / Default Tenant",
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "P4169E866C3094E38"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "links": [],
                          "mappings": [
                            {
                              "options": {
                                "null": {
                                  "index": 0,
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "binBps"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 6,
                        "y": 16
                      },
                      "id": 239,
                      "interval": "$interval",
                      "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "editorMode": "code",
                          "expr": "rate(loki_chunk_store_stored_chunk_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                          "hide": false,
                          "instant": false,
                          "interval": "$interval",
                          "legendFormat": "{{ user}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Store Volume Stored",
                      "transformations": [
                        {
                          "id": "calculateField",
                          "options": {}
                        },
                        {
                          "id": "organize",
                          "options": {
                            "excludeByName": {},
                            "indexByName": {},
                            "renameByName": {
                              "Create / fake": "Create / Default Tenant",
                              "Delete / fake": "Delete / Default Tenant",
                              "Fetch / fake": "Fetch / Default Tenant",
                              "Store / fake": "Store / Default Tenant",
                              "fake": "Default Tenant"
                            }
                          }
                        }
                      ],
                      "type": "stat"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 143,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 2
                          },
                          "id": 151,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,method,route,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ method }} / {{ route }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki API - Request Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 2
                          },
                          "id": 128,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (method, route)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ method }} / {{ route }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki API - Request Current",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 10
                          },
                          "id": 153,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_response_message_bytes_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,method,route))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ method }} / {{ route }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki API - Response Size",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 10
                          },
                          "id": 152,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_request_message_bytes_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,method,route))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ method }} / {{ route }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki API - Request Size",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Connections",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 18
                          },
                          "id": 96,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_tcp_connections{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ protocol }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki - TCP Connections",
                          "transformations": [
                            {
                              "id": "calculateField",
                              "options": {
                                "mode": "reduceRow",
                                "reduce": {
                                  "include": [
                                    "grpc",
                                    "http"
                                  ],
                                  "reducer": "sum"
                                }
                              }
                            },
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {
                                  "Time": 1,
                                  "Total": 0,
                                  "grpc": 2,
                                  "http": 3
                                },
                                "renameByName": {
                                  "grpc": "gRPC",
                                  "http": "HTTP"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki API / Connections Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 20
                      },
                      "id": 114,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Cache Hits",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 3
                          },
                          "id": 115,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_cache_hits{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(name)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "__auto",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Cache - Hits",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Keys",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 3
                          },
                          "id": 116,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_cache_fetched_keys{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(name)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "__auto",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Cache - Fetched Keys",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 11
                          },
                          "id": 118,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_cache_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,name,method))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ name }} / {{ method }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Cache - Request Duration",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*) / (.*)\\.(.*)",
                                "renamePattern": "$1 / $3"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 11
                          },
                          "id": 119,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_cache_value_size_bytes_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,name,method))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ name }} / {{ method }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Cache - Value Size",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Cache Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 21
                      },
                      "id": 108,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "binBps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 4
                          },
                          "id": 109,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_distributor_bytes_received_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(tenant)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "__auto",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Distributor - Received Bytes",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "fake": "Default Tenant"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Lines",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 4
                          },
                          "id": 110,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_distributor_lines_received_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(tenant)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "__auto",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Distributor - Received Lines",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "fake": "Default Tenant"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Appends",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 12
                          },
                          "id": 111,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_distributor_ingester_appends_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(ingester)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "__auto",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Distributor - Batch Appents Sent To Ingester",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "fake": "Default Tenant"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Distributor Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 22
                      },
                      "id": 127,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 5
                          },
                          "id": 130,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_index_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,component,operation,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ component }} / {{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Index - Request Duration",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*) / (.*)\\.(.*)",
                                "renamePattern": "$1 / $3"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Chunks",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 5
                          },
                          "id": 138,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_index_chunk_refs_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (status)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ status }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Index - Chunks Downloaded",
                          "transformations": [
                            {
                              "id": "calculateField",
                              "options": {
                                "mode": "reduceRow",
                                "reduce": {
                                  "include": [
                                    "debug",
                                    "error",
                                    "info",
                                    "warn"
                                  ],
                                  "reducer": "sum"
                                }
                              }
                            },
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {
                                  "Time": 1,
                                  "Total": 0,
                                  "grpc": 2,
                                  "http": 3
                                },
                                "renameByName": {
                                  "debug": "Debug",
                                  "discarded": "Discarded",
                                  "error": "Error",
                                  "grpc": "gRPC",
                                  "http": "HTTP",
                                  "info": "Info",
                                  "matched": "Matched",
                                  "warn": "Warn"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 13
                          },
                          "id": 201,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_kv_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,kv_name,operation,role,status_code,type))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ kv_name }} / {{ type }} / {{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki KV - Request Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 13
                          },
                          "id": 202,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(cortex_kv_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,kv_name,operation,role,status_code,type))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ kv_name }} / {{ type }} / {{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex KV - Request Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 21
                          },
                          "id": 228,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(cortex_consul_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,kv_name,operation,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ kv_name }} / {{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex KV - Request Duration",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Index Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 23
                      },
                      "id": 174,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 6
                          },
                          "id": 189,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_client_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,operation,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Client Request Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Operations",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 6
                          },
                          "id": 185,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_chunks_created_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Chunk creations ",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_chunks_flushed_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (reason)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Chunk flushes / {{ reason }}",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_chunks_stored_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant) ",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Chunks stored / {{ tenant }}",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Operations",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Checkpoints",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 14
                          },
                          "id": 175,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_checkpoint_creations_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Checkpoint creations ",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_checkpoint_creations_failed_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Checkpoint creation failures",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_checkpoint_deletions_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Checkpoint deletions",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_checkpoint_deletions_failed_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Checkpoint deletion failures",
                              "range": true,
                              "refId": "D"
                            }
                          ],
                          "title": "Loki Ingester - Checkpoints",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "binBps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 14
                          },
                          "id": 177,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_checkpoint_logged_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Bytes written to disk for checkpointing",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Checkpoints Volume",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 22
                          },
                          "id": 183,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_checkpoint_duration_seconds{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.99\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Time taken to create a checkpoint (0.99 quantile)",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_checkpoint_duration_seconds{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.9\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Time taken to create a checkpoint (0.9 quantile)",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_checkpoint_duration_seconds{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.5\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Time taken to create a checkpoint (0.5 quantile)",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Loki Ingester - Checkpoint Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Blocks",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 22
                          },
                          "id": 176,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_blocks_per_chunk_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Blocks per Chunk",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Blocks Per Chunk",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "%",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "percent"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 30
                          },
                          "id": 180,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_compression_ratio_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Compression ratio of chunks (when stored)",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Compression Ratio",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 30
                          },
                          "id": 190,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_memory_chunks{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Chunks in memory",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunks In Memory",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 38
                          },
                          "id": 184,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_size_bytes_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Distribution of stored chunk sizes (when stored)",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Size",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 38
                          },
                          "id": 178,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_age_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Distribution of chunk ages (when stored)",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Age",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "%",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "percentunit"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 46
                          },
                          "id": 186,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_utilization_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Distribution of stored chunk utilization (when stored)",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Usage",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 46
                          },
                          "id": 187,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_chunk_stored_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Bytes stored in chunks / {{ tenant }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Stored Volume",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Samples",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 54
                          },
                          "id": 194,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_samples_per_chunk_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Samples per chunk",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Samples Per Chunk",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "h"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 54
                          },
                          "id": 179,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_bounds_hours_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Distribution of chunk end-start durations",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Bounds (Hours)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 62
                          },
                          "id": 181,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_encode_time_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Distribution of chunk encode times",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Chunk Encoding Time",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Lines",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 62
                          },
                          "id": 182,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_ingester_chunk_entries_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Distribution of stored lines per chunk (when stored)",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ingester - Lines Per Chunk",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Operations",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 70
                          },
                          "id": 196,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_streams_created_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Stream creations / {{ tenant }}",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_streams_removed_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (tenant)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Stream deletetions / {{ tenant }}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Ingester - Stream Operations",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Streams",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 70
                          },
                          "id": 193,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(loki_ingester_memory_streams{job=\"$jobs\",instance=\"$host:$instance\"}) by (tenant)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Streams in memory / {{ tenant }}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Ingester - Streams In Memory",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Records",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 78
                          },
                          "id": 197,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_records_logged_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "WAL records logged",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_duplicate_entries_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Discarded entries during WAL replay due to existing in checkpoints",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_disk_full_failures_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "WAL write failures due to full disk",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_wal_discarded_samples_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (reason)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "WAL segment entries discarded during replay / {{ reason }}",
                              "range": true,
                              "refId": "D"
                            }
                          ],
                          "title": "Loki Ingester - WAL Records",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 78
                          },
                          "id": 200,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_wal_bytes_in_use{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "legendFormat": "Currently in use by the WAL recovery process",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_logged_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Written to disk for WAL records",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_wal_discarded_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (reason)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "WAL segment bytes discarded during replay / {{ reason }}",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_ingester_wal_discarded_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (reason)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Recovered from the WAL",
                              "range": true,
                              "refId": "D"
                            }
                          ],
                          "title": "Loki Ingester - WAL Volume",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Operations",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 86
                          },
                          "id": 198,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_recovered_entries_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Entries recovered from the WAL",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_recovered_chunks_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Chunks recovered from the WAL checkpoints",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_ingester_wal_recovered_streams_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Streams recovered from the WAL",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Loki Ingester - WAL Recovery Operations",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 86
                          },
                          "id": 199,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_wal_replay_active{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "WAL is replaying",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_ingester_wal_replay_flushing{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "WAL replay in flushing phase due to backpressure",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Ingester - WAL Replay Status",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Length",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 94
                          },
                          "id": 218,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_ingester_flush_queue_length{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Series pending in the flush queue",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Ingester - Flush Queue",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Clients",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 94
                          },
                          "id": 229,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_distributor_ingester_clients{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Ingester clients",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Ingester - Clients",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Ingester Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 24
                      },
                      "id": 121,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Messages",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 7
                          },
                          "id": 124,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_internal_log_messages_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (level)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ protocol }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki - Internal Log Messages",
                          "transformations": [
                            {
                              "id": "calculateField",
                              "options": {
                                "mode": "reduceRow",
                                "reduce": {
                                  "include": [
                                    "debug",
                                    "error",
                                    "info",
                                    "warn"
                                  ],
                                  "reducer": "sum"
                                }
                              }
                            },
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {
                                  "Time": 1,
                                  "Total": 0,
                                  "grpc": 2,
                                  "http": 3
                                },
                                "renameByName": {
                                  "debug": "Debug",
                                  "error": "Error",
                                  "grpc": "gRPC",
                                  "http": "HTTP",
                                  "info": "Info",
                                  "warn": "Warn"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Flushes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 7
                          },
                          "id": 217,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_log_flushes_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Log flushes - line-buffered logger",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Line - Log Flushes",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 15
                          },
                          "id": 122,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "bytes"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "BrBG",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 1e-9
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Size",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "bytes"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(loki_bytes_per_line_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Line - Line Size Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 15
                          },
                          "id": 123,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_bytes_per_line_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of bytes per line",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Line - Line Size",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*) / (.*)\\.(.*)",
                                "renamePattern": "$1 / $3"
                              }
                            }
                          ],
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Line Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 25
                      },
                      "id": 140,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Lines",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 8
                          },
                          "id": 148,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_logql_querystats_ingester_sent_lines_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Lines",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Lines Received From Ingester",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Duplicates",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 8
                          },
                          "id": 150,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_logql_querystats_duplicates_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Lines",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Duplicates Found",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 16
                          },
                          "id": 125,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(logql_query_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,query_type))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ query_type }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Query Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Zime",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 16
                          },
                          "id": 147,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_logql_querystats_latency_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,type,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ type }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Query Latency",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "binBps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 24
                          },
                          "id": 141,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_logql_querystats_bytes_processed_per_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,type,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ type }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Query Volume Processed",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Chunks",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 24
                          },
                          "id": 149,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_logql_querystats_downloaded_chunk_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by(type,status_code)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ type }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Downloaded Chunks",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Zime",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 32
                          },
                          "id": 146,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_logql_querystats_chunk_download_latency_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,type,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ type }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki LogQL - Chunk Download Latency",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki LogQL Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 26
                      },
                      "id": 204,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 9
                          },
                          "id": 206,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_querier_query_frontend_request_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,operation,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Querier - Frontend Request Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 9
                          },
                          "id": 210,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_query_frontend_log_result_cache_hit_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Cache hits for the frontend cache",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_query_frontend_log_result_cache_miss_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Cache misses for the frontend cache",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Querier - Frontend Cache",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 17
                          },
                          "id": 211,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_query_frontend_partitions_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Time-based partitions (sub-requests) per request",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Querier - Frontend Partitions",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 17
                          },
                          "id": 212,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_query_frontend_shard_factor_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,mapper))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Downstream queries per request / {{ mapper }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Querier - Frontend Shard Factor",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 25
                          },
                          "id": 213,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_query_frontend_sharding_parsed_queries_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,mapper,type)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Parsed queries by evaluation type / {{ mapper }} / {{ type }}",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_query_frontend_shards_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,mapper,type))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Downstream queries by expression type / {{ mapper }} / {{ type }}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Querier - Frontend Shards",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 25
                          },
                          "id": 209,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_querier_query_frontend_clients{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Clients connected to query-frontend",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_querier_tail_active{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Active tailers",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_querier_tail_active_streams{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Active streams being tailed",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_querier_worker_concurrency{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Concurrent querier workers",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_querier_worker_inflight_queries{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Queries being processed by the querier workers",
                              "range": true,
                              "refId": "E"
                            }
                          ],
                          "title": "Loki Querier - Index Cache Clients / Workers",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Operations",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 33
                          },
                          "id": 208,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_querier_index_cache_gets_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Gets for the index cache",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_querier_index_cache_puts_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Puts for the index cache",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_querier_index_cache_hits_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Cache hits for the index cache",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_querier_index_cache_corruptions_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Cache corruptions for the index cache",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_querier_index_cache_encode_errors_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Errors for the index cache while encoding the body",
                              "range": true,
                              "refId": "E"
                            }
                          ],
                          "title": "Loki Querier - Index Cache Operations",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Connections",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 33
                          },
                          "id": 219,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_frontend_connected_schedulers{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Schedulers this frontend is connected to",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_connected_frontend_clients{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Query-frontend worker clients",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_connected_querier_clients{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Querier worker clients",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Cortex Query - Frontend Connections",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Operations",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 41
                          },
                          "id": 215,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(querier_cache_added_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (cache)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Entries added to the cache / {{ cache }}",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(querier_cache_added_new_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (cache)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "New entries added to the cache / {{ cache }}",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(querier_cache_evicted_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (cache,reason)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Entries evicted from the cache / {{ cache }} / {{ reason }}",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(querier_cache_gets_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (cache)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Get calls to the cache / {{ cache }}",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(querier_cache_misses_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (cache)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Missed calls to the cache / {{ cache }}",
                              "range": true,
                              "refId": "E"
                            }
                          ],
                          "title": "Loki Query Cache - Throughput",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 41
                          },
                          "id": 214,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(querier_cache_entries{job=\"$jobs\",instance=\"$host:$instance\"}) by (cache)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Cache Entries / {{ cache }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Query Cache - Entries",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 49
                          },
                          "id": 216,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(querier_cache_memory_bytes{job=\"$jobs\",instance=\"$host:$instance\"}) by (cache)",
                              "hide": false,
                              "legendFormat": "Current cache size / {{ cache }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Query Cache - Size",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 49
                          },
                          "id": 207,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(cortex_query_frontend_retries_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Request retries",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Query - Frontend Retries",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 57
                          },
                          "id": 205,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(cortex_frontend_query_range_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,method,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ method }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Query - Frontend Range Request Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Connections",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 57
                          },
                          "id": 220,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_frontend_queries_in_progress{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Queries in progress",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Query - Frontend Operations",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 65
                          },
                          "id": 221,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.99\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of inflight requests (0.99 quantile)",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.95\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of inflight requests (0.95 quantile)",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.9\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of inflight requests (0.9 quantile)",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.8\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of inflight requests (0.8 quantile)",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.75\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of inflight requests (0.75 quantile)",
                              "range": true,
                              "refId": "E"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "cortex_query_scheduler_inflight_requests{job=\"$jobs\",instance=\"$host:$instance\",quantile=\"0.5\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Number of inflight requests (0.5 quantile)",
                              "range": true,
                              "refId": "F"
                            }
                          ],
                          "title": "Cortex Query - Scheduler Inflight Requests",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 65
                          },
                          "id": 222,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(cortex_query_scheduler_queue_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Time spend by requests in queue before getting picked up by a querier",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Query - Scheduler Queue Duration",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Querier",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 27
                      },
                      "id": 224,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Heartbeats",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 10
                          },
                          "id": 225,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(ring_member_heartbeats_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (name)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Heartbeats sent / {{ name }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Ring - Heathbeats",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Tokens",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 10
                          },
                          "id": 226,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(ring_member_tokens_owned{job=\"$jobs\",instance=\"$host:$instance\"}) by (name)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Tokens owned / {{ name }}",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(ring_member_tokens_to_own{job=\"$jobs\",instance=\"$host:$instance\"}) by (name)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Tokens to be owned / {{ name }}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Ring - Tokens",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Heartbeats",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 18
                          },
                          "id": 227,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(cortex_member_consul_heartbeats_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (name)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Heartbeats sent / {{ name }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Cortex Ring Member - Heathbeats",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Ring Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 28
                      },
                      "id": 133,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Chunks",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 11
                          },
                          "id": 135,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_store_series_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (status)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ status }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Series Referenced",
                          "transformations": [
                            {
                              "id": "calculateField",
                              "options": {
                                "mode": "reduceRow",
                                "reduce": {
                                  "include": [
                                    "debug",
                                    "error",
                                    "info",
                                    "warn"
                                  ],
                                  "reducer": "sum"
                                }
                              }
                            },
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {
                                  "Time": 1,
                                  "Total": 0,
                                  "grpc": 2,
                                  "http": 3
                                },
                                "renameByName": {
                                  "debug": "Debug",
                                  "discarded": "Discarded",
                                  "error": "Error",
                                  "grpc": "gRPC",
                                  "http": "HTTP",
                                  "info": "Info",
                                  "matched": "Matched",
                                  "warn": "Warn"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Chunks",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 11
                          },
                          "id": 134,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_store_chunks_downloaded_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (status)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ status }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Chunks Downloaded",
                          "transformations": [
                            {
                              "id": "calculateField",
                              "options": {
                                "mode": "reduceRow",
                                "reduce": {
                                  "include": [
                                    "debug",
                                    "error",
                                    "info",
                                    "warn"
                                  ],
                                  "reducer": "sum"
                                }
                              }
                            },
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {
                                  "Time": 1,
                                  "Total": 0,
                                  "grpc": 2,
                                  "http": 3
                                },
                                "renameByName": {
                                  "debug": "Debug",
                                  "discarded": "Discarded",
                                  "error": "Error",
                                  "grpc": "gRPC",
                                  "http": "HTTP",
                                  "info": "Info",
                                  "matched": "Matched",
                                  "warn": "Warn"
                                }
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Batch Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 19
                          },
                          "id": 136,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_store_chunks_per_batch_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,status))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ status }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Chunk Batch Size",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 19
                          },
                          "id": 165,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_chunk_fetcher_cache_dequeued_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Dequeue from buffer",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_chunk_fetcher_cache_enqueued_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Enqueue to buffer",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_chunk_fetcher_cache_skipped_buffer_full_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Skipped due to buffer full",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Loki Store - Chunk Fetcher Cache",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Chunks",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 27
                          },
                          "id": 166,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_chunk_store_fetched_chunks_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (user)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Fetched / {{ user }}",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(loki_chunk_store_stored_chunks_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (user)",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Stored / {{ user }}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Store - Fetched / Stored Chunks",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "binBps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 27
                          },
                          "id": 167,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_chunk_store_fetched_chunk_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Fetched / {{ user }}",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(loki_chunk_store_stored_chunk_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Stored / {{ user }}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Store - Fetched / Stored Chunk Volume",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 35
                          },
                          "id": 163,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 0
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Entries",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "none"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(loki_chunk_store_chunks_per_query_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Chunks Per Query Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bucket Entries",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 35
                          },
                          "id": 156,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_chunk_store_chunks_per_query_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Chunks Per Query",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 43
                          },
                          "id": 154,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 0
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Entries",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "none"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(loki_chunk_store_index_entries_per_chunk_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Index Entries Per Chunk Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bucket Entries",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 43
                          },
                          "id": 164,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_chunk_store_index_entries_per_chunk_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Index Entries Per Chunk",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 51
                          },
                          "id": 159,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 0
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Entries",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "none"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(loki_chunk_store_index_lookups_per_query_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Index Lookups Per Query Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bucket Entries",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 51
                          },
                          "id": 160,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_chunk_store_index_lookups_per_query_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Index Lookups Per Query",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 59
                          },
                          "id": 157,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 0
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Entries",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "none"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(loki_chunk_store_series_pre_intersection_per_query_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Series (Pre Intersection) Per Chunk Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bucket Entries",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 59
                          },
                          "id": 158,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_chunk_store_series_pre_intersection_per_query_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Series (Pre Intersection) Per Chunk",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 67
                          },
                          "id": 161,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 0
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Entries",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "none"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(loki_chunk_store_series_post_intersection_per_query_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Series (Post Intersection) Per Chunk Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bucket Entries",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 67
                          },
                          "id": 162,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_chunk_store_series_post_intersection_per_query_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Store - Series (Post Intersection) Per Chunk",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Store Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 29
                      },
                      "id": 170,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Errors",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 12
                          },
                          "id": 171,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_table_manager_create_failures{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Table create failures",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "loki_table_manager_delete_failures{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Table delete failures",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Loki Table Manager - Errors",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Time",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 12
                          },
                          "id": 172,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(0.95, sum(rate(loki_table_manager_sync_duration_seconds_bucket{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])) by (le,operation,status_code))",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "{{ operation }} / {{ status_code }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Loki Table Manager - Sync Duration",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)\\.(.*)",
                                "renamePattern": "$1 $2"
                              }
                            }
                          ],
                          "type": "timeseries"
                        }
                      ],
                      "title": "Loki Table Manager Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 30
                      },
                      "id": 83,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 13
                          },
                          "id": 168,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_goroutines{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Goroutines",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_threads{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Threads",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Go - Goroutines / Threads",
                          "transformations": [
                            {
                              "id": "renameByRegex",
                              "options": {
                                "regex": "(.*)fake$",
                                "renamePattern": "$1Default Tenant"
                              }
                            }
                          ],
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Avg. Latency",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 13
                          },
                          "id": 91,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_sched_latencies_seconds_sum{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])/rate(go_sched_latencies_seconds_count{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Average Goroutine latency",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Go - Goroutines Latency",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 21
                          },
                          "id": 94,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 1e-9
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Latency",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "s"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_sched_latencies_seconds_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Go - Goroutines Latency Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        }
                      ],
                      "title": "Go General Info",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 31
                      },
                      "id": 104,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 14
                          },
                          "id": 92,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_heap_free_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "interval": "$interval",
                              "legendFormat": "Free memory",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_heap_objects_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Allocated objects memory",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_heap_released_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Released memory",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_heap_stacks_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Stack reserved memory",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_heap_unused_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Reserved unused memory",
                              "range": true,
                              "refId": "E"
                            }
                          ],
                          "title": "Go - Memory Heap",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 14
                          },
                          "id": 93,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_metadata_mcache_free_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "interval": "$interval",
                              "legendFormat": "Free mcache memory",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_metadata_mcache_inuse_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Used mcache memory",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_metadata_mspan_free_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Free mspan memory",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_metadata_mspan_inuse_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Used mspan memory",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_metadata_other_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Used other metadata memory",
                              "range": true,
                              "refId": "E"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_other_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Used other memory",
                              "range": true,
                              "refId": "F"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_profiling_buckets_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Used profiling bucket memory",
                              "range": true,
                              "refId": "G"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "go_memory_classes_total_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": true,
                              "interval": "$interval",
                              "legendFormat": "Used total memory",
                              "range": true,
                              "refId": "H"
                            }
                          ],
                          "title": "Go - Memory Metadata",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Avg. Object Size",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 22
                          },
                          "id": 95,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_gc_heap_allocs_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])/rate(go_gc_heap_allocs_objects_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Average object size allocated to the heap by the application",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_gc_heap_frees_bytes_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])/rate(go_gc_heap_frees_objects_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "instant": false,
                              "interval": "$interval",
                              "legendFormat": "Average object size freed from the heap by the GC",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Go - Heap Object Allocation / Free Sizes",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 22
                          },
                          "id": 89,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "PuBuGn",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 1e-9
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Size",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "bytes"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_gc_heap_frees_by_size_bytes_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Go - Heap Free Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 30
                          },
                          "id": 88,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "RdBu",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 1e-9
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Size",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "bytes"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_gc_heap_allocs_by_size_bytes_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Go - Heap Allocation Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "13568.999999999998": "13569",
                                  "144.99999999999997": "145",
                                  "1536.9999999999998": "1537",
                                  "24.999999999999996": "25",
                                  "27264.999999999996": "27265",
                                  "320.99999999999994": "321",
                                  "3200.9999999999995": "3201",
                                  "64.99999999999999": "65",
                                  "6528.999999999999": "6529",
                                  "704.9999999999999": "705",
                                  "8.999999999999998": "9"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        }
                      ],
                      "title": "Go Memory Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 32
                      },
                      "id": 106,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Cycles",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "cps"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 15
                          },
                          "id": 84,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(go_gc_cycles_total_gc_cycles_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Count of all completed GC cycles",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(go_gc_cycles_automatic_gc_cycles_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Count of completed GC cycles generated by the Go runtime",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(go_gc_cycles_forced_gc_cycles_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "interval": "$interval",
                              "legendFormat": "Count of completed GC cycles forced by the application.",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Go - Garbage Collection Cycles",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Avg. Pause Duration",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 15
                          },
                          "id": 85,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(go_gc_duration_seconds_sum{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])/rate(go_gc_duration_seconds_count{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Average GC cycle pause duration",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(go_gc_pauses_seconds_sum{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])/rate(go_gc_pauses_seconds_count{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Average GC cycle halt duration",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Go - Garbage Collection Pause Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "scaleDistribution": {
                                  "type": "linear"
                                }
                              },
                              "links": []
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 23
                          },
                          "id": 90,
                          "maxDataPoints": 50,
                          "options": {
                            "calculate": false,
                            "cellGap": 2,
                            "cellValues": {
                              "unit": "cps"
                            },
                            "color": {
                              "exponent": 0.5,
                              "fill": "red",
                              "mode": "scheme",
                              "reverse": false,
                              "scale": "exponential",
                              "scheme": "BrBG",
                              "steps": 64
                            },
                            "exemplars": {
                              "color": "rgba(255,0,255,0.7)"
                            },
                            "filterValues": {
                              "le": 1e-9
                            },
                            "legend": {
                              "show": true
                            },
                            "rowsFrame": {
                              "layout": "auto"
                            },
                            "tooltip": {
                              "show": true,
                              "yHistogram": false
                            },
                            "yAxis": {
                              "axisLabel": "Bucket Duration",
                              "axisPlacement": "left",
                              "reverse": false,
                              "unit": "s"
                            }
                          },
                          "pluginVersion": "9.3.2",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "exemplar": false,
                              "expr": "rate(go_gc_pauses_seconds_bucket{job=\"$jobs\", instance=\"$host:$instance\"}[$__rate_interval])",
                              "format": "heatmap",
                              "instant": false,
                              "interval": "",
                              "legendFormat": "{{ le }}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Go - Garbage Collection Pauses Distribution",
                          "transformations": [
                            {
                              "id": "organize",
                              "options": {
                                "excludeByName": {},
                                "indexByName": {},
                                "renameByName": {
                                  "+Inf": "Unlimited",
                                  "0.00010239999999999998": "10e-5",
                                  "0.0010485759999999998": "10e-4",
                                  "0.010485759999999998": "10e-3",
                                  "0.10485759999999998": "10e-2",
                                  "1.0239999999999999e-05": "10e-6",
                                  "1.0239999999999999e-06": "10e-7",
                                  "9.999999999999998e-08": "10e-8",
                                  "9.999999999999999e-09": "10e-9",
                                  "9.999999999999999e-10": "10e-10"
                                }
                              }
                            }
                          ],
                          "type": "heatmap"
                        }
                      ],
                      "title": "Go GC Metrics",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 33
                      },
                      "id": 75,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Seconds",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 16
                          },
                          "id": 78,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "rate(process_cpu_seconds_total{job=\"$jobs\",instance=\"$host:$instance\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Total user and system CPU time spent in seconds",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Process - CPU seconds",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Bytes",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "bytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 16
                          },
                          "id": 79,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "process_virtual_memory_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "interval": "$interval",
                              "legendFormat": "Virtual memory size",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "process_resident_memory_bytes{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Resident memory size",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Process - Memory",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P4169E866C3094E38"
                          },
                          "description": "",
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Descriptors",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 24
                          },
                          "id": 77,
                          "options": {
                            "legend": {
                              "calcs": [
                                "min",
                                "max",
                                "mean",
                                "last"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "process_max_fds{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "hide": false,
                              "interval": "$interval",
                              "legendFormat": "Maximum number of open file descriptors",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P4169E866C3094E38"
                              },
                              "editorMode": "code",
                              "expr": "process_open_fds{job=\"$jobs\",instance=\"$host:$instance\"}",
                              "interval": "$interval",
                              "legendFormat": "Number of open file descriptors",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Process - File descriptors",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Process Info",
                      "type": "row"
                    }
                  ],
                  "preload": false,
                  "refresh": "1m",
                  "schemaVersion": 41,
                  "tags": [
                    "loki"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "default",
                          "value": "default"
                        },
                        "hide": 2,
                        "includeAll": false,
                        "label": "Datasource",
                        "name": "DS_PROMETHEUS",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "logging/logging-loki-compactor",
                          "value": "logging/logging-loki-compactor"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "label_values(loki_build_info,job)",
                        "includeAll": false,
                        "label": "Job",
                        "name": "jobs",
                        "options": [],
                        "query": {
                          "query": "label_values(loki_build_info,job)",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "10.20.144.227",
                          "value": "10.20.144.227"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "up{job=~\"$jobs\"}",
                        "includeAll": false,
                        "label": "Host",
                        "name": "host",
                        "options": [],
                        "query": {
                          "query": "up{job=~\"$jobs\"}",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": ".*instance=\"(.*?):.*\".*",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "3100",
                          "value": "3100"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "P4169E866C3094E38"
                        },
                        "definition": "up{job=~\"$jobs\"}",
                        "includeAll": false,
                        "label": "Instance",
                        "name": "instance",
                        "options": [],
                        "query": {
                          "query": "up{job=~\"$jobs\"}",
                          "refId": "StandardVariableQuery"
                        },
                        "refresh": 1,
                        "regex": ".*instance=\".*:(.*?)\".*",
                        "sort": 3,
                        "type": "query"
                      },
                      {
                        "auto": true,
                        "auto_count": 30,
                        "auto_min": "10s",
                        "current": {
                          "text": "30s",
                          "value": "30s"
                        },
                        "label": "Interval",
                        "name": "interval",
                        "options": [
                          {
                            "selected": true,
                            "text": "30s",
                            "value": "30s"
                          },
                          {
                            "selected": false,
                            "text": "1m",
                            "value": "1m"
                          },
                          {
                            "selected": false,
                            "text": "5m",
                            "value": "5m"
                          },
                          {
                            "selected": false,
                            "text": "1h",
                            "value": "1h"
                          },
                          {
                            "selected": false,
                            "text": "6h",
                            "value": "6h"
                          },
                          {
                            "selected": false,
                            "text": "1d",
                            "value": "1d"
                          }
                        ],
                        "query": "30s,1m,5m,1h,6h,1d",
                        "refresh": 2,
                        "type": "interval"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-24h",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "Loki",
                  "uid": "cesmoqzq38w74a",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/Observability-component/tempo.json)
              cat > /dashboards/Observability-component/tempo.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      },
                      {
                        "datasource": {
                          "uid": "$logsds"
                        },
                        "enable": true,
                        "expr": "{cluster=\"$cluster\", diff_namespace=\"$namespace\", container=\"kube-diff-logger\"}",
                        "hide": true,
                        "iconColor": "rgba(255, 96, 96, 1)",
                        "name": "diffs",
                        "showIn": 0,
                        "target": {}
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 104,
                  "links": [
                    {
                      "asDropdown": true,
                      "icon": "external link",
                      "includeVars": true,
                      "keepTime": true,
                      "tags": [
                        "tempo"
                      ],
                      "targetBlank": false,
                      "title": "Tempo Dashboards",
                      "type": "dashboards"
                    }
                  ],
                  "panels": [
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 38,
                      "panels": [
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 0,
                            "y": 1
                          },
                          "id": 24,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "rate(go_gc_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])",
                              "interval": "",
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "gcs",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "decbytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 3,
                            "y": 1
                          },
                          "id": 25,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "go_memstats_heap_inuse_bytes{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}",
                              "interval": "",
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "go heap",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 6,
                            "y": 1
                          },
                          "id": 23,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "go_goroutines{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}",
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "goroutines",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "continuous-BlYlRd"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 9,
                            "y": 1
                          },
                          "id": 42,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "rate(container_cpu_usage_seconds_total{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$component.*\", container!=\"POD\"}[$__rate_interval])",
                              "interval": "",
                              "intervalFactor": 5,
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "cpu",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "decbytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 12,
                            "y": 1
                          },
                          "id": 43,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "container_memory_working_set_bytes{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$component.*\", container!=\"POD\"}",
                              "interval": "",
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "working set",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "decbytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 15,
                            "y": 1
                          },
                          "id": 44,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "rate(container_network_receive_bytes_total{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$component.*\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "rx-{{pod}}",
                              "refId": "A"
                            },
                            {
                              "expr": "rate(container_network_transmit_bytes_total{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$component.*\"}[$__rate_interval])",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "tx-{{pod}}",
                              "refId": "B"
                            }
                          ],
                          "title": "tx/rx",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "decbytes"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 18,
                            "y": 1
                          },
                          "id": 45,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "asc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "kubelet_volume_stats_available_bytes{cluster=\"$cluster\", namespace=\"$namespace\", persistentvolumeclaim=~\"$component.*\"}",
                              "legendFormat": "{{persistentvolumeclaim}}",
                              "refId": "A"
                            }
                          ],
                          "title": "data volume free",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 21,
                            "y": 1
                          },
                          "id": 46,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "hideZeros": false,
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.5.2",
                          "targets": [
                            {
                              "expr": "rate(promtail_custom_bad_words_total{cluster=\"$cluster\", exported_namespace=\"$namespace\", app=~\"$component.*\"}[$__rate_interval])",
                              "interval": "",
                              "legendFormat": "{{exported_pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "bad words",
                          "type": "timeseries"
                        }
                      ],
                      "title": "General",
                      "type": "row"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 1
                      },
                      "id": 49,
                      "panels": [],
                      "title": "Maintenance",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percentunit"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 0,
                        "y": 2
                      },
                      "id": 33,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "expr": "tempodb_work_queue_length{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"} / tempodb_work_queue_max{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}",
                          "legendFormat": "{{instance}}",
                          "refId": "A"
                        }
                      ],
                      "title": "%age total work queue",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 3,
                        "y": 2
                      },
                      "id": 32,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "expr": "sum(increase(tempodb_compaction_errors_total{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (job)",
                          "legendFormat": "compaction_err",
                          "refId": "B"
                        },
                        {
                          "expr": "sum(increase(tempodb_retention_errors_total{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (job)",
                          "legendFormat": "retention_err",
                          "refId": "C"
                        },
                        {
                          "expr": "sum(increase(tempodb_blocklist_poll_errors_total{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (job)",
                          "legendFormat": "blocklist_err",
                          "refId": "D"
                        }
                      ],
                      "title": "maintenance errors",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "points",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 3,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 6,
                        "y": 2
                      },
                      "id": 35,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.99, sum(rate(tempodb_blocklist_poll_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (le)) < ($latency_metrics * +Inf)",
                          "interval": "",
                          "legendFormat": ".99",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.9, sum(rate(tempodb_blocklist_poll_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (le)) < ($latency_metrics * +Inf)",
                          "legendFormat": ".9",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.5, sum(rate(tempodb_blocklist_poll_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (le)) < ($latency_metrics * +Inf)",
                          "interval": "",
                          "legendFormat": ".5",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.99, sum(rate(tempodb_blocklist_poll_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (le)) < ($latency_metrics * -Inf)",
                          "hide": false,
                          "interval": "",
                          "legendFormat": ".99",
                          "range": true,
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.9, sum(rate(tempodb_blocklist_poll_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (le)) < ($latency_metrics * -Inf)",
                          "hide": false,
                          "legendFormat": ".9",
                          "range": true,
                          "refId": "E"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.5, sum(rate(tempodb_blocklist_poll_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (le)) < ($latency_metrics * -Inf)",
                          "hide": false,
                          "interval": "",
                          "legendFormat": ".5",
                          "range": true,
                          "refId": "F"
                        }
                      ],
                      "title": "Blocklist Poll Duration",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 9,
                        "y": 2
                      },
                      "id": 47,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "exemplar": true,
                          "expr": "avg(tempodb_blocklist_length{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}) by (tenant)",
                          "instant": false,
                          "interval": "",
                          "legendFormat": "{{tenant}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Blocklist Length",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "default": false,
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "points",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 4,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 12,
                        "y": 2
                      },
                      "id": 51,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.99, sum(rate(tempodb_retention_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/compactor\"}[$__rate_interval])) by (le)) < ($latency_metrics * +Inf)",
                          "interval": "",
                          "legendFormat": ".99",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.9, sum(rate(tempodb_retention_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/compactor\"}[$__rate_interval])) by (le)) < ($latency_metrics * +Inf)",
                          "interval": "",
                          "legendFormat": ".9",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.5, sum(rate(tempodb_retention_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/compactor\"}[$__rate_interval])) by (le)) < ($latency_metrics * +Inf)",
                          "interval": "",
                          "legendFormat": ".5",
                          "range": true,
                          "refId": "C"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.99, sum(rate(tempodb_retention_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/compactor\"}[$__rate_interval]))) < ($latency_metrics * -Inf)",
                          "hide": false,
                          "interval": "",
                          "legendFormat": ".99",
                          "range": true,
                          "refId": "D"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.9, sum(rate(tempodb_retention_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/compactor\"}[$__rate_interval]))) < ($latency_metrics * -Inf)",
                          "hide": false,
                          "interval": "",
                          "legendFormat": ".9",
                          "range": true,
                          "refId": "E"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "mimir-ops-03"
                          },
                          "editorMode": "code",
                          "expr": "histogram_quantile(.5, sum(rate(tempodb_retention_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/compactor\"}[$__rate_interval])) ) < ($latency_metrics * -Inf)",
                          "hide": false,
                          "interval": "",
                          "legendFormat": ".5",
                          "range": true,
                          "refId": "F"
                        }
                      ],
                      "title": "retention duration",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 15,
                        "y": 2
                      },
                      "id": 53,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "expr": "sum(increase(tempodb_retention_deleted_total{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval]))",
                          "interval": "",
                          "legendFormat": "deleted",
                          "refId": "A"
                        },
                        {
                          "expr": "sum(increase(tempodb_retention_marked_for_deletion_total{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval]))",
                          "interval": "",
                          "legendFormat": "marked_for_deletion",
                          "refId": "B"
                        }
                      ],
                      "title": "retention",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 18,
                        "y": 2
                      },
                      "id": 70,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "expr": "increase(kube_pod_container_status_restarts_total{cluster=\"$cluster\", namespace=\"$namespace\"}[5m]) > 0",
                          "hide": false,
                          "interval": "",
                          "legendFormat": "{{pod}}",
                          "refId": "A"
                        }
                      ],
                      "title": "Container Restarts",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 7
                      },
                      "id": 21,
                      "panels": [
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 0,
                            "y": 8
                          },
                          "id": 34,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\".*traces_traceid\", cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Queries/Sec (cortex-gw)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 4,
                            "y": 8
                          },
                          "id": 78,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C"
                            }
                          ],
                          "title": "Query Latency (Gateway)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 12,
                            "y": 8
                          },
                          "id": 97,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\".*api_search.*\", cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Queries/Sec (cortex-gw)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 16,
                            "y": 8
                          },
                          "id": 93,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*api_search.*\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*api_search.*\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Query Latency (Gateway)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 0,
                            "y": 13
                          },
                          "id": 90,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_request_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", route=~\".*traces_traceid\", job=\"$namespace/query-frontend\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Queries/Sec (Query Frontend)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 4,
                            "y": 13
                          },
                          "id": 17,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C"
                            }
                          ],
                          "title": "Query Latency (Query Frontend)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 12,
                            "y": 13
                          },
                          "id": 98,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "sum(rate(tempo_request_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", route=~\".*api_search.*\", job=\"$namespace/query-frontend\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Queries/Sec (Query Frontend)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 16,
                            "y": 13
                          },
                          "id": 94,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Query Latency (Query Frontend)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 0,
                            "y": 24
                          },
                          "id": 91,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\"querier_.*traces_traceid\", cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Queries/Sec (Querier)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 4,
                            "y": 24
                          },
                          "id": 89,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*traces_traceid\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C"
                            }
                          ],
                          "title": "Query Latency (Querier)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 12,
                            "y": 24
                          },
                          "id": 99,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\"querier_.*api_search.*\", cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Queries/Sec (Querier)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 16,
                            "y": 24
                          },
                          "id": 95,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*api_search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Query Latency (Querier)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 0,
                            "y": 29
                          },
                          "id": 92,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=\"/tempopb.Querier/FindTraceByID\", cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Queries/Sec (Ingester)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 4,
                            "y": 29
                          },
                          "id": 3,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=\"/tempopb.Querier/FindTraceByID\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=\"/tempopb.Querier/FindTraceByID\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=\"/tempopb.Querier/FindTraceByID\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C"
                            }
                          ],
                          "title": "Query Latency (Ingester)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 12,
                            "y": 29
                          },
                          "id": 100,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\"/tempopb.Querier/Search.*\", cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Queries/Sec (Ingester)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 16,
                            "y": 29
                          },
                          "id": 96,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=~\"/tempopb.Querier/Search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=~\"/tempopb.Querier/Search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B",
                              "stepMode": "min"
                            },
                            {
                              "exemplar": true,
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=~\"/tempopb.Querier/Search.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Search Query Latency (Ingester)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 0,
                            "y": 34
                          },
                          "id": 102,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\".*api_metrics_summary\", cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Metrics Summary QPS (cortex-gw)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 4,
                            "y": 34
                          },
                          "id": 103,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*api_metrics_summary\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*api_metrics_summary\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\".*api_metrics_summary\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Metrics Summary Latency (Gateway)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 12,
                            "y": 34
                          },
                          "id": 110,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "exemplar": true,
                              "expr": "sum(rate(tempo_request_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", route=~\".*api_metrics.*\", job=\"$namespace/query-frontend\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "range": true,
                              "refId": "A",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Metrics Summary QPS (Query Frontend)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 16,
                            "y": 34
                          },
                          "id": 111,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "exemplar": true,
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*api_metrics.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A",
                              "stepMode": "min"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "exemplar": true,
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*api_metrics.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B",
                              "stepMode": "min"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "exemplar": true,
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/query-frontend\", route=~\".*api_metrics.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C",
                              "stepMode": "min"
                            }
                          ],
                          "title": "Metrics Summary Latency (Query Frontend)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 0,
                            "y": 39
                          },
                          "id": 112,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=~\"querier_.*api_metrics.*\", cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}} {{route}}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Metrics Summary QPS (Querier)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 4,
                            "y": 39
                          },
                          "id": 113,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*api_metrics.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*api_metrics.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/querier\", route=~\"querier_.*api_metrics.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Metrics Summary Latency (Querier)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 4,
                            "x": 12,
                            "y": 39
                          },
                          "id": 106,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(tempo_request_duration_seconds_count{route=\"/tempopb.MetricsGenerator/GetMetrics\", cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\"}[$__rate_interval])) by (status_code)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "GetMetrics QPS (Metrics Generator)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 16,
                            "y": 39
                          },
                          "id": 107,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\", route=\"/tempopb.MetricsGenerator/GetMetrics\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\", route=\"/tempopb.MetricsGenerator/GetMetrics\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\", route=\"/tempopb.MetricsGenerator/GetMetrics\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "GetMetrics Latency (Metrics Generator)",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Read",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 19,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "normal"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 0,
                            "y": 20
                          },
                          "id": 10,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P666011C0B63BDCA4"
                              },
                              "editorMode": "code",
                              "expr": "sum by(cluster) (rate(tempo_distributor_spans_received_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "{{pod}}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Spans Received",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "normal"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 3,
                            "y": 20
                          },
                          "id": 9,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P1809F7CD0C75ACF3"
                              },
                              "editorMode": "builder",
                              "expr": "sum by(cluster) (rate(tempo_ingester_traces_created_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Traces Created",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 6,
                            "y": 20
                          },
                          "id": 8,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "expr": "sum(increase(tempo_ingester_blocks_flushed_total{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\"}[1h]))",
                              "interval": "",
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Blocks Flushed (1h)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 9,
                            "y": 20
                          },
                          "id": 12,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "expr": "increase(tempo_ingester_failed_flushes_total{cluster=\"$cluster\", namespace=\"$namespace\"}[5m]) > 0",
                              "interval": "",
                              "legendFormat": "{{pod}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Failed Flushes",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 12,
                            "y": 20
                          },
                          "id": 26,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "expr": "sum(increase(tempo_ingester_blocks_cleared_total{cluster=\"$cluster\", namespace=\"$namespace\"}[1h]))",
                              "interval": "",
                              "legendFormat": "",
                              "refId": "A"
                            }
                          ],
                          "title": "Blocks Cleared (1h)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "points",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 6,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "always",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 15,
                            "y": 20
                          },
                          "id": 36,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempo_ingester_flush_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempo_ingester_flush_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempo_ingester_flush_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "refId": "C"
                            }
                          ],
                          "title": "Flush Duration",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 6,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "always",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 3,
                            "x": 18,
                            "y": 20
                          },
                          "id": 114,
                          "options": {
                            "legend": {
                              "calcs": [
                                "lastNotNull"
                              ],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "sum(tempo_distributor_queue_length{cluster=~\"$cluster\", namespace=~\"$namespace\", job=~\".*/distributor\"}) by (name)",
                              "interval": "",
                              "legendFormat": "{{name}}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Distributor Queue Length",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "default": false,
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 2,
                            "x": 21,
                            "y": 20
                          },
                          "id": 115,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(tempo_distributor_metrics_generator_pushes_failures_total{namespace=~\"$namespace\", cluster=~\"$cluster\"}[1m])) by (namespace, cluster)",
                              "interval": "",
                              "legendFormat": "{{cluster}} {{namespace}}",
                              "range": true,
                              "refId": "A"
                            }
                          ],
                          "title": "Pushes Failing (Distributor)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 10,
                            "w": 7,
                            "x": 0,
                            "y": 25
                          },
                          "id": 71,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_request_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval])) by (status_code)",
                              "interval": "",
                              "legendFormat": "{{status_code}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Pushes/sec (gateway)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 10,
                            "w": 6,
                            "x": 7,
                            "y": 25
                          },
                          "id": 72,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_receiver_accepted_spans{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "accepted",
                              "refId": "A"
                            },
                            {
                              "expr": "sum(rate(tempo_receiver_refused_spans{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "refused",
                              "refId": "B"
                            }
                          ],
                          "title": "OTEL Distributor Spans/second",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "default": false,
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 7,
                            "x": 13,
                            "y": 25
                          },
                          "id": 79,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval])) by (le)) > ($latency_metrics * -Inf)",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval])) by (le)) > ($latency_metrics * -Inf)",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval])) by (le)) > ($latency_metrics * -Inf)",
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval]))) < ($latency_metrics * -Inf)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "D"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval]))) < ($latency_metrics * -Inf)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "E"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/cortex-gw(-internal)?\", route=~\"(opentelemetry_proto_collector_trace_v1_traceservice_export|otlp_v1_traces)\"}[$__rate_interval]))) < ($latency_metrics * -Inf)",
                              "hide": false,
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "F"
                            }
                          ],
                          "title": "Push Latency (Gateway)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "default": false,
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 7,
                            "x": 13,
                            "y": 30
                          },
                          "id": 2,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=~\"/tempopb.Pusher/Push.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=~\"/tempopb.Pusher/Push.*\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "mimir-ops-03"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/ingester\", route=~\"/tempopb.Pusher/Push.*\"}[$__rate_interval])) by (le))",
                              "hide": false,
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Push Latency (Ingester)",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "none"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 6,
                            "x": 7,
                            "y": 35
                          },
                          "id": 109,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(tempo_metrics_generator_spans_received_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "accepted",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "sum(rate(tempo_metrics_generator_spans_discarded_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (reason)",
                              "interval": "",
                              "legendFormat": "refused {{reason}}",
                              "range": true,
                              "refId": "B"
                            }
                          ],
                          "title": "Generator Spans/second",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "default": false,
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 5,
                            "w": 7,
                            "x": 13,
                            "y": 35
                          },
                          "id": 108,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d452322apre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.99, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\", route=~\"/tempopb.MetricsGenerator/PushSpans\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".99",
                              "range": true,
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.9, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\", route=~\"/tempopb.MetricsGenerator/PushSpans\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".9",
                              "range": true,
                              "refId": "B"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "cortex-ops-01"
                              },
                              "editorMode": "code",
                              "expr": "histogram_quantile(.5, sum(rate(tempo_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=\"$namespace/metrics-generator\", route=~\"/tempopb.MetricsGenerator/PushSpans\"}[$__rate_interval])) by (le))",
                              "interval": "",
                              "legendFormat": ".5",
                              "range": true,
                              "refId": "C"
                            }
                          ],
                          "title": "Push Latency (Generator)",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Write",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 9
                      },
                      "id": 74,
                      "panels": [
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 26
                          },
                          "id": 75,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_memcache_request_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (status_code, method)",
                              "interval": "",
                              "legendFormat": "{{status_code}}-{{method}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Requests/Second",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 26
                          },
                          "id": 76,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempo_memcache_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (method, le))",
                              "interval": "",
                              "legendFormat": ".99-{{method}}",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempo_memcache_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (method, le))",
                              "interval": "",
                              "legendFormat": ".9-{{method}}",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempo_memcache_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (method, le))",
                              "interval": "",
                              "legendFormat": ".5-{{method}}",
                              "refId": "C"
                            }
                          ],
                          "title": "Latency By Operation",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Memcached",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 10
                      },
                      "id": 28,
                      "panels": [
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 0,
                            "y": 27
                          },
                          "id": 31,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempodb_backend_request_duration_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (status_code, operation)",
                              "interval": "",
                              "legendFormat": "{{status_code}}-{{operation}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Requests/Second",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "s"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 12,
                            "x": 12,
                            "y": 27
                          },
                          "id": 30,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "histogram_quantile(.99, sum(rate(tempodb_backend_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (operation, le))",
                              "legendFormat": ".99-{{operation}}",
                              "refId": "A"
                            },
                            {
                              "expr": "histogram_quantile(.9, sum(rate(tempodb_backend_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (operation, le))",
                              "legendFormat": ".9-{{operation}}",
                              "refId": "B"
                            },
                            {
                              "expr": "histogram_quantile(.5, sum(rate(tempodb_backend_request_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}[$__rate_interval])) by (operation, le))",
                              "legendFormat": ".5-{{operation}}",
                              "refId": "C"
                            }
                          ],
                          "title": "Latency By Operation",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Backend",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 11
                      },
                      "id": 56,
                      "panels": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 6,
                            "x": 0,
                            "y": 28
                          },
                          "id": 58,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P666011C0B63BDCA4"
                              },
                              "expr": "gauge_memberlist_health_score{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}",
                              "interval": "",
                              "legendFormat": "{{instance}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Gossip Health",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 6,
                            "x": 6,
                            "y": 28
                          },
                          "id": 62,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "tempo_memberlist_client_cluster_node_health_score{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"}",
                              "interval": "",
                              "legendFormat": "{{instance}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Node Health",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 6,
                            "x": 12,
                            "y": 28
                          },
                          "id": 63,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "expr": "min(tempo_memberlist_client_cluster_members_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"})",
                              "interval": "",
                              "legendFormat": "min",
                              "refId": "A"
                            },
                            {
                              "expr": "max(tempo_memberlist_client_cluster_members_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"})",
                              "interval": "",
                              "legendFormat": "max",
                              "refId": "B"
                            }
                          ],
                          "title": "Member Count",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "links": [],
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 6,
                            "x": 18,
                            "y": 28
                          },
                          "id": 60,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "9.0.0-d373beebpre",
                          "targets": [
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P666011C0B63BDCA4"
                              },
                              "expr": "min(tempo_memberlist_client_kv_store_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"})",
                              "interval": "",
                              "legendFormat": "min",
                              "refId": "A"
                            },
                            {
                              "datasource": {
                                "type": "prometheus",
                                "uid": "P666011C0B63BDCA4"
                              },
                              "expr": "max(tempo_memberlist_client_kv_store_count{cluster=\"$cluster\", namespace=\"$namespace\", job=~\"$namespace/$component\"})",
                              "interval": "",
                              "legendFormat": "max",
                              "refId": "B"
                            }
                          ],
                          "title": "KV Store Count",
                          "type": "timeseries"
                        }
                      ],
                      "title": "Ring/Memberlist",
                      "type": "row"
                    },
                    {
                      "collapsed": true,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 12
                      },
                      "id": 69,
                      "panels": [
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": []
                              },
                              "unit": "percentunit"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 9,
                            "w": 12,
                            "x": 0,
                            "y": 24
                          },
                          "id": 77,
                          "options": {
                            "graph": {},
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "7.5.0-14141pre",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_vulture_trace_error_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (error) / ignoring (error) group_left sum(rate(tempo_vulture_trace_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "{{error}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Vulture Query Errors",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "uid": "$ds"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "thresholds"
                              },
                              "mappings": [],
                              "max": 1,
                              "min": 0,
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green"
                                  }
                                ]
                              },
                              "unit": "percentunit"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 9,
                            "w": 12,
                            "x": 12,
                            "y": 24
                          },
                          "id": 67,
                          "options": {
                            "displayMode": "gradient",
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": false
                            },
                            "maxVizHeight": 300,
                            "minVizHeight": 10,
                            "minVizWidth": 0,
                            "namePlacement": "auto",
                            "orientation": "auto",
                            "reduceOptions": {
                              "calcs": [
                                "mean"
                              ],
                              "fields": "",
                              "values": false
                            },
                            "showUnfilled": true,
                            "sizing": "auto",
                            "text": {},
                            "valueMode": "color"
                          },
                          "pluginVersion": "11.3.0-75324",
                          "targets": [
                            {
                              "expr": "sum(rate(tempo_vulture_trace_error_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (error) / ignoring (error) group_left sum(rate(tempo_vulture_trace_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                              "interval": "",
                              "legendFormat": "{{secondsago}}",
                              "refId": "A"
                            }
                          ],
                          "title": "Average Vulture Query Errors",
                          "type": "bargauge"
                        }
                      ],
                      "title": "Vulture",
                      "type": "row"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 13
                      },
                      "id": 81,
                      "panels": [],
                      "title": "Compactor",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 14
                      },
                      "id": 83,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(rate(tempodb_compaction_objects_combined_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (level)",
                          "interval": "",
                          "legendFormat": "",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Objects Combined / s",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "uid": "$ds"
                      },
                      "description": "",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 4,
                        "y": 14
                      },
                      "id": 85,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "sum(rate(tempodb_compaction_objects_written_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval])) by (level)",
                          "interval": "",
                          "legendFormat": "",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Objects Written / s",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 8,
                        "y": 14
                      },
                      "id": 88,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P666011C0B63BDCA4"
                          },
                          "disableTextWrap": false,
                          "editorMode": "builder",
                          "expr": "sum by(level) (rate(tempodb_compaction_bytes_written_total{cluster=\"$cluster\", namespace=\"$namespace\"}[$__rate_interval]))",
                          "fullMetaSearch": false,
                          "includeNullMetadata": true,
                          "interval": "",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A",
                          "useBackend": false
                        }
                      ],
                      "title": "Bytes Written / s",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "$ds"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "normal"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          },
                          "unit": "short"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 12,
                        "y": 14
                      },
                      "id": 86,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.0",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "P666011C0B63BDCA4"
                          },
                          "editorMode": "code",
                          "expr": "sum(increase(tempodb_compaction_blocks_total{cluster=\"$cluster\", namespace=\"$namespace\"}[5m])) by (level)",
                          "interval": "",
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Blocks Compacted",
                      "type": "timeseries"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [
                    "tempo"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "default",
                          "value": "default"
                        },
                        "includeAll": false,
                        "name": "ds",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "logging",
                          "value": "logging"
                        },
                        "includeAll": false,
                        "name": "logsds",
                        "options": [],
                        "query": "loki",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "current": {
                          "text": "",
                          "value": ""
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "$ds"
                        },
                        "definition": "label_values(tempo_build_info, cluster)",
                        "includeAll": false,
                        "name": "cluster",
                        "options": [],
                        "query": {
                          "query": "label_values(tempo_build_info, cluster)",
                          "refId": "ops-cortex-cluster-Variable-Query"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "current": {
                          "text": "observability",
                          "value": "observability"
                        },
                        "datasource": {
                          "type": "prometheus",
                          "uid": "$ds"
                        },
                        "definition": "label_values(tempo_build_info{cluster=~'$cluster'}, namespace)",
                        "includeAll": false,
                        "name": "namespace",
                        "options": [],
                        "query": {
                          "query": "label_values(tempo_build_info{cluster=~'$cluster'}, namespace)",
                          "refId": "ops-cortex-namespace-Variable-Query"
                        },
                        "refresh": 1,
                        "regex": "",
                        "sort": 1,
                        "type": "query"
                      },
                      {
                        "allValue": ".*",
                        "current": {
                          "text": "ingester",
                          "value": "ingester"
                        },
                        "includeAll": true,
                        "name": "component",
                        "options": [
                          {
                            "selected": false,
                            "text": "block-builder",
                            "value": "block-builder"
                          },
                          {
                            "selected": false,
                            "text": "compactor",
                            "value": "compactor"
                          },
                          {
                            "selected": false,
                            "text": "distributor",
                            "value": "distributor"
                          },
                          {
                            "selected": true,
                            "text": "ingester",
                            "value": "ingester"
                          },
                          {
                            "selected": false,
                            "text": "metrics-generator",
                            "value": "metrics-generator"
                          },
                          {
                            "selected": false,
                            "text": "query-frontend",
                            "value": "query-frontend"
                          },
                          {
                            "selected": false,
                            "text": "querier",
                            "value": "querier"
                          },
                          {
                            "selected": false,
                            "text": "cortex-gw",
                            "value": "cortex-gw"
                          },
                          {
                            "selected": false,
                            "text": "cortex-gw-internal",
                            "value": "cortex-gw-internal"
                          }
                        ],
                        "query": "block-builder,compactor,distributor,ingester,metrics-generator,query-frontend,querier,cortex-gw,cortex-gw-internal",
                        "type": "custom"
                      },
                      {
                        "current": {
                          "text": "-1",
                          "value": "-1"
                        },
                        "description": "Choose between showing latencies based on low precision classic or high precision native histogram metrics.",
                        "includeAll": false,
                        "label": "Latency metrics",
                        "name": "latency_metrics",
                        "options": [
                          {
                            "selected": true,
                            "text": "native",
                            "value": "-1"
                          },
                          {
                            "selected": false,
                            "text": "classic",
                            "value": "1"
                          }
                        ],
                        "query": "native : -1,classic : 1",
                        "type": "custom"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-6h",
                    "to": "now"
                  },
                  "timepicker": {
                    "refresh_intervals": [
                      "10s",
                      "30s",
                      "1m",
                      "5m",
                      "15m",
                      "30m",
                      "1h",
                      "2h",
                      "1d"
                    ]
                  },
                  "timezone": "",
                  "title": "Tempo ",
                  "uid": "a6175b9cc7ec20591890117c39580030",
                  "version": 1
                }
                
EOF
              mkdir -p $(dirname /dashboards/SRE/Blackbox.json)
              cat > /dashboards/SRE/Blackbox.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "datasource",
                          "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "Prometheus Blackbox Exporter Overview",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 47,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "This metric shows the total time it took to complete the entire probe (i.e., the full check of the target website or service).<br>\nprobe_duration_seconds tells you how long the check took from start to finish.<br>\nIt's the sum of all steps: DNS resolve + TCP connect + TLS handshake + HTTP request + response time.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 138,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "asc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "probe_duration_seconds{instance=~\"$target\"}",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "legendFormat": "{{ instance }}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Global Probe Duration",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 15,
                      "panels": [],
                      "repeat": "target",
                      "title": "$target status",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows whether the website or service is up or not.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            },
                            {
                              "options": {
                                "1": {
                                  "text": "UP"
                                }
                              },
                              "type": "value"
                            },
                            {
                              "options": {
                                "0": {
                                  "text": "DOWN"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "#d44a3a"
                              },
                              {
                                "color": "rgba(237, 129, 40, 0.89)",
                                "value": 1
                              },
                              {
                                "color": "#299c46",
                                "value": 1
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 4,
                        "x": 0,
                        "y": 9
                      },
                      "id": 2,
                      "maxDataPoints": 100,
                      "maxPerRow": 8,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "probe_success{instance=~\"$target\"}",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Status",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It measures the time taken for each phase of an HTTP probe (sum of all redirects). Prometheus' Blackbox Exporter breaks it down into these phases:<br>\n\nPhase\tWhat it measures<br>\nresolve:\tTime to look up the DNS record (domain â†’ IP) <br>\nconnect:\tTime to establish a TCP connection to the server<br>\ntls:\tTime for the TLS handshake (making the connection secure)<br>\nprocessing:\tTime from sending the request until the first byte is received<br>\ntransfer:\tTime to download the rest of the response body",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 10,
                        "x": 4,
                        "y": 9
                      },
                      "id": 25,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "probe_http_duration_seconds{instance=~\"$target\"}",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "legendFormat": "{{ phase }}",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "title": "HTTP Duration",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It tells you how long it took to check a service or website â€” from start to finish.<br>\n\nThis includes: DNS lookup + connection + TLS handshake + HTTP response time (if applicable).",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": false,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 10,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "never",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 10,
                        "x": 14,
                        "y": 9
                      },
                      "id": 17,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "probe_duration_seconds{instance=~\"$target\"}",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "legendFormat": "seconds",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Probe Duration",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows what response code the website or service gave back when it was checked.<br>\n200 â†’ OK (The site is working fine)<br>\n404 â†’ Not Found (The page doesn't exist)<br>\n500 â†’ Internal Server Error (Something is wrong on the server)<br>\n301 or 302 â†’ Redirect (The site is redirecting to another URL)<br>\nIt helps you understand what kind of response your service is giving â€” not just whether itâ€™s up (probe_success) but also how it is behaving.",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 0,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            },
                            {
                              "options": {
                                "1": {
                                  "text": "YES"
                                }
                              },
                              "type": "value"
                            },
                            {
                              "options": {
                                "0": {
                                  "text": "N/A"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "#299c46"
                              },
                              {
                                "color": "rgba(237, 129, 40, 0.89)",
                                "value": 201
                              },
                              {
                                "color": "#d44a3a",
                                "value": 399
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 4,
                        "x": 0,
                        "y": 11
                      },
                      "id": 20,
                      "maxDataPoints": 100,
                      "maxPerRow": 8,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "probe_http_status_code{instance=~\"$target\"}",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "HTTP Status Code",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "It shows the version of the HTTP protocol that the target (website or service) is using when your monitoring tool checks it. <br>\nExamples:<br>\n1.1 â†’ The server responded using HTTP/1.1<br>\n 2.0 â†’ The server responded using HTTP/2<br>\n1.0 â†’ The server responded using HTTP/1.0<br>\nHelps you confirm if your server is using a modern protocol (like HTTP/2) which is faster and more efficient.<br>\nUseful for debugging if some services are still using older versions like HTTP/1.0.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 4,
                        "x": 0,
                        "y": 13
                      },
                      "id": 27,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "probe_http_version{instance=~\"$target\"}",
                          "format": "time_series",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "HTTP Version",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "${datasource}"
                      },
                      "description": "The metric probe_http_ssl tells you whether SSL/TLS was used in the HTTP connection â€” in simple terms, whether the connection was secure (HTTPS) or not.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            },
                            {
                              "options": {
                                "1": {
                                  "text": "YES"
                                }
                              },
                              "type": "value"
                            },
                            {
                              "options": {
                                "0": {
                                  "text": "NO"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "#d44a3a"
                              },
                              {
                                "color": "rgba(237, 129, 40, 0.89)",
                                "value": 0
                              },
                              {
                                "color": "#299c46",
                                "value": 1
                              }
                            ]
                          },
                          "unit": "none"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 4,
                        "x": 0,
                        "y": 15
                      },
                      "id": 18,
                      "maxDataPoints": 100,
                      "maxPerRow": 8,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "${datasource}"
                          },
                          "editorMode": "code",
                          "expr": "probe_http_ssl{instance=~\"$target\"}",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "SSL",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "This shows the uptime percentage (availability) of a service over the last 30 days â€” that is, how many times the service responded successfully.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 0
                              },
                              {
                                "color": "#EAB839",
                                "value": 95
                              },
                              {
                                "color": "green",
                                "value": 99
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 5,
                        "x": 4,
                        "y": 15
                      },
                      "id": 139,
                      "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "last"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "(\r\n  sum(sum_over_time(probe_success{instance=~\"$target\"}[30d]))\r\n  /\r\n  sum(count_over_time(probe_success{instance=~\"$target\"}[30d]))\r\n) * 100\r\n",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "title": "SLA(Last 30 days)",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It tells you when the SSL certificate of a website or service will expire.",
                      "fieldConfig": {
                        "defaults": {
                          "decimals": 2,
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            },
                            {
                              "options": {
                                "1": {
                                  "text": "YES"
                                }
                              },
                              "type": "value"
                            },
                            {
                              "options": {
                                "0": {
                                  "text": "NO"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "#d44a3a"
                              },
                              {
                                "color": "rgba(237, 129, 40, 0.89)",
                                "value": 0
                              },
                              {
                                "color": "#299c46",
                                "value": 1209600
                              }
                            ]
                          },
                          "unit": "dtdurations"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 5,
                        "x": 9,
                        "y": 15
                      },
                      "id": 19,
                      "maxDataPoints": 100,
                      "maxPerRow": 8,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "probe_ssl_earliest_cert_expiry{instance=~\"$target\"} - time()",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "SSL Expiry",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It shows the total time taken to perform the probe from start to finish, in seconds.<br>\nIt tells how much time the service took to respond.<br>\nIt helps you know if your service is fast or slow.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 5,
                        "x": 14,
                        "y": 15
                      },
                      "id": 23,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "avg(probe_duration_seconds{instance=~\"$target\"})",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Average Probe Duration",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "description": "It shows how much time was spent on DNS lookup during the probe.<br>\nIn very simple words:<br>\nHow long it took to find the IP address of the website or service.",
                      "fieldConfig": {
                        "defaults": {
                          "mappings": [
                            {
                              "options": {
                                "match": "null",
                                "result": {
                                  "text": "N/A"
                                }
                              },
                              "type": "special"
                            }
                          ],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "s"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 2,
                        "w": 5,
                        "x": 19,
                        "y": 15
                      },
                      "id": 24,
                      "maxDataPoints": 100,
                      "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "avg(probe_dns_lookup_time_seconds{instance=~\"$target\"})",
                          "format": "time_series",
                          "interval": "$interval",
                          "intervalFactor": 1,
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "title": "Average DNS Lookup",
                      "type": "stat"
                    }
                  ],
                  "preload": false,
                  "refresh": "10s",
                  "schemaVersion": 41,
                  "tags": [
                    "blackbox",
                    "prometheus"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": "VictoriaMetrics",
                          "value": "victoriametrics"
                        },
                        "label": "datasource",
                        "name": "datasource",
                        "options": [],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      },
                      {
                        "auto": true,
                        "auto_count": 10,
                        "auto_min": "10s",
                        "current": {
                          "text": "10s",
                          "value": "10s"
                        },
                        "hide": 2,
                        "label": "Interval",
                        "name": "interval",
                        "options": [
                          {
                            "selected": false,
                            "text": "5s",
                            "value": "5s"
                          },
                          {
                            "selected": true,
                            "text": "10s",
                            "value": "10s"
                          },
                          {
                            "selected": false,
                            "text": "30s",
                            "value": "30s"
                          },
                          {
                            "selected": false,
                            "text": "1m",
                            "value": "1m"
                          },
                          {
                            "selected": false,
                            "text": "10m",
                            "value": "10m"
                          },
                          {
                            "selected": false,
                            "text": "30m",
                            "value": "30m"
                          },
                          {
                            "selected": false,
                            "text": "1h",
                            "value": "1h"
                          },
                          {
                            "selected": false,
                            "text": "6h",
                            "value": "6h"
                          },
                          {
                            "selected": false,
                            "text": "12h",
                            "value": "12h"
                          },
                          {
                            "selected": false,
                            "text": "1d",
                            "value": "1d"
                          },
                          {
                            "selected": false,
                            "text": "7d",
                            "value": "7d"
                          },
                          {
                            "selected": false,
                            "text": "14d",
                            "value": "14d"
                          },
                          {
                            "selected": false,
                            "text": "30d",
                            "value": "30d"
                          }
                        ],
                        "query": "5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
                        "refresh": 2,
                        "type": "interval"
                      },
                      {
                        "current": {
                          "text": [
                            "http://grafana.k8s.opstree.dev"
                          ],
                          "value": [
                            "http://grafana.k8s.opstree.dev"
                          ]
                        },
                        "datasource": "victoriametrics",
                        "includeAll": false,
                        "multi": true,
                        "name": "target",
                        "options": [],
                        "query": "label_values(probe_success, instance)",
                        "refresh": 1,
                        "regex": "",
                        "type": "query"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-15m",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "",
                  "title": "Endpoint Monitoring",
                  "uid": "xtkCtBkiz",
                  "version": 4
                }
                
EOF
              mkdir -p $(dirname /dashboards/SRE/SRE_At_A_Glance.json)
              cat > /dashboards/SRE/SRE_At_A_Glance.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 42,
                  "links": [],
                  "liveNow": true,
                  "panels": [
                    {
                      "description": "",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 0
                      },
                      "id": 12,
                      "options": {
                        "code": {
                          "language": "plaintext",
                          "showLineNumbers": false,
                          "showMiniMap": false
                        },
                        "content": "## Frontend\n#### 1 Week\n**SLI:** Availability | **SLO:** 99.50%\n<br>\n**SLI:** Latency [100ms] | **SLO:** 99.00%\n<br>\n**SLI:** Success Rate | **SLO:** 99.00%\n",
                        "mode": "markdown"
                      },
                      "pluginVersion": "11.6.1",
                      "title": "",
                      "type": "text"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 4,
                        "y": 0
                      },
                      "hideTimeOverride": true,
                      "id": 42,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "#EAB839",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 50
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 7,
                        "y": 0
                      },
                      "hideTimeOverride": true,
                      "id": 43,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (round(\n  (\n    clamp_min(\n      ( 0.995 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n))",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Availability Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97
                              },
                              {
                                "color": "green",
                                "value": 98.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 10,
                        "y": 0
                      },
                      "hideTimeOverride": true,
                      "id": 44,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"200\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "#EAB839",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 50
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 13,
                        "y": 0
                      },
                      "hideTimeOverride": true,
                      "id": 45,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"100\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Latency Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 16,
                        "y": 0
                      },
                      "hideTimeOverride": true,
                      "id": 46,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success Rate SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 19,
                        "y": 0
                      },
                      "hideTimeOverride": true,
                      "id": 47,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate Error Budget",
                      "type": "stat"
                    },
                    {
                      "description": "",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 5
                      },
                      "id": 18,
                      "options": {
                        "code": {
                          "language": "plaintext",
                          "showLineNumbers": false,
                          "showMiniMap": false
                        },
                        "content": "## Cart\n#### 1 Week\n**SLI:** Availability | **SLO:** 99.90%\n<br>\n**SLI:** Latency [50ms] | **SLO:** 99.00%\n<br>\n**SLI:** Success Rate | **SLO:** 99.50%\n",
                        "mode": "markdown"
                      },
                      "pluginVersion": "11.6.1",
                      "title": "",
                      "type": "text"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 4,
                        "y": 5
                      },
                      "hideTimeOverride": true,
                      "id": 48,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 7,
                        "y": 5
                      },
                      "hideTimeOverride": true,
                      "id": 49,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Availability Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97
                              },
                              {
                                "color": "green",
                                "value": 98.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 10,
                        "y": 5
                      },
                      "hideTimeOverride": true,
                      "id": 50,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 13,
                        "y": 5
                      },
                      "hideTimeOverride": true,
                      "id": 51,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"50\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Latency Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 16,
                        "y": 5
                      },
                      "hideTimeOverride": true,
                      "id": 52,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success Rate SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 19,
                        "y": 5
                      },
                      "hideTimeOverride": true,
                      "id": 53,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.995 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate Error Budget",
                      "type": "stat"
                    },
                    {
                      "description": "",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 10
                      },
                      "id": 19,
                      "options": {
                        "code": {
                          "language": "plaintext",
                          "showLineNumbers": false,
                          "showMiniMap": false
                        },
                        "content": "## Checkout\n#### 1 Week\n**SLI:** Availability | **SLO:** 99.90%\n<br>\n**SLI:** Latency [1000ms] | **SLO:** 99.00%\n<br>\n**SLI:** Success Rate | **SLO:** 99.50%\n",
                        "mode": "markdown"
                      },
                      "pluginVersion": "11.6.1",
                      "title": "",
                      "type": "text"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 4,
                        "y": 10
                      },
                      "hideTimeOverride": true,
                      "id": 54,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 7,
                        "y": 10
                      },
                      "hideTimeOverride": true,
                      "id": 55,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Availability Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97
                              },
                              {
                                "color": "green",
                                "value": 98.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 10,
                        "y": 10
                      },
                      "hideTimeOverride": true,
                      "id": 56,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"1000\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 13,
                        "y": 10
                      },
                      "hideTimeOverride": true,
                      "id": 57,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"1000\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Latency Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 16,
                        "y": 10
                      },
                      "hideTimeOverride": true,
                      "id": 58,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success Rate SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 19,
                        "y": 10
                      },
                      "hideTimeOverride": true,
                      "id": 59,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.995 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate Error Budget",
                      "type": "stat"
                    },
                    {
                      "description": "",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 15
                      },
                      "id": 20,
                      "options": {
                        "code": {
                          "language": "plaintext",
                          "showLineNumbers": false,
                          "showMiniMap": false
                        },
                        "content": "## Payment\n#### 1 Week\n**SLI:** Availability | **SLO:** 99.90%\n<br>\n**SLI:** Latency [50ms] | **SLO:** 99.90%\n<br>\n**SLI:** Success Rate | **SLO:** 99.99%\n",
                        "mode": "markdown"
                      },
                      "pluginVersion": "11.6.1",
                      "title": "",
                      "type": "text"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 4,
                        "y": 15
                      },
                      "hideTimeOverride": true,
                      "id": 60,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 7,
                        "y": 15
                      },
                      "hideTimeOverride": true,
                      "id": 61,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Availability Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 10,
                        "y": 15
                      },
                      "hideTimeOverride": true,
                      "id": 62,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"50\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 13,
                        "y": 15
                      },
                      "hideTimeOverride": true,
                      "id": 63,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"50\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Latency Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 16,
                        "y": 15
                      },
                      "hideTimeOverride": true,
                      "id": 64,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success Rate SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 19,
                        "y": 15
                      },
                      "hideTimeOverride": true,
                      "id": 65,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.9999 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.0001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate Error Budget",
                      "type": "stat"
                    },
                    {
                      "description": "",
                      "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 20
                      },
                      "id": 21,
                      "options": {
                        "code": {
                          "language": "plaintext",
                          "showLineNumbers": false,
                          "showMiniMap": false
                        },
                        "content": "## Ads\n#### 1 Week\n**SLI:** Availability | **SLO:** 99.90%\n<br>\n**SLI:** Latency [100ms] | **SLO:** 99.50%\n<br>\n**SLI:** Success Rate | **SLO:** 99.90%\n",
                        "mode": "markdown"
                      },
                      "pluginVersion": "11.6.1",
                      "title": "",
                      "type": "text"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 4,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 66,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 7,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 67,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Availability Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97.5
                              },
                              {
                                "color": "green",
                                "value": 99
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 10,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 68,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 13,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 72,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.995 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"100\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Latency Error Budget",
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 16,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 70,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success SLO",
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 5,
                        "w": 3,
                        "x": 19,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 71,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.9999 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.0001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate Error Budget",
                      "type": "stat"
                    }
                  ],
                  "preload": false,
                  "refresh": "",
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": []
                  },
                  "time": {
                    "from": "now-7d",
                    "to": "now"
                  },
                  "timepicker": {
                    "hidden": true
                  },
                  "timezone": "browser",
                  "title": "SRE At A Glance",
                  "uid": "derthihgvbojkb",
                  "version": 3
                }
                
EOF
              mkdir -p $(dirname /dashboards/SRE/SRE_In_Depth.json)
              cat > /dashboards/SRE/SRE_In_Depth.json <<'EOF'
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {
                          "type": "grafana",
                          "uid": "-- Grafana --"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "target": {
                          "limit": 100,
                          "matchAny": false,
                          "tags": [],
                          "type": "dashboard"
                        },
                        "type": "dashboard"
                      }
                    ]
                  },
                  "description": "SRE Quantified",
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 0,
                  "id": 43,
                  "links": [],
                  "liveNow": true,
                  "panels": [
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 29,
                      "panels": [],
                      "title": "Frontend Web",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 1
                      },
                      "hideTimeOverride": true,
                      "id": 43,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 50
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "m"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 1
                      },
                      "hideTimeOverride": true,
                      "id": 40,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.995 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n)",
                          "hide": true,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "clamp_min(\r\n  (\r\n    0.995 -\r\n    (\r\n      count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m])\r\n      /\r\n      count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m])\r\n    )\r\n  ) / 0.005 * 50.4,\r\n0)\r\n",
                          "hide": true,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "clamp_min(\r\n  (\r\n    0.995 -\r\n    (\r\n      count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[$__range:1m])\r\n      /\r\n      count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[$__range:1m])\r\n    )\r\n  ) / 0.005 * ($__range_s / 3600),\r\n0)\r\n",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "C"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "#EAB839",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 50
                              }
                            ]
                          },
                          "unit": "m"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 1
                      },
                      "hideTimeOverride": true,
                      "id": 41,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (round(\n  (\n    clamp_min(\n      ( 0.995 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n))",
                          "hide": true,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        },
                        {
                          "datasource": {
                            "type": "prometheus",
                            "uid": "victoriametrics"
                          },
                          "editorMode": "code",
                          "expr": "clamp_min(\r\n  50.4 -\r\n  (\r\n    (\r\n      0.995 -\r\n      (\r\n        count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m])\r\n        /\r\n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m])\r\n      )\r\n    ) / 0.005 * 50.4\r\n  ),\r\n0)\r\n",
                          "hide": false,
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "B"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 1
                      },
                      "hideTimeOverride": true,
                      "id": 35,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "SLI - Availability | SLO - 99.50% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 1
                      },
                      "hideTimeOverride": true,
                      "id": 34,
                      "interval": "5",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"} > 0)[1h:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"frontend\"}[1h:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Availability | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97
                              },
                              {
                                "color": "green",
                                "value": 98.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 7
                      },
                      "hideTimeOverride": true,
                      "id": 30,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"200\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 50
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 7
                      },
                      "hideTimeOverride": true,
                      "id": 38,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"100\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "#EAB839",
                                "value": 20
                              },
                              {
                                "color": "green",
                                "value": 50
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 7
                      },
                      "hideTimeOverride": true,
                      "id": 37,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"100\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 7
                      },
                      "hideTimeOverride": true,
                      "id": 33,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"200\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.01\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Latency [100ms] | SLO - 99.00% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 7
                      },
                      "hideTimeOverride": true,
                      "id": 27,
                      "interval": "10s",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"200\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Latency [100ms] | SLO - 99.00% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 13
                      },
                      "hideTimeOverride": true,
                      "id": 42,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "#EAB839",
                                "value": 50
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 13
                      },
                      "hideTimeOverride": true,
                      "id": 44,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.99 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 13
                      },
                      "hideTimeOverride": true,
                      "id": 45,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"frontend\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 13
                      },
                      "hideTimeOverride": true,
                      "id": 46,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate | SLO - 99.50% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 13
                      },
                      "hideTimeOverride": true,
                      "id": 47,
                      "interval": "2m",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"frontend\",\n    span_kind=\"SPAN_KIND_SERVER\",\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "Success Rate | SLO - 99.50% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 48,
                      "panels": [],
                      "title": "Cart",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 52,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 25
                              },
                              {
                                "color": "#EAB839",
                                "value": 50
                              },
                              {
                                "color": "dark-red",
                                "value": 75
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 53,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 54,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 55,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Availability | SLO - 99.90% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 20
                      },
                      "hideTimeOverride": true,
                      "id": 56,
                      "interval": "10s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"} > 0)[1h:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"cart\"}[1h:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Availability | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97
                              },
                              {
                                "color": "green",
                                "value": 98.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 26
                      },
                      "hideTimeOverride": true,
                      "id": 72,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 26
                      },
                      "hideTimeOverride": true,
                      "id": 75,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"50\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 26
                      },
                      "hideTimeOverride": true,
                      "id": 74,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"50\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 26
                      },
                      "hideTimeOverride": true,
                      "id": 76,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.01\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Latency [50ms] | SLO - 99.00% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 26
                      },
                      "hideTimeOverride": true,
                      "id": 77,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Latency [50ms] | SLO - 99.00% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 32
                      },
                      "hideTimeOverride": true,
                      "id": 78,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 32
                      },
                      "hideTimeOverride": true,
                      "id": 79,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.995 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 32
                      },
                      "hideTimeOverride": true,
                      "id": 80,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.995 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"cart\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 32
                      },
                      "hideTimeOverride": true,
                      "id": 81,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate | SLO - 99.50% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 32
                      },
                      "hideTimeOverride": true,
                      "id": 82,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"cart\",\n    span_kind=\"SPAN_KIND_SERVER\",\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "Success Rate | SLO - 99.50% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 38
                      },
                      "id": 49,
                      "panels": [],
                      "title": "Checkout",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 39
                      },
                      "hideTimeOverride": true,
                      "id": 57,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 39
                      },
                      "hideTimeOverride": true,
                      "id": 60,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 39
                      },
                      "hideTimeOverride": true,
                      "id": 63,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 39
                      },
                      "hideTimeOverride": true,
                      "id": 66,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Availability | SLO - 99.90% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 39
                      },
                      "hideTimeOverride": true,
                      "id": 69,
                      "interval": "5",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"checkout\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Availability | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97
                              },
                              {
                                "color": "green",
                                "value": 98.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 45
                      },
                      "hideTimeOverride": true,
                      "id": 83,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"1000\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 45
                      },
                      "hideTimeOverride": true,
                      "id": 84,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"1000\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 45
                      },
                      "hideTimeOverride": true,
                      "id": 85,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.99 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"1000\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.01\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 45
                      },
                      "hideTimeOverride": true,
                      "id": 86,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"1000\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.01\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Latency [1000ms] | SLO - 99.00% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 45
                      },
                      "hideTimeOverride": true,
                      "id": 87,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"1000\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Latency [1000ms] | SLO - 99.00% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 51
                      },
                      "hideTimeOverride": true,
                      "id": 88,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 51
                      },
                      "hideTimeOverride": true,
                      "id": 89,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.995 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 51
                      },
                      "hideTimeOverride": true,
                      "id": 90,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.995 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"checkout\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 51
                      },
                      "hideTimeOverride": true,
                      "id": 91,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate | SLO - 99.50% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 51
                      },
                      "hideTimeOverride": true,
                      "id": 92,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"checkout\",\n    span_kind=\"SPAN_KIND_SERVER\",\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "Success Rate | SLO - 99.50% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 57
                      },
                      "id": 50,
                      "panels": [],
                      "title": "Payment",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 58
                      },
                      "hideTimeOverride": true,
                      "id": 58,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 58
                      },
                      "hideTimeOverride": true,
                      "id": 61,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 58
                      },
                      "hideTimeOverride": true,
                      "id": 64,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 58
                      },
                      "hideTimeOverride": true,
                      "id": 67,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Availability | SLO - 99.90% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 58
                      },
                      "hideTimeOverride": true,
                      "id": 70,
                      "interval": "5",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"payment\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Availability | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 64
                      },
                      "hideTimeOverride": true,
                      "id": 93,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"50\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 64
                      },
                      "hideTimeOverride": true,
                      "id": 94,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"50\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 64
                      },
                      "hideTimeOverride": true,
                      "id": 95,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"50\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 64
                      },
                      "hideTimeOverride": true,
                      "id": 96,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"50\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.01\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Latency [50ms] | SLO - 99.90% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 64
                      },
                      "hideTimeOverride": true,
                      "id": 97,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"50\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Latency [50ms] | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 70
                      },
                      "hideTimeOverride": true,
                      "id": 103,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 70
                      },
                      "hideTimeOverride": true,
                      "id": 104,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.9999 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.0001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 70
                      },
                      "hideTimeOverride": true,
                      "id": 105,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.9999 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"payment\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.0001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 70
                      },
                      "hideTimeOverride": true,
                      "id": 106,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate | SLO - 99.99% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 70
                      },
                      "hideTimeOverride": true,
                      "id": 107,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"payment\",\n    span_kind=\"SPAN_KIND_SERVER\",\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "Success Rate | SLO - 99.99% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 76
                      },
                      "id": 51,
                      "panels": [],
                      "title": "Ads",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 77
                      },
                      "hideTimeOverride": true,
                      "id": 59,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]\n  )\n  * 100,\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Availability SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 77
                      },
                      "hideTimeOverride": true,
                      "id": 62,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 77
                      },
                      "hideTimeOverride": true,
                      "id": 65,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.999 - \n        (count_over_time((kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]) \n        / \n        count_over_time(kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]))\n      ) * 100, 0 \n      )\n    / 0.001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 77
                      },
                      "hideTimeOverride": true,
                      "id": 68,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Availability | SLO - 99.90% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "max": 100,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 77
                      },
                      "hideTimeOverride": true,
                      "id": 71,
                      "interval": "5",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  count_over_time(\n    (kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"} > 0)[7d:1m]\n  )\n  /\n  count_over_time(\n    kube_deployment_status_replicas_ready{namespace=\"otel-demo\", deployment=\"ad\"}[7d:1m]\n  )\n  * 100,\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Availability | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 97.5
                              },
                              {
                                "color": "green",
                                "value": 99
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 83
                      },
                      "hideTimeOverride": true,
                      "id": 98,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Latency SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 83
                      },
                      "hideTimeOverride": true,
                      "id": 99,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.995 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"100\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 83
                      },
                      "hideTimeOverride": true,
                      "id": 100,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.995 - \n        (\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"100\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          le=\"+Inf\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.005\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 83
                      },
                      "hideTimeOverride": true,
                      "id": 101,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[7d])),\n  0.01\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "SLI - Latency [100ms] | SLO - 99.50% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 83
                      },
                      "hideTimeOverride": true,
                      "id": 102,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"100\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_duration_milliseconds_bucket{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    le=\"+Inf\"\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "SLI - Latency [100ms] | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 4,
                          "mappings": [],
                          "max": 100,
                          "min": 90,
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "dark-red"
                              },
                              {
                                "color": "semi-dark-yellow",
                                "value": 98
                              },
                              {
                                "color": "green",
                                "value": 99.5
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 4,
                        "x": 0,
                        "y": 89
                      },
                      "hideTimeOverride": true,
                      "id": 108,
                      "interval": "5m",
                      "maxDataPoints": 1500,
                      "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "auto",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto",
                        "text": {}
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "instant": false,
                          "legendFormat": "__auto",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "7d",
                      "title": "Success SLO % | 1 Week",
                      "transparent": true,
                      "type": "gauge"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Consumed",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "green",
                                "value": 40
                              },
                              {
                                "color": "#EAB839",
                                "value": 60
                              },
                              {
                                "color": "dark-red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 4,
                        "y": 89
                      },
                      "hideTimeOverride": true,
                      "id": 109,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  (\n    clamp_min(\n      ( 0.9999 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.0001\n  ),\n  0.01\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "decimals": 2,
                          "displayName": "Remaining",
                          "fieldMinMax": false,
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "dark-red",
                                "value": -1000
                              },
                              {
                                "color": "dark-red",
                                "value": 20
                              },
                              {
                                "color": "#EAB839",
                                "value": 40
                              },
                              {
                                "color": "green",
                                "value": 60
                              }
                            ]
                          },
                          "unit": "percent"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 3,
                        "x": 7,
                        "y": 89
                      },
                      "hideTimeOverride": true,
                      "id": 110,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": false
                        },
                        "showPercentChange": false,
                        "text": {
                          "titleSize": 20,
                          "valueSize": 40
                        },
                        "textMode": "auto",
                        "wideLayout": true
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "100 - (\n  round(\n  (\n    clamp_min(\n      ( 0.9999 - (\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\",\n          status_code!=\"STATUS_CODE_ERROR\"\n        }[7d:1m]))\n        /\n        sum(rate(traces_span_metrics_calls_total{\n          service_name=\"ad\",\n          span_kind=\"SPAN_KIND_SERVER\"\n        }[7d:1m]))\n      )\n      ) * 100, 0 \n      )\n    / 0.0001\n  ),\n  0.01\n  )\n)",
                          "hide": false,
                          "legendFormat": "{{label_name}}",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Error Budget",
                      "transparent": true,
                      "type": "stat"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineWidth": 1,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 10,
                        "y": 89
                      },
                      "hideTimeOverride": true,
                      "id": 111,
                      "interval": "10m",
                      "maxDataPoints": 1000,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[7d]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\"\n  }[7d])),\n  0.0001\n)",
                          "legendFormat": "1-Week % Requests Under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1w",
                      "title": "Success Rate | SLO - 99.90% | 1 Week",
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "prometheus",
                        "uid": "victoriametrics"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "axisSoftMax": 100,
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "none",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "linear",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1,
                            "pointSize": 1,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": false,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 6,
                        "w": 7,
                        "x": 17,
                        "y": 89
                      },
                      "hideTimeOverride": true,
                      "id": 112,
                      "interval": "5s",
                      "maxDataPoints": 1500,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "editorMode": "code",
                          "exemplar": false,
                          "expr": "round(\n  100 *\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n    status_code!=\"STATUS_CODE_ERROR\"\n  }[5m]))\n  /\n  sum(rate(traces_span_metrics_calls_total{\n    service_name=\"ad\",\n    span_kind=\"SPAN_KIND_SERVER\",\n  }[5m])),\n  0.0001\n)",
                          "hide": false,
                          "legendFormat": "Real-Time % request under 400ms",
                          "range": true,
                          "refId": "A"
                        }
                      ],
                      "timeFrom": "1h",
                      "title": "Success Rate | SLO - 99.90% | Real Time",
                      "type": "timeseries"
                    }
                  ],
                  "preload": true,
                  "refresh": "15m",
                  "schemaVersion": 41,
                  "tags": [],
                  "templating": {
                    "list": []
                  },
                  "time": {
                    "from": "now-1h",
                    "to": "now"
                  },
                  "timepicker": {
                    "hidden": true,
                    "refresh_intervals": []
                  },
                  "timezone": "",
                  "title": "SRE In Depth",
                  "uid": "ferqp08w71ptsa",
                  "version": 7
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/AWS_CloudWatch_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/AWS_CloudWatch_Cost_Analytics.json <<'EOF'
                
                
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 33,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_cloudwatch_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_cloudwatch_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_cloudwatch_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY date\nORDER BY date",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily CloudWatch Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\nGROUP BY region\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 9
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 20
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 20
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 20
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 31
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 31
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "CloudWatch Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 31
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonCloudWatch'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "hide": 2,
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-7d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS CloudWatch Cost Analytics",
                  "uid": "c28eb332-f349-44d3-83d7-8762bce1af8e",
                  "version": 5
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/AWS_ECS_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/AWS_ECS_Cost_Analytics.json <<'EOF'
                
                
                
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 34,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ecs_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ecs_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ecs_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY date\nORDER BY date",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily ECS Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 9
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 20
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 20
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 20
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 31
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 31
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "ECS Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 31
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS CloudWatch Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonECS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "hide": 2,
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-7d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS ECS Cost Analytics",
                  "uid": "26d8055a-b238-4734-b6e3-ea8f33750b54",
                  "version": 7
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/AWS_EKS_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/AWS_EKS_Cost_Analytics.json <<'EOF'
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 35,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_eks_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_eks_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_eks_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY date\nORDER BY date",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily EKS Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\nGROUP BY region\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 9
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 20
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 20
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 20
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 31
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 31
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EKS Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 31
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EKS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEKS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "hide": 2,
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-30d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS EKS Cost Analytics",
                  "uid": "a0475d3a-2d9d-4040-b340-9ec2951425c4",
                  "version": 6
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/AWS_S3_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/AWS_S3_Cost_Analytics.json <<'EOF'
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 36,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_s3_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_s3_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_s3_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY date\nORDER BY date\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily S3 Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(region) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND region IS NOT NULL\n  AND trimBoth(region) != ''\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 9
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 20
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 20
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 20
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 31
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 31
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "S3 Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 31
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS S3 Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonS3'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "hide": 2,
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-7d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS S3 Cost Analytics",
                  "uid": "c63c8c0a-262f-4dd4-8d80-61b67be150bd",
                  "version": 5
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/Compute/AWS_EBS_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/Compute/AWS_EBS_Cost_Analytics.json <<'EOF'
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 28,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "grafana-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "grafana-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorType": "sql",
                          "format": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "queryType": "table",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ebs_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE usage_type LIKE '%EBS%'\nGROUP BY date\nORDER BY date",
                          "refId": "A"
                        }
                      ],
                      "title": "Daily EBS Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": []
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE usage_type LIKE '%EBS%'\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE usage_type LIKE '%EBS%'\nGROUP BY region\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 18
                      },
                      "id": 18,
                      "panels": [],
                      "title": "EBS Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS cost on the basis of Operation Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 19
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  operation AS operation,\n  round(sum(cost_blended), 2) AS cost\nFROM cost.service_costs\nWHERE usage_type ILIKE '%EBS%'\nGROUP BY operation\nORDER BY cost DESC\n\n\n\n\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "EBS Cost by Operation Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS cost on the basis of Usage Types",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 19
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^total_cost$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  usage_type AS ebs_usage_type,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2' AND usage_type ILIKE '%EBS%'\nGROUP BY ebs_usage_type\nORDER BY total_cost DESC\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "EBS Usage Types by Cost",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS cost on the basis of Product Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 19
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^total_cost$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(product_family) AS product_family,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_family IS NOT NULL AND trimBoth(product_family) != ''\nGROUP BY product_family\nORDER BY total_cost DESC;\n\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Product Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 30
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE usage_type LIKE '%EBS%'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 40
                      },
                      "id": 25,
                      "panels": [],
                      "title": "Snapshot Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS cost on the basis of  Snapshot Usage Types",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 7,
                        "x": 0,
                        "y": 41
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  usage_type AS snapshot_usage_type,\n  round(sum(cost_unblended), 2) AS total_cost\nFROM cost.service_costs\nWHERE usage_type ILIKE '%SnapshotUsage%'\n  AND usage_type IS NOT NULL AND trim(usage_type) != ''\nGROUP BY snapshot_usage_type\nORDER BY total_cost DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Snapshot Usage Types",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS Snapshot Cost by Account ID",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 7,
                        "y": 41
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": []
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^snapshot_cost$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS account_id,\n  round(sum(cost_unblended), 2) AS snapshot_cost\nFROM cost.service_costs\nWHERE usage_type ILIKE '%SnapshotUsage%'\nGROUP BY account_id\nORDER BY snapshot_cost DESC\n\n\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Snapshot Cost Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EBS Cost on the basis of Snapshot Region",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 41
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^snapshot_cost$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS EBS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEBS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS snapshot_region,\n  round(sum(cost_unblended), 2) AS snapshot_cost\nFROM cost.service_costs\nWHERE usage_type ILIKE '%SnapshotUsage%'\n  AND region IS NOT NULL AND trim(region) != ''\nGROUP BY snapshot_region\nORDER BY snapshot_cost DESC\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Snapshot Region Cost",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-30d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS EBS Cost Analytics",
                  "uid": "48d5f52c-5b71-4dc0-abfb-8e84442c1434",
                  "version": 35
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/Compute/AWS_EC2_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/Compute/AWS_EC2_Cost_Analytics.json <<'EOF'
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 27,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ec2_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ec2_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_ec2_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY date\nORDER BY date",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily EC2 Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "datasource": {
                        "type": "grafana-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Daily trends in cost based on instance usage.",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 0,
                            "gradientMode": "opacity",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 1.5,
                            "pointSize": 5,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "auto",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "off"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          }
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 25,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "datasource": {
                            "type": "grafana-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorType": "sql",
                          "format": 0,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "queryType": "timeseries",
                          "rawSql": "SELECT\n  toStartOfHour(usage_start_ts) AS time,\n  instance_type AS metric,\n  COUNT(resource_id) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  -- AND operation = 'RunInstances'\n  AND instance_type != ''\n  -- AND $__timeFilter(usage_start_ts)\nGROUP BY time, metric\nORDER BY time ASC\n\n\n\n\n\n\n",
                          "refId": "A"
                        }
                      ],
                      "title": "Daily EC2 Instance Type Cost Breakdown",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 16
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 17
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "builderOptions": {
                            "aggregates": [],
                            "columns": [
                              {
                                "alias": "metric",
                                "hint": "time",
                                "name": "account_id",
                                "type": "datetime"
                              }
                            ],
                            "database": "cost",
                            "filters": [
                              {
                                "key": "product_code",
                                "operator": "=",
                                "type": "string",
                                "value": "AmazonEC2"
                              }
                            ],
                            "groupBy": [
                              "metric"
                            ],
                            "limit": 0,
                            "meta": {},
                            "mode": "list",
                            "orderBy": [
                              {
                                "dir": "DESC",
                                "name": "value"
                              }
                            ],
                            "queryType": "table",
                            "table": "service_costs"
                          },
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "aggregates": [],
                              "columns": [
                                {
                                  "alias": "metric",
                                  "hint": "time",
                                  "name": "account_id",
                                  "type": "datetime"
                                }
                              ],
                              "database": "cost",
                              "filters": [
                                {
                                  "key": "product_code",
                                  "operator": "=",
                                  "type": "string",
                                  "value": "AmazonEC2"
                                }
                              ],
                              "groupBy": [
                                "metric"
                              ],
                              "limit": 0,
                              "meta": {},
                              "mode": "list",
                              "orderBy": [
                                {
                                  "dir": "DESC",
                                  "name": "value"
                                }
                              ],
                              "queryType": "table",
                              "table": "service_costs"
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\nconcat('Account ID: ', toString(account_id)) AS metric,\nround(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 17
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\nGROUP BY region\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 17
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 27
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 28
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 28
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 28
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 39
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 39
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "EC2 Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 39
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "nullifySparse": false,
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard='AWS EC2 Cost Analytics', user='1' */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonEC2'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-30d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS EC2 Cost Analytics",
                  "uid": "9b56cae1-1f5c-4a41-93fb-d7b880a48a57",
                  "version": 23
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/Databases/AWS_RDS_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/Databases/AWS_RDS_Cost_Analytics.json <<'EOF'
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 32,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_rds_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_rds_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_rds_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY date\nORDER BY date",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily RDS Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\nGROUP BY region\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 9
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 19
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 20
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 20
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 20
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 31
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 31
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "RDS Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 31
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS RDS Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonRDS'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-30d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS RDS Cost Analytics",
                  "uid": "45e8963c-1cef-4504-9060-3ab5a37f1fec",
                  "version": 7
                }
                
EOF
              mkdir -p $(dirname /dashboards/Uniteconpro/Networking/AWS_VPC_Cost_Analytics.json)
              cat > /dashboards/Uniteconpro/Networking/AWS_VPC_Cost_Analytics.json <<'EOF'
                
                {
                  "annotations": {
                    "list": [
                      {
                        "builtIn": 1,
                        "datasource": {},
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                      }
                    ]
                  },
                  "editable": true,
                  "fiscalYearStartMonth": 0,
                  "graphTooltip": 1,
                  "id": 30,
                  "links": [],
                  "panels": [
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "thresholds"
                          },
                          "custom": {
                            "axisBorderShow": true,
                            "axisCenteredZero": false,
                            "axisColorMode": "text",
                            "axisLabel": "",
                            "axisPlacement": "auto",
                            "barAlignment": 0,
                            "barWidthFactor": 0.6,
                            "drawStyle": "line",
                            "fillOpacity": 16,
                            "gradientMode": "scheme",
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            },
                            "insertNulls": false,
                            "lineInterpolation": "smooth",
                            "lineStyle": {
                              "fill": "solid"
                            },
                            "lineWidth": 3,
                            "pointSize": 8,
                            "scaleDistribution": {
                              "type": "linear"
                            },
                            "showPoints": "always",
                            "spanNulls": true,
                            "stacking": {
                              "group": "A",
                              "mode": "none"
                            },
                            "thresholdsStyle": {
                              "mode": "dashed"
                            }
                          },
                          "mappings": [],
                          "thresholds": {
                            "mode": "absolute",
                            "steps": [
                              {
                                "color": "green"
                              },
                              {
                                "color": "red",
                                "value": 80
                              }
                            ]
                          },
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 0
                      },
                      "id": 1,
                      "options": {
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "timezone": [
                          "browser"
                        ],
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "multi",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_vpc_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY date\nORDER BY date\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_vpc_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY date\nORDER BY date",
                          "rawSql": "SELECT\n  toDate(usage_start_ts) AS date,\n  round(sum(cost_blended), 2) AS total_vpc_cost,\n  min(usage_start_ts) as min_ts,\n  max(usage_start_ts) as max_ts\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY date\nORDER BY date",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Daily VPC Cost Trend",
                      "transparent": true,
                      "type": "timeseries"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 8
                      },
                      "id": 5,
                      "panels": [],
                      "title": "High-Level Cost View ",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC cost on the basis of account ids",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "green",
                            "mode": "fixed"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 8,
                        "x": 0,
                        "y": 9
                      },
                      "id": 9,
                      "options": {
                        "displayLabels": [
                          "value"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": true,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "sum"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY account_id\nORDER BY total_cost DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  account_id,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY account_id\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  concat('Account ID: ', toString(account_id)) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Account ID",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "Cost Comparison Across Regions",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 8,
                        "x": 8,
                        "y": 9
                      },
                      "id": 2,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY region\nORDER BY value DESC\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY region\nORDER BY value DESC",
                          "rawSql": "SELECT\n  region AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\nGROUP BY region\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Region",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC cost on the basis of Availability Zones",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "mappings": []
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 9,
                        "w": 8,
                        "x": 16,
                        "y": 9
                      },
                      "id": 22,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "bottom",
                          "showLegend": false
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "rawSql": "SELECT\n  availability_zone AS metric,\n  round(sum(cost_blended), 2) AS total_cost\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(availability_zone) != ''\nGROUP BY metric\nORDER BY total_cost DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Availability Zones",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "collapsed": false,
                      "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 18
                      },
                      "id": 18,
                      "panels": [],
                      "title": "Instance Cost Insights",
                      "type": "row"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC cost on the basis of Instance family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": true,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 0,
                        "y": 19
                      },
                      "id": 10,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "calcs": [],
                          "displayMode": "table",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": false,
                          "mode": "single",
                          "sort": "none"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_family IS NOT NULL\n  AND trim(instance_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC cost on the basis of Instance Type Family",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 8,
                        "y": 19
                      },
                      "id": 20,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type_family) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_type_family IS NOT NULL\n  AND trim(instance_type_family) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type Family",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC cost on the basis of Instance Type",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 11,
                        "w": 8,
                        "x": 16,
                        "y": 19
                      },
                      "id": 19,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND instance_type IS NOT NULL\n  AND trim(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Type",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC cost on the basis of Pricing Model ",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 0,
                        "y": 30
                      },
                      "id": 21,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trim(pricing_model) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trim(pricing_model) != ''\n  AND pricing_model IS NOT NULL\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Pricing Model",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC Instance Cost on Basis of Spot pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [
                            {
                              "options": {
                                "APS1-EBS:SnapshotUsage": {
                                  "color": "light-blue",
                                  "index": 1,
                                  "text": "APS1-EBS:SnapshotUsage"
                                },
                                "APS3-BoxUsage:t2.micro": {
                                  "color": "#f4abdf",
                                  "index": 2,
                                  "text": "APS3-BoxUsage:t2.micro"
                                },
                                "APS3-BoxUsage:t2.xlarge": {
                                  "color": "purple",
                                  "index": 0,
                                  "text": "APS3-BoxUsage:t2.xlarge"
                                }
                              },
                              "type": "value"
                            }
                          ],
                          "unit": "currencyUSD"
                        },
                        "overrides": [
                          {
                            "__systemRef": "hideSeriesFrom",
                            "matcher": {
                              "id": "byNames",
                              "options": {
                                "mode": "exclude",
                                "names": [
                                  "value"
                                ],
                                "prefix": "All except:",
                                "readOnly": true
                              }
                            },
                            "properties": [
                              {
                                "id": "custom.hideFrom",
                                "value": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 8,
                        "y": 30
                      },
                      "id": 23,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(pricing_model) = 'Spot'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of Spot ",
                      "transparent": true,
                      "type": "piechart"
                    },
                    {
                      "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "${ClickHouse}"
                      },
                      "description": "VPC Instance Cost on Basis of OnDemand pricing model",
                      "fieldConfig": {
                        "defaults": {
                          "color": {
                            "fixedColor": "#b735f8",
                            "mode": "palette-classic"
                          },
                          "custom": {
                            "hideFrom": {
                              "legend": false,
                              "tooltip": false,
                              "viz": false
                            }
                          },
                          "fieldMinMax": false,
                          "mappings": [],
                          "unit": "currencyUSD"
                        },
                        "overrides": []
                      },
                      "gridPos": {
                        "h": 10,
                        "w": 8,
                        "x": 16,
                        "y": 30
                      },
                      "id": 24,
                      "options": {
                        "displayLabels": [
                          "name"
                        ],
                        "legend": {
                          "displayMode": "list",
                          "placement": "right",
                          "showLegend": false,
                          "values": [
                            "value",
                            "percent"
                          ]
                        },
                        "pieType": "pie",
                        "reduceOptions": {
                          "calcs": [
                            "lastNotNull"
                          ],
                          "fields": "/^value$/",
                          "limit": 70,
                          "values": true
                        },
                        "tooltip": {
                          "hideZeros": true,
                          "maxHeight": 500,
                          "maxWidth": 380,
                          "mode": "multi",
                          "sort": "desc"
                        }
                      },
                      "pluginVersion": "11.6.1",
                      "targets": [
                        {
                          "adHocFilters": [],
                          "adHocValuesQuery": "",
                          "add_metadata": true,
                          "contextWindowSize": "10",
                          "database": "cost",
                          "datasource": {
                            "type": "vertamedia-clickhouse-datasource",
                            "uid": "${ClickHouse}"
                          },
                          "dateTimeColDataType": "usage_start_ts",
                          "dateTimeType": "DATETIME",
                          "editorMode": "sql",
                          "editorType": "sql",
                          "extrapolate": true,
                          "format": 1,
                          "formattedQuery": "SELECT $timeSeries as t, count() FROM $table WHERE $timeFilter GROUP BY t ORDER BY t",
                          "interval": "",
                          "intervalFactor": 1,
                          "meta": {
                            "builderOptions": {
                              "columns": [],
                              "database": "",
                              "limit": 1000,
                              "mode": "list",
                              "queryType": "table",
                              "table": ""
                            }
                          },
                          "pluginVersion": "4.10.1",
                          "query": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC\n\n\n\n\n",
                          "queryType": "table",
                          "rawQuery": "/* grafana dashboard=AWS VPC Cost Analytics, user=1 */\nSELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "rawSql": "SELECT\n  trimBoth(instance_type) AS metric,\n  round(sum(cost_blended), 2) AS value\nFROM cost.service_costs\nWHERE product_code = 'AmazonVPC'\n  AND trimBoth(pricing_model) = 'OnDemand'\n  AND trimBoth(instance_type) != ''\nGROUP BY metric\nORDER BY value DESC",
                          "refId": "A",
                          "round": "0s",
                          "skip_comments": true,
                          "table": "service_costs",
                          "useWindowFuncForMacros": true
                        }
                      ],
                      "title": "Instance Cost on Basis of On Demand ",
                      "transparent": true,
                      "type": "piechart"
                    }
                  ],
                  "preload": true,
                  "schemaVersion": 41,
                  "tags": [
                    "aws ",
                    "cost",
                    "analytics"
                  ],
                  "templating": {
                    "list": [
                      {
                        "current": {
                          "text": [
                            "ClickHouse"
                          ],
                          "value": [
                            "beqicd9lqxgjka"
                          ]
                        },
                        "multi": true,
                        "name": "ClickHouse",
                        "options": [],
                        "query": "grafana-clickhouse-datasource",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                      }
                    ]
                  },
                  "time": {
                    "from": "now-7d",
                    "to": "now"
                  },
                  "timepicker": {},
                  "timezone": "browser",
                  "title": "AWS VPC Cost Analytics",
                  "uid": "61aa4ae8-25a5-4130-8f35-560e9145ff46",
                  "version": 10
                }
                
EOF

              echo "ðŸ” Reading Grafana credentials..."
              ADMIN_PASSWORD=$(cat /grafana-secret/admin-password)
              AUTH_HEADER="Authorization: Basic $(echo -n 'admin:${ADMIN_PASSWORD}' | base64 -w0)"
              JSON_HEADER="Content-Type: application/json"
              GRAFANA_URL="http://grafana.monitoring.svc.cluster.local"
              LOCAL_ROOT="/dashboards"
              OVERWRITE="true"

              declare -A UIDMAP
              UIDMAP["."]=""

              urlencode() {
                jq -rn --arg v "$1" '$v|@uri'
              }

              search_folder_uids() {
                curl -s -H "$AUTH_HEADER" "${GRAFANA_URL}/api/search?type=dash-folder&query=$(urlencode "$1")" | jq -r '.[].uid'
              }

              get_parent_uid() {
                curl -s -H "$AUTH_HEADER" "${GRAFANA_URL}/api/folders/$1" | jq -r '.parentUid // empty'
              }

              create_folder() {
                local title="$1" parent_uid="$2"
                for uid in $(search_folder_uids "$title"); do
                  if [[ "$(get_parent_uid "$uid")" == "$parent_uid" ]]; then
                    echo "$uid"
                    return
                  fi
                done
                local new_uid=$(uuidgen | tr '[:upper:]' '[:lower:]' | cut -c1-12)
                local payload_json
                if [[ -n "$parent_uid" ]]; then
                  payload_json=$(jq -n --arg t "$title" --arg u "$new_uid" --arg p "$parent_uid" '{title:$t,uid:$u,parentUid:$p}')
                else
                  payload_json=$(jq -n --arg t "$title" --arg u "$new_uid" '{title:$t,uid:$u}')
                fi
                resp=$(curl -s -X POST "$GRAFANA_URL/api/folders" -H "$AUTH_HEADER" -H "$JSON_HEADER" -d "$payload_json")
                uid=$(echo "$resp" | jq -r '.uid // empty')
                if [[ -z "$uid" ]]; then
                  echo "âŒ Failed to create folder '$title' - $resp" >&2
                  exit 1
                fi
                echo "$uid"
              }

              import_dashboard() {
                local file="$1" folder_uid="$2"
                local temp_file=$(mktemp)
                jq '.id=null' "$file" > "$temp_file"
                local payload_json=$(jq -n --argjson db "$(cat "$temp_file")" --arg uid "$folder_uid" --argjson ow "$OVERWRITE" '{dashboard:$db,folderUid:$uid,overwrite:$ow}')
                rm "$temp_file"
                for i in {1..3}; do
                  http_code=$(echo "$payload_json" | curl -s -o /dev/null -w '%{http_code}' -X POST -H "$AUTH_HEADER" -H "$JSON_HEADER" -d @- "$GRAFANA_URL/api/dashboards/db")
                  if [[ "$http_code" == "200" ]]; then
                    echo "âœ… Imported ${file#$LOCAL_ROOT/}"
                    return
                  fi
                  sleep 5
                done
                echo "âŒ Failed to import dashboard ($file)" >&2
                exit 1
              }

              echo "ðŸ“¥ Starting dashboard processing..."
              cd "$LOCAL_ROOT"
              find . -type d | sort | while read -r rel_dir; do
                [[ "$rel_dir" == "." ]] && continue
                title=$(basename "$rel_dir")
                parent_path=$(dirname "$rel_dir")
                parent_uid="${UIDMAP[$parent_path]:-}"
                uid=$(create_folder "$title" "$parent_uid")
                UIDMAP["$rel_dir"]="$uid"
                echo "ðŸ“ Folder '${rel_dir}' â†’ uid=$uid"
                find "$LOCAL_ROOT/$rel_dir" -maxdepth 1 -name '*.json' -type f | while read -r json; do
                  import_dashboard "$json" "$uid"
                done
              done

              echo "âœ… All dashboards processed successfully"
          volumeMounts:
            - name: grafana-secret
              mountPath: /grafana-secret
              readOnly: true
      volumes:
        - name: grafana-secret
          secret:
            secretName: grafana
